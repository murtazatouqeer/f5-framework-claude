# stacks/backend/laravel/module.yaml
name: laravel
display_name: Laravel
description: |
  PHP framework for web artisans with expressive, elegant syntax.
  Full-featured with authentication, routing, sessions, caching built-in.

category: backend
language: php
runtime: php
version: 2.0.0
type: tech-stack

extends:
  - backend

version_support:
  minimum: "10.0"
  recommended: "11.0"
  php: ">=8.2"

core_concepts:
  - eloquent: "ActiveRecord ORM"
  - blade: "Templating engine"
  - artisan: "CLI tool"
  - middleware: "HTTP filtering"
  - service_container: "Dependency injection"
  - facades: "Static interface to services"
  - service_providers: "Application bootstrapping"
  - events: "Event-driven architecture"

architecture_patterns:
  - mvc:
      description: "Model-View-Controller"
      use_when: "Simple applications"
  - service_layer:
      description: "Business logic in services"
      use_when: "Complex business logic"
  - repository_pattern:
      description: "Data access abstraction"
      use_when: "Testability, multiple data sources"
  - domain_driven:
      description: "DDD with Laravel"
      use_when: "Complex domains"

capabilities:
  language:
    - php
  framework:
    - laravel
  features:
    - eloquent-orm
    - blade-templates
    - artisan-cli
    - queues
    - events
    - middleware
    - broadcasting
    - task-scheduling
    - notifications
    - file-storage
  database:
    - mysql
    - postgresql
    - sqlite
    - sqlserver
  testing:
    - phpunit
    - pest
    - dusk

database_options:
  - eloquent:
      description: "Laravel's ActiveRecord ORM"
      best_for: "Most use cases"
  - query_builder:
      description: "Fluent query building"
      best_for: "Complex queries"

testing_stack:
  unit: phpunit
  feature: phpunit
  browser: dusk
  factories: eloquent_factories

common_packages:
  core:
    - "laravel/framework"
    - "laravel/sanctum"
    - "laravel/horizon"
  api:
    - "spatie/laravel-query-builder"
    - "spatie/laravel-data"
  auth:
    - "laravel/sanctum"
    - "tymon/jwt-auth"
  utilities:
    - "spatie/laravel-permission"
    - "spatie/laravel-medialibrary"
    - "spatie/laravel-activitylog"
  testing:
    - "pestphp/pest"
    - "mockery/mockery"

project_structure:
  recommended: |
    app/
    ├── Console/
    ├── Exceptions/
    ├── Http/
    │   ├── Controllers/
    │   │   └── Api/
    │   │       └── V1/
    │   ├── Middleware/
    │   ├── Requests/
    │   └── Resources/
    ├── Models/
    ├── Policies/
    ├── Providers/
    ├── Repositories/
    ├── Services/
    └── Rules/
    database/
    ├── factories/
    ├── migrations/
    └── seeders/
    routes/
    ├── api.php
    └── web.php
    tests/
    ├── Feature/
    └── Unit/

agents:
  - id: laravel-controller-generator
    file: .claude/agents/stacks/backend/laravel/controller-generator.md
    triggers: ["laravel controller", "api controller"]
  - id: laravel-model-generator
    file: .claude/agents/stacks/backend/laravel/model-generator.md
    triggers: ["laravel model", "eloquent model"]
  - id: laravel-resource-generator
    file: .claude/agents/stacks/backend/laravel/resource-generator.md
    triggers: ["api resource", "json resource"]
  - id: laravel-request-generator
    file: .claude/agents/stacks/backend/laravel/request-generator.md
    triggers: ["form request", "validation request"]
  - id: laravel-test-generator
    file: .claude/agents/stacks/backend/laravel/test-generator.md
    triggers: ["laravel test", "feature test", "unit test"]

templates:
  - name: laravel-controller
    path: templates/laravel-controller.md
  - name: laravel-model
    path: templates/laravel-model.md
  - name: laravel-resource
    path: templates/laravel-resource.md
  - name: laravel-request
    path: templates/laravel-request.md
  - name: laravel-service
    path: templates/laravel-service.md
  - name: laravel-repository
    path: templates/laravel-repository.md
  - name: laravel-policy
    path: templates/laravel-policy.md
  - name: laravel-migration
    path: templates/laravel-migration.md
  - name: laravel-test
    path: templates/laravel-test.md

skills:
  - name: project-structure
    path: .claude/skills/stacks/backend/laravel/architecture/project-structure.md
  - name: service-pattern
    path: .claude/skills/stacks/backend/laravel/architecture/service-pattern.md
  - name: repository-pattern
    path: .claude/skills/stacks/backend/laravel/architecture/repository-pattern.md
  - name: eloquent-patterns
    path: .claude/skills/stacks/backend/laravel/database/eloquent-patterns.md
  - name: relationships
    path: .claude/skills/stacks/backend/laravel/database/relationships.md
  - name: migrations
    path: .claude/skills/stacks/backend/laravel/database/migrations.md
  - name: query-scopes
    path: .claude/skills/stacks/backend/laravel/database/query-scopes.md
  - name: sanctum-auth
    path: .claude/skills/stacks/backend/laravel/security/sanctum-auth.md
  - name: policies
    path: .claude/skills/stacks/backend/laravel/security/policies.md
  - name: gates
    path: .claude/skills/stacks/backend/laravel/security/gates.md
  - name: form-requests
    path: .claude/skills/stacks/backend/laravel/validation/form-requests.md
  - name: custom-rules
    path: .claude/skills/stacks/backend/laravel/validation/custom-rules.md
  - name: exception-handling
    path: .claude/skills/stacks/backend/laravel/error-handling/exception-handling.md
  - name: api-responses
    path: .claude/skills/stacks/backend/laravel/error-handling/api-responses.md
  - name: feature-tests
    path: .claude/skills/stacks/backend/laravel/testing/feature-tests.md
  - name: unit-tests
    path: .claude/skills/stacks/backend/laravel/testing/unit-tests.md
  - name: factories
    path: .claude/skills/stacks/backend/laravel/testing/factories.md
  - name: caching
    path: .claude/skills/stacks/backend/laravel/performance/caching.md
  - name: queues
    path: .claude/skills/stacks/backend/laravel/performance/queues.md
  - name: eager-loading
    path: .claude/skills/stacks/backend/laravel/performance/eager-loading.md

examples:
  - name: crud-api
    path: examples/crud-api/
  - name: auth-module
    path: examples/auth-module/

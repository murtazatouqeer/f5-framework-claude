name: gateway-kong
display_name: Kong API Gateway
version: 1.0.0
type: tech-stack

description: |
  Cloud-native API gateway built on Nginx with enterprise features.
  Includes plugins for authentication, rate limiting, and observability.

extends:
  - gateway

capabilities:
  features:
    - api_management
    - authentication
    - rate_limiting
    - request_transformation
    - response_transformation
    - load_balancing
    - circuit_breaker
    - service_discovery
    - plugin_ecosystem
  plugins:
    authentication:
      - key-auth
      - jwt
      - oauth2
      - basic-auth
      - hmac-auth
      - ldap-auth
    security:
      - cors
      - ip-restriction
      - bot-detection
      - acl
    traffic_control:
      - rate-limiting
      - request-size-limiting
      - request-termination
      - proxy-cache
    transformations:
      - request-transformer
      - response-transformer
      - correlation-id
    logging:
      - file-log
      - http-log
      - tcp-log
      - udp-log
      - syslog
    analytics:
      - prometheus
      - datadog
      - zipkin

agents:
  - id: kong-config-generator
    file: .claude/agents/stacks/gateway/kong/config-generator.md
    triggers: ["kong config", "kong setup", "api gateway"]

templates:
  declarative: templates/kong.yaml.md
  docker: templates/docker-compose.md
  kubernetes: templates/kong-ingress.md

configurations:
  default:
    database: postgres
    plugins:
      - name: cors
      - name: rate-limiting
        config:
          minute: 100
      - name: prometheus

  db_less:
    database: "off"
    declarative_config: /etc/kong/kong.yml

deployment_modes:
  - traditional: "Kong with PostgreSQL database"
  - db_less: "Declarative configuration without database"
  - hybrid: "Control plane and data plane separation"
  - kubernetes: "Kong Ingress Controller for K8s"

best_practices:
  - Use declarative configuration for version control
  - Implement rate limiting to protect backend services
  - Enable JWT or OAuth2 for API authentication
  - Configure health checks for upstream services
  - Use correlation IDs for distributed tracing
  - Monitor with Prometheus and Grafana
  - Implement circuit breaker patterns

name: gateway-nginx
display_name: Nginx Gateway
version: 1.0.0
type: tech-stack

description: |
  High-performance API gateway and reverse proxy using Nginx.
  Includes load balancing, SSL termination, and rate limiting.

extends:
  - gateway

capabilities:
  features:
    - reverse_proxy
    - load_balancing
    - ssl_termination
    - rate_limiting
    - caching
    - compression
    - websocket_proxy
    - static_file_serving
  protocols:
    - http
    - https
    - http2
    - websocket
  load_balancing:
    - round_robin
    - least_connections
    - ip_hash
    - weighted

agents:
  - id: nginx-config-generator
    file: .claude/agents/stacks/gateway/nginx/config-generator.md
    triggers: ["nginx config", "nginx setup"]

templates:
  config: templates/nginx.conf.md
  ssl: templates/ssl-config.md
  proxy: templates/proxy-config.md

configurations:
  default:
    worker_processes: auto
    worker_connections: 1024
    keepalive_timeout: 65
    gzip: on
    gzip_types:
      - text/plain
      - text/css
      - application/json
      - application/javascript

  high_performance:
    worker_processes: auto
    worker_connections: 4096
    keepalive_timeout: 30
    gzip: on
    sendfile: on
    tcp_nopush: on
    tcp_nodelay: on

best_practices:
  - Use upstream blocks for backend services
  - Enable gzip compression for text content
  - Configure appropriate buffer sizes
  - Set up health checks for upstreams
  - Use SSL/TLS with modern ciphers
  - Implement rate limiting for API endpoints
  - Configure proper logging for monitoring

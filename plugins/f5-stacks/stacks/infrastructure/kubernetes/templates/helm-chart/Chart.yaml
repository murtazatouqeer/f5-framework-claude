# Helm Chart Template - Chart.yaml
# F5 Framework - Infrastructure Stack
#
# Variables:
#   {{chart_name}}       - Chart name
#   {{chart_version}}    - Chart version (SemVer)
#   {{app_version}}      - Application version
#   {{description}}      - Chart description
#   {{maintainer_name}}  - Maintainer name
#   {{maintainer_email}} - Maintainer email

apiVersion: v2
name: {{chart_name | default: "myapp"}}
description: {{description | default: "A Helm chart for Kubernetes"}}
type: application

# Chart version (SemVer 2)
version: {{chart_version | default: "0.1.0"}}

# Application version
appVersion: "{{app_version | default: 1.0.0}}"

# Kubernetes version requirements
kubeVersion: ">=1.26.0-0"

# Chart maintainers
maintainers:
  - name: {{maintainer_name | default: "F5 Framework"}}
    email: {{maintainer_email | default: "support@example.com"}}
    url: {{maintainer_url}}

# Keywords for search
keywords:
  - {{chart_name | default: "myapp"}}
  - f5-framework
  - kubernetes
  {{keywords}}

# Chart home page
home: {{home_url | default: "https://github.com/example/myapp"}}

# Source code repository
sources:
  - {{source_url | default: "https://github.com/example/myapp"}}

# Chart icon
icon: {{icon_url}}

# Annotations
annotations:
  artifacthub.io/prerelease: "{{prerelease | default: false}}"
  artifacthub.io/containsSecurityUpdates: "{{security_updates | default: false}}"
  artifacthub.io/license: {{license | default: "MIT"}}
  f5.io/template: "helm-chart"
  f5.io/version: "1.0.0"

# Dependencies (managed charts)
dependencies:
  # PostgreSQL database
  {{#if postgresql_enabled}}
  - name: postgresql
    version: "{{postgresql_version | default: 12.x.x}}"
    repository: "https://charts.bitnami.com/bitnami"
    condition: postgresql.enabled
  {{/if}}

  # Redis cache
  {{#if redis_enabled}}
  - name: redis
    version: "{{redis_version | default: 17.x.x}}"
    repository: "https://charts.bitnami.com/bitnami"
    condition: redis.enabled
  {{/if}}

  # Common library
  {{#if common_enabled}}
  - name: common
    version: "{{common_version | default: 2.x.x}}"
    repository: "https://charts.bitnami.com/bitnami"
  {{/if}}

  # Custom dependencies
  {{dependencies}}

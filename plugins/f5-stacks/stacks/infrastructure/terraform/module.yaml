name: terraform
display_name: Terraform
description: |
  Infrastructure as Code tool for building, changing, and versioning
  infrastructure safely and efficiently across cloud providers.

category: infrastructure
type: iac

version_support:
  minimum: "1.6"
  recommended: "1.7"

core_concepts:
  - providers: "Cloud/service integrations"
  - resources: "Infrastructure components"
  - data_sources: "Query existing resources"
  - modules: "Reusable configurations"
  - state: "Infrastructure state tracking"
  - variables: "Input parameters"
  - outputs: "Export values"
  - workspaces: "Environment isolation"

workflow:
  - init: "Initialize working directory"
  - plan: "Preview changes"
  - apply: "Apply changes"
  - destroy: "Remove infrastructure"

providers:
  - aws:
      description: "Amazon Web Services"
      resources: [vpc, ec2, rds, s3, iam, eks, lambda, ecs, cloudfront, route53]
  - google:
      description: "Google Cloud Platform"
      resources: [network, compute, sql, gcs, gke, cloudrun]
  - azurerm:
      description: "Microsoft Azure"
      resources: [vnet, vm, sql, storage, aks, functions]
  - kubernetes:
      description: "Kubernetes resources"
  - helm:
      description: "Helm chart releases"

state_backends:
  - s3: "AWS S3 with DynamoDB locking"
  - gcs: "Google Cloud Storage"
  - azurerm: "Azure Blob Storage"
  - terraform_cloud: "HashiCorp Terraform Cloud"
  - consul: "HashiCorp Consul"
  - pg: "PostgreSQL database"

module_sources:
  - registry: "Terraform Registry"
  - github: "GitHub repositories"
  - s3: "S3 bucket"
  - gcs: "GCS bucket"
  - local: "Local filesystem"

best_practices:
  - remote_state: "Always use remote state in team environments"
  - state_locking: "Enable state locking for concurrent access"
  - modules: "Use modules for reusability and organization"
  - variables: "Parameterize configurations for flexibility"
  - validation: "Validate inputs with custom rules"
  - formatting: "Use terraform fmt for consistent style"
  - security: "Scan for misconfigurations with checkov/tfsec"
  - versioning: "Pin provider and module versions"
  - workspaces: "Use workspaces or directories for environments"
  - sensitive: "Mark sensitive outputs and variables"

tools:
  - terragrunt: "Terraform wrapper for DRY configs"
  - tflint: "Terraform linter"
  - checkov: "Security and compliance scanner"
  - tfsec: "Security scanner"
  - infracost: "Cost estimation"
  - atlantis: "PR automation"
  - terraform-docs: "Documentation generator"
  - pre-commit: "Git hooks for validation"

file_extensions:
  - ".tf"
  - ".tfvars"
  - ".tfstate"
  - ".tfplan"

skills:
  - name: terraform-basics
    path: .claude/skills/stacks/infrastructure/terraform/fundamentals/terraform-basics.md
  - name: hcl-syntax
    path: .claude/skills/stacks/infrastructure/terraform/fundamentals/hcl-syntax.md
  - name: providers
    path: .claude/skills/stacks/infrastructure/terraform/fundamentals/providers.md
  - name: state-management
    path: .claude/skills/stacks/infrastructure/terraform/fundamentals/state-management.md
  - name: resource-basics
    path: .claude/skills/stacks/infrastructure/terraform/resources/resource-basics.md
  - name: data-sources
    path: .claude/skills/stacks/infrastructure/terraform/resources/data-sources.md
  - name: dependencies
    path: .claude/skills/stacks/infrastructure/terraform/resources/dependencies.md
  - name: lifecycle
    path: .claude/skills/stacks/infrastructure/terraform/resources/lifecycle.md
  - name: module-basics
    path: .claude/skills/stacks/infrastructure/terraform/modules/module-basics.md
  - name: module-composition
    path: .claude/skills/stacks/infrastructure/terraform/modules/module-composition.md
  - name: module-registry
    path: .claude/skills/stacks/infrastructure/terraform/modules/module-registry.md
  - name: module-versioning
    path: .claude/skills/stacks/infrastructure/terraform/modules/module-versioning.md
  - name: input-variables
    path: .claude/skills/stacks/infrastructure/terraform/variables/input-variables.md
  - name: output-values
    path: .claude/skills/stacks/infrastructure/terraform/variables/output-values.md
  - name: locals
    path: .claude/skills/stacks/infrastructure/terraform/variables/locals.md
  - name: validation
    path: .claude/skills/stacks/infrastructure/terraform/variables/validation.md
  - name: remote-state
    path: .claude/skills/stacks/infrastructure/terraform/state/remote-state.md
  - name: state-locking
    path: .claude/skills/stacks/infrastructure/terraform/state/state-locking.md
  - name: workspaces
    path: .claude/skills/stacks/infrastructure/terraform/state/workspaces.md
  - name: import-migration
    path: .claude/skills/stacks/infrastructure/terraform/state/import-migration.md
  - name: aws-vpc-networking
    path: .claude/skills/stacks/infrastructure/terraform/aws/vpc-networking.md
  - name: aws-ec2-compute
    path: .claude/skills/stacks/infrastructure/terraform/aws/ec2-compute.md
  - name: aws-rds-databases
    path: .claude/skills/stacks/infrastructure/terraform/aws/rds-databases.md
  - name: aws-s3-storage
    path: .claude/skills/stacks/infrastructure/terraform/aws/s3-storage.md
  - name: aws-iam-security
    path: .claude/skills/stacks/infrastructure/terraform/aws/iam-security.md
  - name: aws-ecs-containers
    path: .claude/skills/stacks/infrastructure/terraform/aws/ecs-containers.md
  - name: aws-eks-kubernetes
    path: .claude/skills/stacks/infrastructure/terraform/aws/eks-kubernetes.md
  - name: gcp-networking
    path: .claude/skills/stacks/infrastructure/terraform/gcp/networking.md
  - name: gcp-compute
    path: .claude/skills/stacks/infrastructure/terraform/gcp/compute.md
  - name: gcp-gke
    path: .claude/skills/stacks/infrastructure/terraform/gcp/gke.md
  - name: azure-networking
    path: .claude/skills/stacks/infrastructure/terraform/azure/networking.md
  - name: azure-compute
    path: .claude/skills/stacks/infrastructure/terraform/azure/compute.md
  - name: azure-aks
    path: .claude/skills/stacks/infrastructure/terraform/azure/aks.md
  - name: code-organization
    path: .claude/skills/stacks/infrastructure/terraform/best-practices/code-organization.md
  - name: naming-conventions
    path: .claude/skills/stacks/infrastructure/terraform/best-practices/naming-conventions.md
  - name: security
    path: .claude/skills/stacks/infrastructure/terraform/best-practices/security.md
  - name: testing
    path: .claude/skills/stacks/infrastructure/terraform/best-practices/testing.md

templates:
  - name: tf-module
    path: templates/tf-module.md
  - name: tf-vpc
    path: templates/tf-vpc.md
  - name: tf-eks
    path: templates/tf-eks.md
  - name: tf-rds
    path: templates/tf-rds.md
  - name: tf-s3
    path: templates/tf-s3.md
  - name: tf-iam
    path: templates/tf-iam.md
  - name: tf-backend
    path: templates/tf-backend.md

agents:
  - name: module-generator
    path: .claude/agents/stacks/infrastructure/terraform/module-generator.md
  - name: resource-generator
    path: .claude/agents/stacks/infrastructure/terraform/resource-generator.md
  - name: state-manager
    path: .claude/agents/stacks/infrastructure/terraform/state-manager.md
  - name: security-scanner
    path: .claude/agents/stacks/infrastructure/terraform/security-scanner.md
  - name: cost-estimator
    path: .claude/agents/stacks/infrastructure/terraform/cost-estimator.md

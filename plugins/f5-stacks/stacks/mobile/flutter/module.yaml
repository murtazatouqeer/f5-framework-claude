name: flutter
display_name: Flutter
description: |
  Google's UI toolkit for building natively compiled applications
  for mobile, web, and desktop from a single codebase.

category: mobile
language: dart
runtime: flutter

version_support:
  minimum: "3.16"
  recommended: "3.19"
  dart: ">=3.2"

core_concepts:
  - widgets: "Everything is a widget"
  - composition: "Compose small widgets into complex UIs"
  - reactive: "UI rebuilds when state changes"
  - declarative: "Describe what the UI should look like"
  - hot_reload: "Instant UI updates during development"
  - platform_channels: "Native platform integration"

architecture_patterns:
  - clean_architecture:
      description: "Domain, Data, Presentation layers"
      use_when: "Large enterprise apps"
  - feature_first:
      description: "Organize by feature"
      use_when: "Medium to large apps"
  - mvvm:
      description: "Model-View-ViewModel"
      use_when: "Simple to medium apps"

state_management:
  - bloc:
      description: "Business Logic Component"
      best_for: "Complex state, large teams"
  - riverpod:
      description: "Reactive caching and data-binding"
      best_for: "Modern Flutter apps"
  - provider:
      description: "Simple dependency injection"
      best_for: "Simple to medium complexity"
  - getx:
      description: "Lightweight state management"
      best_for: "Rapid development"

testing_stack:
  unit: flutter_test
  widget: flutter_test
  integration: integration_test
  mocking: mockito

common_packages:
  core:
    - "flutter_bloc"
    - "flutter_riverpod"
    - "go_router"
    - "freezed"
    - "json_serializable"
  networking:
    - "dio"
    - "retrofit"
    - "connectivity_plus"
  storage:
    - "hive"
    - "drift"
    - "shared_preferences"
    - "flutter_secure_storage"
  ui:
    - "flutter_screenutil"
    - "cached_network_image"
    - "shimmer"
    - "flutter_svg"
  utilities:
    - "intl"
    - "logger"
    - "get_it"
    - "injectable"
  testing:
    - "mockito"
    - "bloc_test"
    - "mocktail"

project_structure:
  recommended: |
    lib/
    ├── app/                       # App configuration
    │   ├── app.dart
    │   ├── router.dart
    │   └── di.dart
    ├── core/                      # Core utilities
    │   ├── constants/
    │   ├── errors/
    │   ├── extensions/
    │   ├── network/
    │   ├── storage/
    │   └── utils/
    ├── features/                  # Feature modules
    │   └── {feature}/
    │       ├── data/
    │       │   ├── datasources/
    │       │   ├── models/
    │       │   └── repositories/
    │       ├── domain/
    │       │   ├── entities/
    │       │   ├── repositories/
    │       │   └── usecases/
    │       └── presentation/
    │           ├── bloc/
    │           ├── pages/
    │           └── widgets/
    ├── shared/                    # Shared components
    │   ├── widgets/
    │   └── theme/
    └── main.dart
    test/
    ├── unit/
    ├── widget/
    └── integration/

agents:
  - id: screen-generator
    file: .claude/agents/stacks/mobile/flutter/screen-generator.md
    triggers:
      - "flutter screen"
      - "flutter page"
      - "create screen"
  - id: widget-generator
    file: .claude/agents/stacks/mobile/flutter/widget-generator.md
    triggers:
      - "flutter widget"
      - "custom widget"
  - id: bloc-generator
    file: .claude/agents/stacks/mobile/flutter/bloc-generator.md
    triggers:
      - "flutter bloc"
      - "create bloc"
      - "cubit"
  - id: repository-generator
    file: .claude/agents/stacks/mobile/flutter/repository-generator.md
    triggers:
      - "flutter repository"
      - "data layer"
  - id: test-generator
    file: .claude/agents/stacks/mobile/flutter/test-generator.md
    triggers:
      - "flutter test"
      - "widget test"
      - "bloc test"

skills:
  - name: project-structure
    path: .claude/skills/stacks/mobile/flutter/architecture/project-structure.md
  - name: clean-architecture
    path: .claude/skills/stacks/mobile/flutter/architecture/clean-architecture.md
  - name: feature-first
    path: .claude/skills/stacks/mobile/flutter/architecture/feature-first.md
  - name: stateless-widgets
    path: .claude/skills/stacks/mobile/flutter/widgets/stateless-widgets.md
  - name: stateful-widgets
    path: .claude/skills/stacks/mobile/flutter/widgets/stateful-widgets.md
  - name: custom-widgets
    path: .claude/skills/stacks/mobile/flutter/widgets/custom-widgets.md
  - name: widget-composition
    path: .claude/skills/stacks/mobile/flutter/widgets/widget-composition.md
  - name: bloc-pattern
    path: .claude/skills/stacks/mobile/flutter/state-management/bloc-pattern.md
  - name: riverpod
    path: .claude/skills/stacks/mobile/flutter/state-management/riverpod.md
  - name: provider
    path: .claude/skills/stacks/mobile/flutter/state-management/provider.md
  - name: state-notifier
    path: .claude/skills/stacks/mobile/flutter/state-management/state-notifier.md
  - name: navigator-2
    path: .claude/skills/stacks/mobile/flutter/navigation/navigator-2.md
  - name: go-router
    path: .claude/skills/stacks/mobile/flutter/navigation/go-router.md
  - name: deep-linking
    path: .claude/skills/stacks/mobile/flutter/navigation/deep-linking.md
  - name: dio-client
    path: .claude/skills/stacks/mobile/flutter/networking/dio-client.md
  - name: retrofit
    path: .claude/skills/stacks/mobile/flutter/networking/retrofit.md
  - name: error-handling
    path: .claude/skills/stacks/mobile/flutter/networking/error-handling.md
  - name: shared-preferences
    path: .claude/skills/stacks/mobile/flutter/storage/shared-preferences.md
  - name: hive
    path: .claude/skills/stacks/mobile/flutter/storage/hive.md
  - name: drift
    path: .claude/skills/stacks/mobile/flutter/storage/drift.md
  - name: secure-storage
    path: .claude/skills/stacks/mobile/flutter/storage/secure-storage.md
  - name: form-validation
    path: .claude/skills/stacks/mobile/flutter/forms/form-validation.md
  - name: flutter-form-builder
    path: .claude/skills/stacks/mobile/flutter/forms/flutter-form-builder.md
  - name: unit-testing
    path: .claude/skills/stacks/mobile/flutter/testing/unit-testing.md
  - name: widget-testing
    path: .claude/skills/stacks/mobile/flutter/testing/widget-testing.md
  - name: integration-testing
    path: .claude/skills/stacks/mobile/flutter/testing/integration-testing.md
  - name: optimization
    path: .claude/skills/stacks/mobile/flutter/performance/optimization.md
  - name: lazy-loading
    path: .claude/skills/stacks/mobile/flutter/performance/lazy-loading.md
  - name: image-caching
    path: .claude/skills/stacks/mobile/flutter/performance/image-caching.md

templates:
  - name: flutter-screen
    path: templates/flutter-screen.md
  - name: flutter-widget
    path: templates/flutter-widget.md
  - name: flutter-bloc
    path: templates/flutter-bloc.md
  - name: flutter-repository
    path: templates/flutter-repository.md
  - name: flutter-model
    path: templates/flutter-model.md
  - name: flutter-service
    path: templates/flutter-service.md
  - name: flutter-test
    path: templates/flutter-test.md

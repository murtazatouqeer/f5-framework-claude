# =============================================================================
# DATA RETENTION RULES - EHR Sub-domain
# Quy tắc Lưu trữ Dữ liệu
# =============================================================================
# Compliance: HIPAA, State Medical Records Laws, CMS CoP
# =============================================================================

name: DataRetentionRules
display_name: Data Retention Rules / Quy tắc Lưu trữ Dữ liệu
version: "1.0"
domain: healthcare
sub_domain: ehr
category: records_management

# =============================================================================
# GENERAL RETENTION REQUIREMENTS
# =============================================================================
general_retention:
  - id: DRR-GEN-001
    name: Base Medical Record Retention
    description: |
      Minimum retention period for complete medical records.
      Longer of federal, state, or organizational requirements.
    regulation: CMS CoP, State Medical Records Laws
    enforcement: mandatory
    federal_minimum:
      hospital_records: 5_years
      clinic_records: varies_by_state
    state_requirements:
      # Example: California requires 7 years from last date of service
      # Example: New York requires 6 years from discharge
      longest_applicable: true
    organizational_policy:
      minimum: 10_years_from_last_encounter
      recommended: permanent_for_electronic

  - id: DRR-GEN-002
    name: Record Retention Triggers
    description: |
      Define events that start or extend retention periods.
      Account for litigation holds and special circumstances.
    enforcement: mandatory
    triggering_events:
      adult_patient:
        from_date: last_date_of_service
        retention_period: per_policy
      minor_patient:
        from_date: age_of_majority
        additional_years: standard_retention
      deceased_patient:
        from_date: date_of_death
        retention_period: per_policy
      litigation_hold:
        from_date: notification_date
        retention_period: until_released
    extension_triggers:
      - pending_litigation
      - regulatory_investigation
      - audit_in_progress
      - research_participation

  - id: DRR-GEN-003
    name: Record Format and Accessibility
    description: |
      Maintain records in accessible format throughout retention.
      Ensure readability and integrity over time.
    enforcement: mandatory
    requirements:
      - readable: throughout_retention_period
      - accessible: within_reasonable_timeframe
      - complete: no_unauthorized_alterations
      - authenticated: original_signatures_preserved
    migration:
      - preserve_during_system_changes
      - maintain_audit_trail
      - verify_integrity_after_migration

# =============================================================================
# SPECIFIC RECORD TYPE RETENTION
# =============================================================================
specific_retention:
  - id: DRR-SPEC-001
    name: Inpatient Records
    description: |
      Hospital admission and inpatient stay records.
      Includes all clinical documentation and orders.
    retention_period:
      adult: 10_years_from_discharge
      minor: until_age_of_majority_plus_10_years
    includes:
      - admission_documentation
      - history_and_physical
      - progress_notes
      - operative_reports
      - discharge_summary
      - nursing_records
      - medication_administration_records
      - laboratory_results
      - imaging_reports
      - consent_forms

  - id: DRR-SPEC-002
    name: Outpatient Records
    description: |
      Ambulatory and clinic visit records.
      Includes all encounter documentation.
    retention_period:
      adult: 7_years_from_last_encounter
      minor: until_age_of_majority_plus_7_years
    includes:
      - visit_notes
      - orders
      - results
      - referral_correspondence
      - patient_communications

  - id: DRR-SPEC-003
    name: Emergency Department Records
    description: |
      ED visit records including triage and treatment.
      Subject to EMTALA documentation requirements.
    retention_period:
      standard: 10_years_from_visit
      minor: until_age_of_majority_plus_10_years
    includes:
      - medical_screening_exam
      - treatment_records
      - transfer_documentation
      - emtala_log

  - id: DRR-SPEC-004
    name: Surgical and Procedure Records
    description: |
      Operative reports, anesthesia records, consent.
      Implant and device tracking records.
    retention_period:
      operative_records: 10_years_minimum
      implant_records: lifetime_of_device_plus_10_years
      anesthesia_records: 10_years_from_procedure
    includes:
      - operative_report
      - anesthesia_record
      - pathology_report
      - implant_documentation
      - informed_consent

  - id: DRR-SPEC-005
    name: Laboratory Records
    description: |
      Lab test results, quality control, and specimen logs.
      CLIA requirements for laboratory records.
    regulation: CLIA 42 CFR 493
    retention_periods:
      test_results:
        pathology_cytology: 10_years
        immunohematology: 5_years
        routine_chemistry_hematology: 2_years
      quality_control: 2_years
      proficiency_testing: 2_years
      specimen_logs: 2_years
      instrument_maintenance: 2_years

  - id: DRR-SPEC-006
    name: Radiology and Imaging Records
    description: |
      Diagnostic imaging studies and reports.
      Mammography has specific retention requirements.
    retention_periods:
      general_imaging: 7_years_from_study
      mammography:
        positive: 10_years_or_life_of_patient
        negative: 10_years
        images: permanent_if_only_copy
      pediatric_imaging: until_age_of_majority_plus_7_years
    includes:
      - images_and_films
      - radiology_reports
      - comparison_prior_studies

  - id: DRR-SPEC-007
    name: Pharmacy Records
    description: |
      Prescription records and controlled substance logs.
      DEA requirements for controlled substances.
    regulation: DEA 21 CFR 1304
    retention_periods:
      prescription_records: 2_years_minimum
      controlled_substance_records: 2_years_from_date_of_entry
      controlled_substance_inventory: 2_years
      dispensing_records: per_state_law_typically_5_years
    includes:
      - prescriptions
      - dispensing_logs
      - controlled_substance_inventories
      - drug_destruction_records

  - id: DRR-SPEC-008
    name: Mental Health Records
    description: |
      Psychiatric and mental health treatment records.
      May have specific state retention requirements.
    retention_periods:
      treatment_records: 10_years_from_last_treatment
      minor: until_age_of_majority_plus_10_years
      commitment_records: permanent
    special_requirements:
      - enhanced_security
      - consent_based_disclosure
      - state_specific_rules

  - id: DRR-SPEC-009
    name: Substance Abuse Records
    description: |
      Records from substance abuse treatment programs.
      42 CFR Part 2 specific requirements.
    regulation: 42 CFR Part 2
    retention_periods:
      treatment_records: as_required_by_state_plus_federal
      typical_minimum: 6_years_from_discharge
    special_requirements:
      - highest_protection_level
      - consent_required_for_any_disclosure
      - separate_from_general_medical_record

  - id: DRR-SPEC-010
    name: Consent and Authorization Records
    description: |
      Patient consent forms and HIPAA authorizations.
      Must retain for duration of authorization validity.
    retention_periods:
      consent_to_treatment: duration_of_record_retention
      hipaa_authorization: 6_years_from_date_created
      research_consent: per_irb_requirements
      informed_consent: with_related_procedure_record

  - id: DRR-SPEC-011
    name: Billing and Claims Records
    description: |
      Financial records supporting claims.
      Fraud and abuse investigation retention.
    regulation: False Claims Act, CMS Requirements
    retention_periods:
      billing_records: 7_years_from_date_of_service
      claims_and_remittance: 7_years
      cost_reports: 5_years_after_closure
      supporting_documentation: 7_years
    includes:
      - charges
      - claims_submitted
      - remittance_advice
      - patient_statements
      - collection_records

  - id: DRR-SPEC-012
    name: Audit and Access Logs
    description: |
      Security audit trails and access logs.
      Required for breach investigation and compliance.
    regulation: HIPAA 164.312(b)
    retention_periods:
      audit_logs: 6_years
      access_logs: 6_years
      security_incident_logs: 6_years
      training_records: 6_years
    includes:
      - login_logout_events
      - phi_access_records
      - privilege_changes
      - security_incidents

# =============================================================================
# PEDIATRIC RECORD RETENTION
# =============================================================================
pediatric_retention:
  - id: DRR-PED-001
    name: Minor Patient Records
    description: |
      Records for patients under age of majority.
      Extended retention until adulthood plus standard period.
    enforcement: mandatory
    calculation:
      from_date: age_of_majority_in_state
      additional_retention: standard_retention_period
    example:
      age_of_majority: 18
      standard_retention: 7_years
      total_retention: until_age_25

  - id: DRR-PED-002
    name: Immunization Records
    description: |
      Childhood immunization records.
      Often retained permanently or until registry transfer.
    retention_period:
      minimum: until_age_28
      recommended: permanent
      registry_submission: if_available

  - id: DRR-PED-003
    name: Birth Records
    description: |
      Birth certificates and delivery records.
      May be required for legal purposes.
    retention_period:
      birth_records: permanent
      delivery_records: 21_years_minimum
    includes:
      - birth_certificate
      - apgar_scores
      - delivery_summary
      - newborn_screening

# =============================================================================
# LEGAL HOLD AND PRESERVATION
# =============================================================================
legal_hold:
  - id: DRR-HOLD-001
    name: Litigation Hold Process
    description: |
      Preserve records when litigation is anticipated or filed.
      Suspend normal destruction until hold released.
    enforcement: mandatory
    triggers:
      - litigation_filed
      - litigation_reasonably_anticipated
      - subpoena_received
      - regulatory_investigation_notice
    process:
      step_1: Receive notice of potential litigation
      step_2: Issue preservation notice to relevant custodians
      step_3: Suspend destruction of related records
      step_4: Document preservation efforts
      step_5: Maintain until hold released
    scope:
      - all_related_patient_records
      - all_related_communications
      - all_related_policies_and_procedures
      - all_related_audit_logs

  - id: DRR-HOLD-002
    name: Regulatory Investigation Preservation
    description: |
      Preserve records for regulatory investigations.
      Government investigations may have specific requirements.
    enforcement: mandatory
    applies_to:
      - ocr_hipaa_investigations
      - oig_investigations
      - cms_audits
      - state_regulatory_investigations
    duration:
      - until_investigation_closed
      - until_statute_of_limitations_expired

  - id: DRR-HOLD-003
    name: Research Record Preservation
    description: |
      Retain records for research studies per IRB requirements.
      FDA-regulated research has specific retention.
    regulation: FDA 21 CFR 11, 45 CFR 46
    retention_periods:
      irb_records: 3_years_after_completion
      fda_regulated_research: 2_years_after_marketing_or_investigation_discontinued
      informed_consent: per_irb_requirements
    includes:
      - research_data
      - consent_forms
      - protocol_documents
      - adverse_event_reports

# =============================================================================
# SECURE DESTRUCTION
# =============================================================================
secure_destruction:
  - id: DRR-DEST-001
    name: Destruction Standards
    description: |
      Secure destruction methods for PHI.
      Prevent unauthorized recovery or disclosure.
    regulation: HIPAA 164.530(c)
    enforcement: mandatory
    methods:
      paper:
        - cross_cut_shredding
        - incineration
        - pulping
      electronic:
        - secure_overwriting
        - degaussing
        - physical_destruction
      media:
        - certified_destruction
        - documented_chain_of_custody
    prohibitions:
      - recycling_without_destruction
      - disposal_in_regular_trash
      - donation_with_data_intact

  - id: DRR-DEST-002
    name: Destruction Documentation
    description: |
      Document all destruction of PHI-containing records.
      Maintain certificates of destruction.
    enforcement: mandatory
    documentation:
      - date_of_destruction
      - method_used
      - description_of_records
      - witness_or_certification
      - vendor_certificate_if_applicable
    retention_of_documentation:
      destruction_certificates: 6_years

  - id: DRR-DEST-003
    name: Vendor Destruction Requirements
    description: |
      Requirements for third-party destruction services.
      Business associate agreement required.
    enforcement: mandatory
    requirements:
      - business_associate_agreement: required
      - destruction_certification: required
      - chain_of_custody: documented
      - naid_certification: preferred
    audit:
      - periodic_vendor_audit
      - destruction_verification

# =============================================================================
# ARCHIVE AND RETRIEVAL
# =============================================================================
archive_management:
  - id: DRR-ARCH-001
    name: Archive Storage Standards
    description: |
      Standards for long-term record storage.
      Ensure accessibility and integrity.
    enforcement: mandatory
    storage_requirements:
      electronic:
        - secure_encrypted_storage
        - regular_integrity_checks
        - redundant_backups
        - migration_plan_for_obsolete_formats
      physical:
        - climate_controlled_facility
        - fire_and_flood_protection
        - access_controls
        - inventory_management

  - id: DRR-ARCH-002
    name: Record Retrieval
    description: |
      Process for retrieving archived records.
      Meet patient access and legal requirements.
    enforcement: mandatory
    retrieval_timeframes:
      active_records: immediate
      archived_records: within_3_business_days
      off_site_storage: within_5_business_days
    patient_access_requests:
      response_time: 30_days_per_hipaa
      extension: additional_30_days_if_notified

  - id: DRR-ARCH-003
    name: Format Migration
    description: |
      Migrate records to current formats as technology changes.
      Preserve authenticity and completeness.
    enforcement: mandatory
    requirements:
      - maintain_original_content
      - preserve_authentication
      - document_migration_process
      - verify_completeness
      - audit_trail_of_migration

# =============================================================================
# MONITORING AND COMPLIANCE
# =============================================================================
compliance_monitoring:
  - id: DRR-MON-001
    name: Retention Schedule Review
    description: |
      Annual review of retention schedules.
      Update for regulatory changes.
    frequency: annual
    review_includes:
      - federal_law_changes
      - state_law_changes
      - organizational_policy_changes
      - litigation_history
      - regulatory_audit_findings

  - id: DRR-MON-002
    name: Destruction Schedule Compliance
    description: |
      Monitor adherence to destruction schedules.
      Ensure timely destruction when retention expires.
    frequency: quarterly
    process:
      - identify_records_eligible_for_destruction
      - verify_no_legal_holds
      - execute_destruction
      - document_completion

  - id: DRR-MON-003
    name: Storage Inventory
    description: |
      Maintain inventory of all record storage locations.
      Track both electronic and physical records.
    frequency: annual
    inventory_includes:
      - location
      - record_types
      - date_ranges
      - volume
      - retention_status

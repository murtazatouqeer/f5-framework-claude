# Provider Use Cases
# F5 Framework v2.0 - Healthcare/Telemedicine
# Use cases for healthcare provider interactions with telehealth platform

use_cases:
  id: provider-use-cases
  name: Provider Use Cases
  name_ja: 医療従事者ユースケース
  description: Use cases for healthcare provider telehealth interactions
  domain: healthcare
  subdomain: telemedicine
  version: "1.0.0"

  actor:
    id: provider
    name: Healthcare Provider
    description: Physician, NP, PA, or other licensed healthcare provider

  use_cases:
    # Schedule Management
    - id: UC-PRV-001
      name: Set Telehealth Availability
      name_ja: 遠隔診療可能時間設定
      priority: high
      complexity: medium
      
      description: Provider configures telehealth availability schedule
      
      preconditions:
        - Provider credentialed for telehealth
        - Provider has active state licenses
        
      main_flow:
        1: Provider opens schedule management
        2: Provider selects telehealth schedule
        3: Provider sets recurring availability (days/times)
        4: Provider configures slot duration
        5: Provider sets buffer time between visits
        6: Provider specifies licensed states
        7: Provider enables/disables on-demand
        8: System saves and publishes availability
        
      configuration_options:
        - Visit duration (15, 20, 30 min)
        - Buffer between visits
        - Max patients per day
        - States served
        - Visit types offered
        - On-demand availability
        
      alternate_flows:
        A1_block_time:
          trigger: Need to block specific time
          flow:
            - Provider creates exception
            - Existing appointments notified
            
      postconditions:
        - Availability visible to scheduling system
        - Patients can book available slots
        
      related_entities: [provider_availability]

    # Waiting Room Management
    - id: UC-PRV-002
      name: View and Manage Waiting Room
      name_ja: 待合室の表示と管理
      priority: high
      complexity: low
      
      description: Provider monitors and manages virtual waiting room
      
      preconditions:
        - Provider logged in
        - Waiting room open
        
      main_flow:
        1: Provider opens waiting room dashboard
        2: Provider views patients in queue
        3: Provider sees wait times and pre-visit status
        4: Provider reviews patient summaries
        5: Provider admits next patient
        
      dashboard_elements:
        - Queue list with wait times
        - Patient pre-visit completion status
        - Device check status
        - Brief reason for visit
        - Quick chart access
        
      actions_available:
        - Admit patient
        - Send message to patient
        - Reorder queue
        - Remove from queue
        - Mark as no-show
        
      related_entities: [virtual_waiting_room]

    # Video Session
    - id: UC-PRV-003
      name: Start Video Session
      name_ja: ビデオセッション開始
      priority: critical
      complexity: medium
      
      description: Provider initiates video session with patient
      
      preconditions:
        - Patient in waiting room
        - Provider ready to see patient
        
      main_flow:
        1: Provider clicks "Admit Patient"
        2: System connects provider to video room
        3: Provider's camera/mic activated
        4: Patient connected to session
        5: Provider verifies patient identity
        6: Clinical session begins
        
      provider_interface:
        main_view: Video of patient
        sidebar:
          - Patient chart
          - Pre-visit responses
          - Vitals
          - Medications
          - Allergies
        toolbar:
          - Mute/unmute
          - Camera on/off
          - Screen share
          - Chat
          - End visit
          
      related_entities: [video_session, tele_visit]
      related_workflows: [video-consultation-workflow]

    - id: UC-PRV-004
      name: Conduct Virtual Examination
      name_ja: 仮想診察実施
      priority: critical
      complexity: high
      
      description: Provider performs appropriate clinical examination via video
      
      preconditions:
        - Active video session
        - Patient visible on camera
        
      main_flow:
        1: Provider assesses general appearance
        2: Provider directs patient positioning
        3: Provider guides patient camera use
        4: Provider performs visual examination
        5: Provider documents findings
        
      examination_techniques:
        general:
          - Overall appearance
          - Distress level
          - Consciousness/alertness
          
        directed_by_specialty:
          dermatology:
            - Request close-up images
            - Assess lesion characteristics
            - Compare to reference
          ent:
            - Throat visualization
            - External ear exam
          musculoskeletal:
            - Range of motion
            - Gait observation
          mental_health:
            - Mood assessment
            - Affect observation
            - Behavioral observation
            
      documentation:
        note: "Virtual physical exam performed via video"
        limitations: Document what could not be assessed
        
      postconditions:
        - Examination documented
        - Assessment informed

    - id: UC-PRV-005
      name: Share Screen with Patient
      name_ja: 患者と画面共有
      priority: medium
      complexity: low
      
      description: Provider shares screen to show results or educational content
      
      preconditions:
        - Active video session
        
      main_flow:
        1: Provider clicks "Share Screen"
        2: Provider selects content to share
        3: Provider acknowledges PHI warning
        4: Patient views shared screen
        5: Provider discusses content
        6: Provider stops sharing
        
      common_shares:
        - Lab results
        - Imaging studies
        - Educational materials
        - Treatment diagrams
        - Medication information
        
      related_entities: [screen_share]

    # Clinical Actions
    - id: UC-PRV-006
      name: E-Prescribe During Visit
      name_ja: 診療中の電子処方
      priority: high
      complexity: medium
      
      description: Provider creates and sends electronic prescriptions
      
      preconditions:
        - Active visit or documented assessment
        - Provider has prescribing authority
        
      main_flow:
        1: Provider opens prescribing module
        2: Provider searches for medication
        3: Provider configures prescription details
        4: System checks drug interactions
        5: System checks allergies
        6: Provider reviews warnings
        7: Provider selects pharmacy
        8: Provider signs prescription
        9: System transmits to pharmacy
        
      safety_checks:
        - Drug-drug interactions
        - Drug-allergy interactions
        - Duplicate therapy
        - Age/weight appropriateness
        - PDMP query (controlled substances)
        
      controlled_substances:
        additional_requirements:
          - EPCS compliance
          - PDMP query
          - Ryan Haight compliance
          
      related_entities: [e_prescription]
      business_rules: [BR-LIC-020, BR-LIC-021, BR-LIC-022]

    - id: UC-PRV-007
      name: Document Visit
      name_ja: 診療記録
      priority: critical
      complexity: high
      
      description: Provider completes clinical documentation
      
      preconditions:
        - Visit in progress or just completed
        
      main_flow:
        1: Provider opens documentation module
        2: Provider reviews pre-populated data
        3: Provider enters HPI narrative
        4: Provider documents examination
        5: Provider enters assessment
        6: Provider documents plan
        7: Provider adds billing codes
        8: Provider signs note
        
      documentation_aids:
        - Templates by visit type
        - Smart phrases/macros
        - Voice dictation
        - Pre-populated from questionnaire
        - AI-assisted suggestions
        
      telehealth_attestation:
        required: true
        elements:
          - Modality used
          - Consent confirmed
          - Patient location state
          - Technical issues if any
          
      postconditions:
        - Complete clinical note
        - Billing codes assigned
        - Ready for claim submission

    - id: UC-PRV-008
      name: Review Async Consultation
      name_ja: 非同期相談のレビュー
      priority: medium
      complexity: medium
      
      description: Provider reviews and responds to asynchronous consultation
      
      preconditions:
        - Async consultation assigned
        - Within response SLA
        
      main_flow:
        1: Provider opens async queue
        2: Provider selects consultation
        3: Provider reviews patient submission
        4: Provider reviews photos/attachments
        5: Provider reviews medical history
        6: Provider determines response type
        7: Provider composes response
        8: Provider prescribes if needed
        9: Provider submits response
        
      response_options:
        - Provide diagnosis and treatment
        - Request more information
        - Recommend video visit
        - Recommend in-person visit
        - Refer to specialist
        
      related_workflows: [async-consultation-workflow]

    # Remote Monitoring
    - id: UC-PRV-009
      name: Review Remote Monitoring Data
      name_ja: 遠隔監視データレビュー
      priority: medium
      complexity: medium
      
      description: Provider reviews patient remote monitoring data
      
      preconditions:
        - Patient enrolled in RPM program
        - Data available for review
        
      main_flow:
        1: Provider opens RPM dashboard
        2: Provider views patient list with alerts
        3: Provider selects patient
        4: Provider reviews trend data
        5: Provider reviews alerts/flags
        6: Provider takes action if needed
        7: Provider documents review
        
      data_visualization:
        - Trend charts
        - Normal range indicators
        - Alert highlighting
        - Comparison to targets
        
      actions:
        - Acknowledge and note
        - Adjust targets
        - Send patient message
        - Schedule visit
        - Adjust medication
        
      related_entities: [remote_monitoring_device, vital_reading]

    # Technical Issues
    - id: UC-PRV-010
      name: Handle Technical Issues
      name_ja: 技術的問題対応
      priority: high
      complexity: medium
      
      description: Provider manages technical difficulties during visit
      
      preconditions:
        - Active video session
        - Technical issue occurs
        
      scenarios:
        patient_video_fails:
          flow:
            1: Provider continues with audio
            2: Provider guides troubleshooting
            3: Provider uses chat for communication
            4: Provider documents video limitation
            
        patient_disconnects:
          flow:
            1: Provider waits for reconnection (30 sec)
            2: System attempts reconnection
            3: If fails, provider can call patient
            4: Provider decides to continue or reschedule
            
        audio_quality_poor:
          flow:
            1: Provider asks patient to check connection
            2: Suggest moving closer to router
            3: Switch to phone audio if available
            4: Reschedule if unworkable
            
        platform_outage:
          flow:
            1: Provider sees system message
            2: Provider contacts patients by phone
            3: Reschedule or convert to phone visit
            4: Document circumstances
            
      documentation:
        always_document: Technical issues and how addressed

  cross_cutting_concerns:
    licensing:
      - Verify license for patient state
      - IMLC compact status
      - Prescribing authority by state
      
    documentation_standards:
      - Same standard as in-person
      - Telehealth attestation
      - Time documentation
      
    billing_compliance:
      - Correct codes and modifiers
      - Place of service
      - Medical necessity
      
    quality:
      - Appropriate use of telehealth
      - Care escalation when needed
      - Follow-up as indicated

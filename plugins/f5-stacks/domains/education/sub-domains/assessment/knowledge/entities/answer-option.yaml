# Answer Option Entity
# F5 Framework v2.0 - Education/Assessment
# Answer choices for questions

entity:
  id: answer_option
  name: Answer Option
  name_ja: 回答選択肢
  description: Answer choices for multiple choice and similar question types
  domain: education
  subdomain: assessment
  version: "1.0.0"

  attributes:
    id:
      type: uuid
      primary_key: true
      
    question_id:
      type: uuid
      references: question
      required: true
      
    # Content
    option_text:
      type: text
      required: true
      supports_html: true
      supports_latex: true
      
    option_label:
      type: string
      max_length: 10
      description: "Label (A, B, C, D or 1, 2, 3, 4)"
      
    # Media
    media_type:
      type: enum
      values: [none, image, audio, video]
      default: none
      
    media_url:
      type: string
      format: url
      
    media_alt_text:
      type: string
      max_length: 500
      
    # Correctness
    is_correct:
      type: boolean
      default: false
      
    partial_credit_value:
      type: decimal
      precision: 5
      scale: 2
      min: 0
      max: 1
      description: Partial credit percentage (0-1)
      
    # Feedback
    feedback:
      type: text
      supports_html: true
      description: Feedback shown when this option is selected
      
    # Ordering
    display_order:
      type: integer
      default: 0
      
    fixed_position:
      type: boolean
      default: false
      description: Keep at same position even when shuffling
      
    # Statistics
    selection_count:
      type: integer
      default: 0
      
    selection_percentage:
      type: decimal
      precision: 5
      scale: 2
      computed: true
      
    # Timestamps
    created_at:
      type: datetime
      auto_set: create
      
    updated_at:
      type: datetime
      auto_set: update

  relationships:
    question:
      type: belongs_to
      entity: question
      foreign_key: question_id

  indexes:
    - columns: [question_id, display_order]
    - columns: [question_id, is_correct]

  audit:
    enabled: false

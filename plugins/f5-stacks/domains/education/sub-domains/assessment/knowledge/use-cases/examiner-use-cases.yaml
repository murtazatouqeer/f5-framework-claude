# Examiner Use Cases
# F5 Framework v2.0 - Education/Assessment
# Use cases for exam creators and graders

use_cases:
  domain: education
  subdomain: assessment
  actor: examiner
  actor_ja: 出題者
  version: "1.0.0"

  actor_description:
    role: Examiner / Question Author / Grader
    role_ja: 出題者/問題作成者/採点者
    description: |
      An individual responsible for creating exam content, managing question banks,
      grading subjective responses, and analyzing exam results.
    goals:
      - Create high-quality exam questions
      - Ensure fair and accurate assessment
      - Analyze item performance
      - Maintain question bank quality
    characteristics:
      - Subject matter expertise
      - Assessment design knowledge
      - Quality assurance focus
      - Data analysis skills

  use_case_groups:
    # ==========================================
    # Question Management
    # ==========================================
    - id: question_management
      name: Question Management
      name_ja: 問題管理
      
      use_cases:
        - id: UC-EXM-001
          name: Create Question
          name_ja: 問題作成
          description: Create a new exam question
          
          preconditions:
            - Examiner has authoring permissions
            - Question bank exists
            
          main_flow:
            - actor: Examiner
              action: Navigate to question bank
            - actor: Examiner
              action: Click create new question
            - actor: System
              action: Display question type selection
            - actor: Examiner
              action: Select question type
            - actor: System
              action: Display question editor
            - actor: Examiner
              action: Enter question text
            - actor: Examiner
              action: Add answer options (if applicable)
            - actor: Examiner
              action: Mark correct answer(s)
            - actor: Examiner
              action: Set difficulty and points
            - actor: Examiner
              action: Add explanation and feedback
            - actor: Examiner
              action: Save question
            - actor: System
              action: Validate question completeness
            - actor: System
              action: Save as draft
              
          alternative_flows:
            - id: add_media
              condition: Question needs media
              flow:
                - actor: Examiner
                  action: Upload image/audio/video
                - actor: System
                  action: Process and attach media
                  
            - id: attach_rubric
              condition: Subjective question
              flow:
                - actor: Examiner
                  action: Create or select rubric
                - actor: System
                  action: Link rubric to question
                  
          postconditions:
            - Question created in draft status
            - Question linked to bank and category
            
          business_rules:
            - QSR-001 through QSR-005 (creation validation)
            
        - id: UC-EXM-002
          name: Edit Question
          name_ja: 問題編集
          description: Edit an existing question
          
          preconditions:
            - Question exists
            - Examiner has edit permissions
            
          main_flow:
            - actor: Examiner
              action: Search/browse question bank
            - actor: Examiner
              action: Select question to edit
            - actor: System
              action: Check if question is in active exams
            - actor: System
              action: Display edit interface
            - actor: Examiner
              action: Make changes
            - actor: Examiner
              action: Save changes
            - actor: System
              action: Validate changes
            - actor: System
              action: Create version history
              
          alternative_flows:
            - id: question_in_use
              condition: Question in active exam
              flow:
                - actor: System
                  action: Display warning
                - actor: Examiner
                  action: Confirm edit or cancel
                  
          business_rules:
            - QSR-061 (cannot modify used question answers)
            
        - id: UC-EXM-003
          name: Import Questions
          name_ja: 問題インポート
          description: Import questions from external source
          
          main_flow:
            - actor: Examiner
              action: Navigate to import function
            - actor: System
              action: Display import options
            - actor: Examiner
              action: Select import format (QTI, CSV, Excel)
            - actor: Examiner
              action: Upload file
            - actor: System
              action: Parse and validate file
            - actor: System
              action: Display preview of questions
            - actor: Examiner
              action: Review and select questions to import
            - actor: Examiner
              action: Map to categories
            - actor: Examiner
              action: Confirm import
            - actor: System
              action: Create question records
              
        - id: UC-EXM-004
          name: Manage Question Bank
          name_ja: 問題バンク管理
          description: Organize and manage question bank
          
          main_flow:
            - actor: Examiner
              action: Navigate to question bank
            - actor: System
              action: Display bank overview
            - actor: Examiner
              action: Create/edit categories
            - actor: Examiner
              action: Move questions between categories
            - actor: Examiner
              action: Update bank settings
            - actor: Examiner
              action: Configure sharing permissions
              
    # ==========================================
    # Exam Creation
    # ==========================================
    - id: exam_creation
      name: Exam Creation
      name_ja: 試験作成
      
      use_cases:
        - id: UC-EXM-010
          name: Create Exam
          name_ja: 試験作成
          description: Create a new exam
          
          preconditions:
            - Examiner has exam creation permissions
            - Questions available in bank
            
          main_flow:
            - actor: Examiner
              action: Navigate to exam management
            - actor: Examiner
              action: Click create new exam
            - actor: System
              action: Display exam creation wizard
            - actor: Examiner
              action: Enter basic information
            - actor: Examiner
              action: Configure exam settings
            - actor: Examiner
              action: Add questions to exam
            - actor: Examiner
              action: Organize into sections (optional)
            - actor: Examiner
              action: Set scoring parameters
            - actor: Examiner
              action: Configure feedback settings
            - actor: Examiner
              action: Save exam
            - actor: System
              action: Validate exam configuration
            - actor: System
              action: Save as draft
              
          postconditions:
            - Exam created in draft status
            - Questions linked to exam
            
          business_rules:
            - EXR-001 (must have questions)
            - EXR-002 (valid passing criteria)
            
        - id: UC-EXM-011
          name: Configure Question Pool
          name_ja: 問題プール設定
          description: Configure random question selection pool
          
          main_flow:
            - actor: Examiner
              action: Navigate to pool configuration
            - actor: Examiner
              action: Create new pool
            - actor: Examiner
              action: Add questions to pool
            - actor: Examiner
              action: Set selection quantity
            - actor: Examiner
              action: Configure distribution rules
            - actor: Examiner
              action: Set difficulty distribution
            - actor: Examiner
              action: Configure category distribution
            - actor: Examiner
              action: Save pool configuration
            - actor: System
              action: Validate pool can fulfill requirements
              
        - id: UC-EXM-012
          name: Preview Exam
          name_ja: 試験プレビュー
          description: Preview exam from candidate perspective
          
          main_flow:
            - actor: Examiner
              action: Select exam to preview
            - actor: Examiner
              action: Click preview button
            - actor: System
              action: Generate preview instance
            - actor: System
              action: Display exam in candidate mode
            - actor: Examiner
              action: Navigate through questions
            - actor: Examiner
              action: Test all question types
            - actor: Examiner
              action: End preview
              
        - id: UC-EXM-013
          name: Publish Exam
          name_ja: 試験公開
          description: Publish exam for candidate access
          
          preconditions:
            - Exam in draft status
            - All validation passed
            - Required approvals obtained
            
          main_flow:
            - actor: Examiner
              action: Select exam to publish
            - actor: Examiner
              action: Review exam summary
            - actor: Examiner
              action: Set availability dates
            - actor: Examiner
              action: Configure access settings
            - actor: Examiner
              action: Click publish
            - actor: System
              action: Run final validation
            - actor: System
              action: Change status to active
            - actor: System
              action: Send notifications
              
    # ==========================================
    # Grading
    # ==========================================
    - id: grading
      name: Grading
      name_ja: 採点
      
      use_cases:
        - id: UC-EXM-020
          name: Grade Subjective Response
          name_ja: 主観的回答採点
          description: Manually grade essay or short answer response
          
          preconditions:
            - Responses pending grading
            - Examiner assigned as grader
            
          main_flow:
            - actor: Examiner
              action: Access grading queue
            - actor: System
              action: Display pending responses
            - actor: Examiner
              action: Select response to grade
            - actor: System
              action: Display question and response
            - actor: System
              action: Display rubric (if available)
            - actor: Examiner
              action: Review response
            - actor: Examiner
              action: Apply rubric scores
            - actor: Examiner
              action: Add feedback comments
            - actor: Examiner
              action: Assign final score
            - actor: Examiner
              action: Submit grade
            - actor: System
              action: Save grade and update attempt
              
          alternative_flows:
            - id: needs_review
              condition: Uncertain about grade
              flow:
                - actor: Examiner
                  action: Flag for review
                - actor: System
                  action: Assign to reviewer
                  
          business_rules:
            - SCR-022 (rubric bounds)
            - SCR-023 (complete rubric)
            
        - id: UC-EXM-021
          name: Calibration Grading
          name_ja: 較正採点
          description: Participate in grading calibration
          
          main_flow:
            - actor: System
              action: Present calibration sample
            - actor: Examiner
              action: Grade sample response
            - actor: System
              action: Compare to benchmark
            - actor: System
              action: Display alignment feedback
            - actor: Examiner
              action: Review discrepancies
            - actor: Examiner
              action: Acknowledge calibration
              
        - id: UC-EXM-022
          name: Resolve Grading Conflict
          name_ja: 採点相違解決
          description: Resolve conflicts between graders
          
          preconditions:
            - Grading conflict exists
            - Examiner is supervisor/arbitrator
            
          main_flow:
            - actor: Examiner
              action: View conflict details
            - actor: System
              action: Display both grades and rationales
            - actor: Examiner
              action: Review response
            - actor: Examiner
              action: Determine final score
            - actor: Examiner
              action: Document resolution rationale
            - actor: Examiner
              action: Submit resolution
              
    # ==========================================
    # Analysis & Reporting
    # ==========================================
    - id: analysis_reporting
      name: Analysis & Reporting
      name_ja: 分析とレポート
      
      use_cases:
        - id: UC-EXM-030
          name: View Item Analysis
          name_ja: 項目分析確認
          description: View psychometric analysis of questions
          
          main_flow:
            - actor: Examiner
              action: Navigate to item analysis
            - actor: Examiner
              action: Select exam for analysis
            - actor: System
              action: Display analysis dashboard
            - actor: Examiner
              action: Review difficulty indices
            - actor: Examiner
              action: Review discrimination indices
            - actor: Examiner
              action: Review distractor analysis
            - actor: Examiner
              action: Identify problematic items
              
        - id: UC-EXM-031
          name: Generate Reports
          name_ja: レポート生成
          description: Generate exam performance reports
          
          main_flow:
            - actor: Examiner
              action: Navigate to reports
            - actor: Examiner
              action: Select report type
            - actor: Examiner
              action: Set report parameters
            - actor: Examiner
              action: Generate report
            - actor: System
              action: Process data
            - actor: System
              action: Generate visualizations
            - actor: System
              action: Display/download report
              
        - id: UC-EXM-032
          name: Review Flagged Questions
          name_ja: フラグ付き問題レビュー
          description: Review questions flagged by analysis
          
          main_flow:
            - actor: System
              action: Notify of flagged questions
            - actor: Examiner
              action: View flagged questions
            - actor: System
              action: Display flags and recommendations
            - actor: Examiner
              action: Review question and statistics
            - actor: Examiner
              action: Take action (revise/retire/keep)
            - actor: Examiner
              action: Document decision
              
    # ==========================================
    # Rubric Management
    # ==========================================
    - id: rubric_management
      name: Rubric Management
      name_ja: ルーブリック管理
      
      use_cases:
        - id: UC-EXM-040
          name: Create Rubric
          name_ja: ルーブリック作成
          description: Create grading rubric
          
          main_flow:
            - actor: Examiner
              action: Navigate to rubric management
            - actor: Examiner
              action: Create new rubric
            - actor: Examiner
              action: Select rubric type
            - actor: Examiner
              action: Define criteria
            - actor: Examiner
              action: Define performance levels
            - actor: Examiner
              action: Assign point values
            - actor: Examiner
              action: Add anchor samples (optional)
            - actor: Examiner
              action: Save rubric
              
        - id: UC-EXM-041
          name: Share Rubric
          name_ja: ルーブリック共有
          description: Share rubric with other examiners
          
          main_flow:
            - actor: Examiner
              action: Select rubric to share
            - actor: Examiner
              action: Set sharing permissions
            - actor: Examiner
              action: Select recipients
            - actor: System
              action: Grant access to recipients

  workflow_integrations:
    - workflow: exam_creation
      integration_points:
        - create_exam
        - add_questions
        - publish
        
    - workflow: grading
      integration_points:
        - manual_grading
        - conflict_resolution
        
    - workflow: item_analysis
      integration_points:
        - review_flagged
        - implement_improvements

  permissions_required:
    - create_question
    - edit_question
    - create_exam
    - publish_exam
    - grade_responses
    - view_analytics
    - manage_rubrics

# Bookmark Entity
# F5 Framework v2.0 - Education/LMS
# Learner bookmarks for quick access

entity:
  id: bookmark
  name: Bookmark
  name_ja: ブックマーク
  description: Learner saved bookmarks for lessons and content
  domain: education
  subdomain: lms
  version: "1.0.0"

  attributes:
    id:
      type: uuid
      primary_key: true
      
    # Owner
    learner_id:
      type: uuid
      references: learner
      required: true
      
    # Context
    course_id:
      type: uuid
      references: course
      required: true
      
    lesson_id:
      type: uuid
      references: lesson
      required: true
      
    # Bookmark Details
    title:
      type: string
      max_length: 200
      description: Custom title or auto-generated
      
    # Position (for video lessons)
    timestamp_seconds:
      type: integer
      description: Video timestamp if applicable
      
    timestamp_display:
      type: string
      max_length: 20
      description: Formatted timestamp (e.g., "05:30")
      
    # Organization
    folder:
      type: string
      max_length: 100
      description: User-defined folder
      
    color:
      type: string
      max_length: 7
      description: Hex color for visual organization
      
    tags:
      type: array
      items: string
      max_items: 10
      
    # Notes
    note:
      type: text
      max_length: 500
      description: Quick note about bookmark
      
    # Status
    is_archived:
      type: boolean
      default: false
      
    # Metadata
    created_at:
      type: datetime
      auto_set: create
      
    updated_at:
      type: datetime
      auto_set: update
      
    last_accessed_at:
      type: datetime

  relationships:
    learner:
      type: belongs_to
      entity: learner
      foreign_key: learner_id
      
    course:
      type: belongs_to
      entity: course
      foreign_key: course_id
      
    lesson:
      type: belongs_to
      entity: lesson
      foreign_key: lesson_id

  indexes:
    - columns: [learner_id, course_id]
    - columns: [learner_id, lesson_id]
    - columns: [learner_id, folder]
    - columns: [learner_id, is_archived]
    - columns: [created_at]

  audit:
    enabled: false

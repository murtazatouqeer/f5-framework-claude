name: compliance-rules
display_name: Recruitment Compliance Business Rules
description: |
  Business rules ensuring legal compliance in recruitment including EEO,
  GDPR/data privacy, FCRA, Vietnam Labor Code, and immigration requirements.

domain: hr-management
subdomain: recruitment
category: business-rules
version: "1.0.0"
status: active

rules:
  # EEO Compliance Rules
  - id: CMP-BR-001
    name: eeo_non_discrimination
    description: Equal Employment Opportunity compliance
    category: eeo
    priority: critical
    jurisdiction: united_states

    protected_characteristics:
      - race
      - color
      - religion
      - sex
      - sexual_orientation
      - gender_identity
      - national_origin
      - age  # 40 and over
      - disability
      - genetic_information
      - veteran_status
      - pregnancy
      - citizenship_status

    prohibited_actions:
      - discrimination_in_hiring
      - discrimination_in_compensation
      - discrimination_in_promotion
      - retaliation_for_complaints
      - harassment

    requirements:
      - consistent_selection_criteria
      - job_related_requirements_only
      - reasonable_accommodations
      - documented_decisions

  - id: CMP-BR-002
    name: eeo_disposition_codes
    description: Required disposition codes for rejections
    category: eeo
    priority: critical

    required_codes:
      - code: "01"
        reason: "Position filled"

      - code: "02"
        reason: "Not selected - qualifications"

      - code: "03"
        reason: "Not selected - experience"

      - code: "04"
        reason: "Not selected - education"

      - code: "05"
        reason: "Not selected - skills"

      - code: "06"
        reason: "Failed assessment"

      - code: "07"
        reason: "Withdrew from process"

      - code: "08"
        reason: "No response to outreach"

      - code: "09"
        reason: "Declined offer"

      - code: "10"
        reason: "Not authorized to work"

      - code: "99"
        reason: "Other - requires documentation"

    enforcement:
      - every_rejection: requires_disposition_code
      - documentation: required_for_code_99
      - audit: quarterly_review

  - id: CMP-BR-003
    name: ofccp_compliance
    description: Office of Federal Contract Compliance Programs
    category: eeo
    priority: critical
    applies_to: federal_contractors

    requirements:
      affirmative_action:
        plan_required: for_50_plus_employees
        goals: for_underutilized_groups
        outreach: documented_efforts

      internet_applicant_rule:
        - track_all_applicants
        - maintain_records: 2_years
        - document_basic_qualifications

      pay_transparency:
        - no_retaliation_for_disclosure
        - salary_range_in_postings: where_required

  - id: CMP-BR-004
    name: adverse_impact_monitoring
    description: Monitor for adverse impact in selection
    category: eeo
    priority: high

    four_fifths_rule:
      description: |
        Selection rate for protected group should be at least
        80% of selection rate for group with highest rate

      calculation: |
        adverse_impact_ratio =
          (selection_rate_group_a / selection_rate_group_b)
        alert_if: ratio < 0.80

    monitoring:
      frequency: quarterly
      stages:
        - application_to_screen
        - screen_to_interview
        - interview_to_offer
        - offer_to_hire

    on_adverse_impact:
      - review_selection_criteria
      - document_business_necessity
      - consult_legal
      - adjust_if_possible

  # GDPR / Data Privacy Rules
  - id: CMP-BR-010
    name: gdpr_consent_requirements
    description: GDPR consent for candidate data processing
    category: data_privacy
    priority: critical
    jurisdiction: eu_and_eea

    consent_requirements:
      - explicit_consent: required
      - purpose_specific: yes
      - freely_given: not_conditional_on_application
      - informed: clear_privacy_notice
      - documented: timestamp_and_version

    consent_types:
      application_processing:
        required: true
        basis: legitimate_interest_or_consent

      talent_pool_retention:
        required: true
        basis: explicit_consent
        duration: as_specified

      reference_checking:
        required: true
        basis: explicit_consent

      background_checking:
        required: true
        basis: explicit_consent

  - id: CMP-BR-011
    name: data_subject_rights
    description: Candidate rights under GDPR
    category: data_privacy
    priority: critical

    rights:
      right_to_access:
        response_time: 30 days
        format: portable_format

      right_to_rectification:
        response_time: without_undue_delay

      right_to_erasure:
        response_time: without_undue_delay
        exceptions:
          - legal_obligation
          - legal_claims

      right_to_restrict_processing:
        response_time: without_undue_delay

      right_to_data_portability:
        response_time: 30 days
        format: machine_readable

      right_to_object:
        response_time: without_undue_delay

    process:
      - verify_identity: required
      - log_request: required
      - fulfill_or_document_exception: required

  - id: CMP-BR-012
    name: data_retention_rules
    description: Retention periods for candidate data
    category: data_privacy
    priority: high

    retention_periods:
      unsuccessful_applicants:
        default: 6 months
        with_consent: up_to_2_years

      hired_candidates:
        transfer_to: employee_record
        retention: per_employee_policy

      withdrawn_applicants:
        retention: 6 months

      interview_recordings:
        retention: 30 days
        unless: candidate_requests_deletion

    deletion_process:
      automated: where_possible
      documented: always
      verified: sampling_audit

  - id: CMP-BR-013
    name: cross_border_data_transfer
    description: Rules for international data transfers
    category: data_privacy
    priority: critical

    eu_to_us:
      mechanism:
        - standard_contractual_clauses
        - binding_corporate_rules
        - adequacy_decision  # if applicable
      documentation: required

    other_transfers:
      assessment: required
      safeguards: as_appropriate

    local_storage:
      requirement: store_in_region_where_possible
      exception: documented_business_need

  # FCRA Compliance Rules
  - id: CMP-BR-020
    name: fcra_disclosure_and_authorization
    description: Fair Credit Reporting Act requirements
    category: fcra
    priority: critical
    jurisdiction: united_states

    pre_check_requirements:
      disclosure:
        - standalone_document: required
        - clear_and_conspicuous: required
        - before_obtaining_report: required

      authorization:
        - written_consent: required
        - specific_to_background_check: required

    summary_of_rights:
      provide: with_disclosure
      format: ftc_prescribed_form

  - id: CMP-BR-021
    name: fcra_adverse_action
    description: Adverse action process under FCRA
    category: fcra
    priority: critical

    pre_adverse_action:
      required_when: considering_adverse_action_based_on_report
      provide:
        - copy_of_report
        - summary_of_rights
        - notice_of_intent
      waiting_period: 5 business_days
      purpose: allow_candidate_to_dispute

    final_adverse_action:
      required_when: decision_finalized
      provide:
        - notice_of_action
        - cra_contact_information
        - statement_of_dispute_rights
        - statement_employer_did_not_make_decision

    documentation:
      retain: 5 years
      include:
        - all_notices
        - authorization
        - report
        - decision_rationale

  - id: CMP-BR-022
    name: ban_the_box
    description: Restrictions on criminal history inquiries
    category: fcra
    priority: high
    jurisdiction: varies_by_location

    timing_restrictions:
      inquiry_prohibited_until:
        - conditional_offer_made  # many jurisdictions
        - or: interview_stage  # some jurisdictions

    individualized_assessment:
      required: true
      consider:
        - nature_of_offense
        - time_elapsed
        - nature_of_job
        - rehabilitation_evidence

    prohibited_blanket_policies:
      - automatic_rejection_for_any_conviction
      - rejection_based_on_arrest_only

  # Vietnam Labor Code Compliance
  - id: CMP-BR-030
    name: vietnam_labor_code
    description: Vietnam-specific recruitment compliance
    category: labor_law
    priority: critical
    jurisdiction: vietnam

    employment_contract_requirements:
      probation_period:
        maximum:
          - skilled_workers: 60 days
          - management: 180 days
          - others: 6 days
        salary: at_least_85_percent

      written_contract:
        required_for: employment_over_3_months
        language: vietnamese

      working_hours:
        standard: 8_hours_day_48_hours_week
        overtime: limited_and_compensated

    prohibited_discrimination:
      - gender
      - ethnicity
      - social_class
      - religion
      - hiv_status
      - disability
      - trade_union_membership

    foreign_worker_requirements:
      work_permit: required
      exceptions:
        - under_3_months: notification_only
        - specific_categories: per_regulation

  - id: CMP-BR-031
    name: vietnam_data_protection
    description: Vietnam data protection requirements
    category: data_privacy
    priority: high
    jurisdiction: vietnam

    consent_requirements:
      personal_data: consent_required
      sensitive_data: explicit_consent_required

    localization:
      requirement: assess_based_on_data_type
      important_data: local_storage_may_be_required

    cross_border_transfer:
      assessment: required
      approval: may_be_required

  # Immigration Compliance Rules
  - id: CMP-BR-040
    name: work_authorization_verification
    description: I-9 and work authorization requirements
    category: immigration
    priority: critical
    jurisdiction: united_states

    i9_requirements:
      timing:
        section_1: by_first_day_of_work
        section_2: within_3_business_days

      reverification:
        required_when: authorization_expires
        timing: by_expiration_date

      retention:
        during_employment: yes
        after_termination: 3_years_from_hire_or_1_year_from_termination
        whichever_is_later: true

    e_verify:
      required_for: federal_contractors
      timing: within_3_business_days

    anti_discrimination:
      - accept_valid_documents
      - no_document_abuse
      - no_citizenship_status_discrimination
      - no_national_origin_discrimination

  - id: CMP-BR-041
    name: visa_sponsorship_rules
    description: Rules for visa sponsorship
    category: immigration
    priority: high

    sponsorship_eligibility:
      company_requirements:
        - valid_business_entity
        - financial_capability
        - legitimate_job_offer

      position_requirements:
        - specialty_occupation  # for H-1B
        - job_duties_documented
        - prevailing_wage_compliance

    process:
      labor_condition_application:
        required: before_filing_petition
        posting: 10_business_days

      h1b_lottery:
        registration: march_annually
        cap_subject: standard_h1b

    compliance:
      public_access_file: required
      wage_compliance: ongoing
      working_conditions: as_stated

  - id: CMP-BR-042
    name: work_permit_management
    description: International work permit requirements
    category: immigration
    priority: critical

    general_requirements:
      verification: before_start_date
      documentation: retain_copies
      expiration_tracking: automated_alerts

    by_country:
      vietnam:
        work_permit: required_for_foreign_workers
        validity: up_to_2_years
        renewal: before_expiration

      singapore:
        employment_pass: for_professionals
        s_pass: for_mid_skilled
        quota: applies_to_some_passes

      japan:
        certificate_of_eligibility: typically_required
        status_of_residence: job_category_specific

    renewal_tracking:
      alert_at: [90_days, 60_days, 30_days]
      responsible_party: hr_and_employee
      consequences_of_expiration: cannot_work

  # Record Keeping Rules
  - id: CMP-BR-050
    name: recruitment_record_retention
    description: Required retention of recruitment records
    category: record_keeping
    priority: high

    retention_periods:
      applications:
        us: 1_year_minimum  # title_vii
        federal_contractor: 2_years

      interview_notes:
        standard: 2_years

      offer_letters:
        accepted: permanent  # part of employee file
        declined: 2_years

      background_checks:
        us: 5_years  # fcra

      i9_forms:
        during_employment: yes
        after: 3_years_from_hire_or_1_year_from_termination

      eeo_data:
        federal_contractor: 2_years

    secure_storage:
      encryption: required
      access_control: role_based
      audit_trail: required

  - id: CMP-BR-051
    name: audit_trail_requirements
    description: Audit trail for compliance
    category: record_keeping
    priority: critical

    track:
      - all_candidate_status_changes
      - all_disposition_decisions
      - all_offer_approvals
      - all_background_check_results
      - all_adverse_actions
      - all_data_subject_requests

    attributes:
      - timestamp
      - user_id
      - action_taken
      - reason_or_justification
      - previous_value
      - new_value

    immutability:
      audit_logs: cannot_be_modified
      retention: 7_years_minimum

  # Training Requirements
  - id: CMP-BR-060
    name: compliance_training
    description: Required compliance training
    category: training
    priority: high

    required_training:
      all_recruiters:
        - course: eeo_basics
          frequency: annual

        - course: unconscious_bias
          frequency: annual

        - course: fcra_compliance
          frequency: annual

        - course: gdpr_awareness
          frequency: annual
          when: processes_eu_data

      hiring_managers:
        - course: interview_compliance
          frequency: every_2_years

        - course: ada_accommodations
          frequency: every_2_years

    tracking:
      completion: documented
      expiration: tracked
      non_compliance: escalated

automation:
  triggers:
    - event: application_received
      action: capture_consent

    - event: rejection_decision
      action: require_disposition_code

    - event: background_check_adverse
      action: initiate_fcra_process

    - event: data_retention_expiry
      action: trigger_deletion_review

    - event: work_permit_expiring
      action: send_alerts

integration:
  - system: background_check_vendor
    function: fcra_compliance_workflow

  - system: e_verify
    function: work_authorization

  - system: lms
    function: compliance_training

reporting:
  eeo_1_report:
    frequency: annual
    due: september_30
    applies_to: 100_plus_employees

  vets_4212:
    frequency: annual
    due: september_30
    applies_to: federal_contractors

  adverse_impact_analysis:
    frequency: quarterly
    internal: yes

  gdpr_compliance:
    frequency: annual
    include: data_processing_activities

audit:
  internal_audit:
    frequency: annual
    scope: full_compliance_review

  external_audit:
    frequency: as_required
    scope: regulatory_specific

  self_audit:
    frequency: quarterly
    focus: high_risk_areas

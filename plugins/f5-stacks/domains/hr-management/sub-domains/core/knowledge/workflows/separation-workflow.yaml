name: separation-workflow
display_name: Employee Separation Workflow
description: |
  End-to-end workflow for processing employee separations including
  resignation, termination, redundancy, and retirement.

domain: hr-management
subdomain: core
category: workflows
version: "1.0.0"
status: active

compliance:
  vietnam_labor_code:
    reference: "Law 45/2019/QH14"
    key_requirements:
      - proper_notice_period
      - final_settlement_within_14_days
      - experience_letter_provision
      - social_insurance_book_return

workflow:
  id: WF-SEP-001
  name: "Employee Separation"
  trigger: "separation_initiated"

  participants:
    roles:
      - employee
      - manager
      - department_head
      - hr_admin
      - hr_director
      - it_admin
      - finance
      - admin
      - legal

  separation_types:
    resignation:
      initiated_by: "employee"
      notice_required: true
      severance: false

    termination_for_cause:
      initiated_by: "employer"
      notice_required: false
      severance: false

    termination_without_cause:
      initiated_by: "employer"
      notice_required: true
      severance: true

    redundancy:
      initiated_by: "employer"
      notice_required: true
      severance: true
      consultation: required

    mutual_agreement:
      initiated_by: "both"
      notice_required: "negotiable"
      severance: "negotiable"

    end_of_contract:
      initiated_by: "automatic"
      notice_required: false
      severance: "if_not_renewed"

    retirement:
      initiated_by: "employee"
      notice_required: true
      severance: true

  stages:
    - id: initiation
      name: "Separation Initiation"
      description: "Separation process begins"
      owner: varies_by_type

      flows:
        resignation:
          - id: SEP-RES-001
            name: "Receive Resignation"
            description: "Employee submits resignation"
            assignee: manager

            required:
              - resignation_letter
              - intended_last_day

            validation:
              - notice_period_calculation
              - contract_type_check

          - id: SEP-RES-002
            name: "Manager Acknowledgment"
            description: "Manager acknowledges resignation"
            assignee: manager
            sla: "2 business days"

            actions:
              - review_resignation
              - calculate_last_working_day
              - discuss_with_employee

            options:
              accept:
                - proceed_to_hr

              negotiate:
                - discuss_retention
                - adjust_last_day

        termination:
          - id: SEP-TRM-001
            name: "Initiate Termination"
            description: "Manager initiates termination"
            assignee: manager

            required:
              - termination_justification
              - supporting_evidence
              - hr_consultation

            types:
              for_cause:
                - disciplinary_records
                - investigation_report
                - hearing_minutes

              without_cause:
                - business_justification
                - alternative_roles_considered

          - id: SEP-TRM-002
            name: "HR Review"
            description: "HR reviews termination request"
            assignee: hr_admin

            review:
              - legal_compliance
              - documentation_completeness
              - risk_assessment

          - id: SEP-TRM-003
            name: "Legal Review"
            description: "Legal reviews high-risk cases"
            assignee: legal
            condition: "high_risk_termination"

            review:
              - legal_exposure
              - documentation_adequacy
              - recommended_approach

        redundancy:
          - id: SEP-RED-001
            name: "Redundancy Planning"
            description: "Plan redundancy process"
            assignee: hr_director

            requirements:
              - business_case
              - selection_criteria
              - consultation_plan
              - labor_authority_notification

          - id: SEP-RED-002
            name: "Union Consultation"
            description: "Consult with employee representatives"
            assignee: hr_director
            condition: "union_present"
            duration: "minimum 30 days"

          - id: SEP-RED-003
            name: "Notify Labor Authority"
            description: "Submit notification to authority"
            assignee: hr_admin
            timing: "30 days before"

        retirement:
          - id: SEP-RET-001
            name: "Retirement Application"
            description: "Employee submits retirement request"
            assignee: employee
            timing: "6 months before"

            required:
              - retirement_application
              - preferred_retirement_date

          - id: SEP-RET-002
            name: "Process Application"
            description: "HR processes retirement"
            assignee: hr_admin

            actions:
              - verify_eligibility
              - calculate_benefits
              - plan_transition

    - id: hr_processing
      name: "HR Processing"
      description: "HR formalizes separation"
      owner: hr_admin

      tasks:
        - id: SEP-HRP-001
          name: "Create Separation Record"
          description: "Create official separation record"
          assignee: hr_admin

          record_details:
            - separation_type
            - initiation_date
            - last_working_day
            - effective_date
            - reason_code

        - id: SEP-HRP-002
          name: "Issue Acceptance Letter"
          description: "Send formal acceptance/notice"
          assignee: hr_admin
          sla: "2 business days"

          letter_types:
            resignation:
              - acceptance_letter
              - confirm_last_day

            termination:
              - termination_notice
              - reason_statement
              - appeal_rights

            redundancy:
              - redundancy_notice
              - severance_details
              - support_services

        - id: SEP-HRP-003
          name: "Calculate Settlement"
          description: "Calculate final settlement"
          assignee: hr_admin

          components:
            payable:
              - remaining_salary
              - leave_encashment
              - notice_pay (if_applicable)
              - severance_pay (if_applicable)
              - prorated_bonus (if_applicable)
              - pending_reimbursements

            deductions:
              - salary_advance
              - loan_recovery
              - unreturned_assets
              - tax_obligations

        - id: SEP-HRP-004
          name: "Settlement Approval"
          description: "Approve settlement calculation"
          assignee: hr_director

          approval_matrix:
            settlement_under_50m:
              approver: "hr_manager"

            settlement_50m_to_200m:
              approver: "hr_director"

            settlement_over_200m:
              approver: "cfo"

    - id: notice_period
      name: "Notice Period"
      description: "Employee serves notice period"
      owner: manager
      condition: "notice_required"

      tasks:
        - id: SEP-NOT-001
          name: "Handover Planning"
          description: "Plan knowledge transfer"
          assignee: manager
          due: "+3 days from acceptance"

          plan_elements:
            - key_responsibilities
            - ongoing_projects
            - relationships_to_transfer
            - documentation_needed
            - successor_identification

        - id: SEP-NOT-002
          name: "Execute Handover"
          description: "Complete knowledge transfer"
          assignee: employee
          due: "throughout notice period"

          handover_items:
            - project_documentation
            - process_documentation
            - relationship_introductions
            - training_successor
            - pending_items_list

        - id: SEP-NOT-003
          name: "Monitor Handover"
          description: "Track handover completion"
          assignee: manager
          frequency: "weekly"

          checkpoints:
            - documentation_complete
            - successor_trained
            - stakeholders_notified
            - no_critical_gaps

        - id: SEP-NOT-004
          name: "Garden Leave"
          description: "Process garden leave if applicable"
          assignee: hr_admin
          condition: "garden_leave_applied"

          actions:
            - restrict_system_access
            - maintain_salary
            - enforce_non-compete

    - id: clearance
      name: "Clearance Process"
      description: "Departmental clearance"
      owner: hr_admin

      tasks:
        - id: SEP-CLR-001
          name: "IT Clearance"
          description: "IT asset return and access revocation"
          assignee: it_admin

          checklist:
            asset_return:
              - laptop
              - mobile_phone
              - accessories
              - software_licenses

            access_revocation:
              - email_account
              - network_access
              - application_access
              - vPN_access

            data_handling:
              - backup_company_data
              - remove_personal_data
              - archive_email
              - disable_accounts

        - id: SEP-CLR-002
          name: "Finance Clearance"
          description: "Financial settlement"
          assignee: finance

          checklist:
            - expense_claims_processed
            - advance_recovery
            - corporate_card_return
            - travel_settlement
            - petty_cash_settlement

        - id: SEP-CLR-003
          name: "Admin Clearance"
          description: "Administrative items"
          assignee: admin

          checklist:
            - id_card_return
            - access_card_return
            - keys_return
            - parking_card_return
            - locker_clearance
            - uniform_return

        - id: SEP-CLR-004
          name: "Department Clearance"
          description: "Department-specific items"
          assignee: manager

          checklist:
            - project_handover_complete
            - documentation_submitted
            - equipment_returned
            - client_notifications

        - id: SEP-CLR-005
          name: "HR Clearance"
          description: "HR final verification"
          assignee: hr_admin

          checklist:
            - all_clearances_obtained
            - exit_interview_completed
            - settlement_approved
            - documents_prepared

    - id: exit_interview
      name: "Exit Interview"
      description: "Conduct exit interview"
      owner: hr_admin
      condition: "voluntary_separation"

      tasks:
        - id: SEP-EXT-001
          name: "Schedule Interview"
          description: "Schedule exit interview"
          assignee: hr_admin
          timing: "last week"

        - id: SEP-EXT-002
          name: "Conduct Interview"
          description: "Perform exit interview"
          assignee: hr_admin
          duration: "30-60 minutes"

          topics:
            - reason_for_leaving
            - job_satisfaction
            - management_feedback
            - work_environment
            - compensation_feedback
            - recommendations
            - rehire_interest

        - id: SEP-EXT-003
          name: "Document Feedback"
          description: "Record and analyze feedback"
          assignee: hr_admin

          documentation:
            - interview_notes
            - key_themes
            - action_recommendations
            - rehire_eligibility

    - id: last_day
      name: "Last Working Day"
      description: "Employee's final day"
      owner: hr_admin

      tasks:
        - id: SEP-LWD-001
          name: "Final Clearance Verification"
          description: "Verify all clearances complete"
          assignee: hr_admin
          timing: "morning"

          verification:
            - all_departments_cleared
            - assets_returned
            - documents_submitted

        - id: SEP-LWD-002
          name: "Farewell"
          description: "Team farewell activities"
          assignee: manager
          optional: true

          activities:
            - team_gathering
            - farewell_message
            - gift (if_applicable)

        - id: SEP-LWD-003
          name: "Access Termination"
          description: "Terminate all access"
          assignee: it_admin
          timing: "end of day"

          actions:
            - disable_email
            - revoke_all_access
            - collect_any_remaining_items

    - id: settlement
      name: "Final Settlement"
      description: "Process final payment"
      owner: finance

      tasks:
        - id: SEP-SET-001
          name: "Finalize Settlement"
          description: "Complete settlement calculation"
          assignee: hr_admin
          timing: "+1 day"

          final_calculation:
            - verify_all_components
            - apply_deductions
            - calculate_tax
            - net_payable

        - id: SEP-SET-002
          name: "Approval"
          description: "Final settlement approval"
          assignee: hr_director

        - id: SEP-SET-003
          name: "Process Payment"
          description: "Execute payment"
          assignee: finance
          sla: "within 14 days"

          payment_details:
            - bank_transfer
            - payment_advice
            - tax_documents

        - id: SEP-SET-004
          name: "Issue Settlement Statement"
          description: "Provide settlement breakdown"
          assignee: hr_admin

          statement_content:
            - all_components
            - deductions
            - net_amount
            - payment_date

    - id: documentation
      name: "Documentation"
      description: "Issue separation documents"
      owner: hr_admin

      tasks:
        - id: SEP-DOC-001
          name: "Experience Letter"
          description: "Issue experience certificate"
          assignee: hr_admin
          sla: "within 7 days of request"

          content:
            - employment_dates
            - positions_held
            - basic_duties

        - id: SEP-DOC-002
          name: "Return Social Insurance Book"
          description: "Return BHXH book"
          assignee: hr_admin
          sla: "within 14 days"

        - id: SEP-DOC-003
          name: "Tax Finalization"
          description: "Complete tax documentation"
          assignee: hr_admin

          documents:
            - tax_finalization_certificate
            - income_statement

        - id: SEP-DOC-004
          name: "Reference Letter"
          description: "Provide reference if requested"
          assignee: manager
          condition: "employee_request"

    - id: closure
      name: "Record Closure"
      description: "Close separation record"
      owner: hr_admin

      tasks:
        - id: SEP-CLS-001
          name: "Update Systems"
          description: "Update all HR systems"
          assignee: hr_admin

          updates:
            - employee_status: "terminated"
            - termination_date
            - termination_reason
            - rehire_eligibility

        - id: SEP-CLS-002
          name: "Archive Records"
          description: "Archive employee records"
          assignee: hr_admin

          retention:
            - personnel_file: "10 years"
            - payroll_records: "10 years"
            - medical_records: "10 years"

        - id: SEP-CLS-003
          name: "Update Reporting"
          description: "Update headcount reports"
          assignee: hr_admin

          reports:
            - headcount_update
            - turnover_reporting
            - exit_analysis

  escalation:
    clearance_delayed:
      threshold: "2 days before last day"
      escalate_to: "hr_manager"

    settlement_delayed:
      threshold: "10 days after separation"
      escalate_to: "hr_director"

    documents_delayed:
      threshold: "5 days after request"
      escalate_to: "hr_manager"

notifications:
  - event: separation_initiated
    recipients: [hr_admin, it_admin, finance, admin]
    template: "separation_initiated"

  - event: clearance_required
    recipients: [clearing_department]
    template: "clearance_request"

  - event: last_day_approaching
    timing: [5, 1]
    recipients: [employee, manager, hr_admin]
    template: "last_day_reminder"

  - event: settlement_processed
    recipients: [employee]
    template: "settlement_notification"

  - event: documents_ready
    recipients: [employee]
    template: "documents_ready"

audit:
  enabled: true
  tracked_events:
    - separation_initiation
    - clearances
    - settlements
    - document_issuance
  retention: "10 years"

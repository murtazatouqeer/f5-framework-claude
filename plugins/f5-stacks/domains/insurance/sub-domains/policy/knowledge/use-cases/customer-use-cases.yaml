name: Customer Use Cases
display_name: Insurance Customer Use Cases
description: |
  Customer journey use cases for insurance policy management.
  Covers quote requests, policy purchases, and ongoing policy management.

domain: insurance
subdomain: policy
category: use-cases
version: "1.0.0"
status: active

actor:
  id: customer
  name: Customer/Policyholder
  type: external
  description: Individual or entity seeking or owning insurance coverage

use_cases:
  # ============================================
  # Quote & Purchase Journey
  # ============================================
  - id: UC-CUST-001
    name: Request Insurance Quote
    display_name: Get Insurance Quote
    description: Customer requests a quote for insurance coverage

    preconditions:
      - Customer has identified insurance need
      - Product catalog is available
      - Customer meets basic eligibility criteria

    main_flow:
      - step: 1
        action: Customer selects insurance product type
        system_response: Display available products with brief descriptions

      - step: 2
        action: Customer provides personal information
        inputs:
          - full_name
          - date_of_birth
          - gender
          - contact_details
        validation: Validate age eligibility for selected product

      - step: 3
        action: Customer provides risk information
        inputs:
          product_specific:
            life:
              - smoker_status
              - occupation
              - health_declaration
            health:
              - pre_existing_conditions
              - lifestyle_habits
            motor:
              - vehicle_details
              - driving_history
        validation: Assess risk factors

      - step: 4
        action: Customer selects coverage options
        inputs:
          - sum_insured
          - policy_term
          - optional_riders
          - payment_frequency
        validation: Validate coverage limits and rider eligibility

      - step: 5
        action: System calculates premium
        processing:
          - Apply base rates
          - Calculate loadings/discounts
          - Add applicable taxes
        output: Premium breakdown with payment options

      - step: 6
        action: System generates quote
        output:
          - Quote document (PDF)
          - Premium summary
          - Coverage summary
          - Terms and conditions

      - step: 7
        action: Customer receives quote
        channels:
          - Email
          - SMS notification
          - Portal download

    alternative_flows:
      - id: AF-001
        name: Underwriting Required
        trigger: Risk factors exceed auto-accept limits
        flow:
          - System flags for underwriting review
          - Notify customer of pending review
          - Underwriter assesses risk
          - Updated quote generated

      - id: AF-002
        name: Ineligible Customer
        trigger: Customer fails eligibility criteria
        flow:
          - Display ineligibility reason
          - Suggest alternative products if available
          - Provide customer service contact

    postconditions:
      - Quote record created with unique number
      - Quote valid for 30 days
      - Customer can proceed to purchase

    business_rules:
      - eligibility-rules.yaml
      - premium-rules.yaml

    related_workflows:
      - quote-workflow.yaml

  - id: UC-CUST-002
    name: Purchase Insurance Policy
    display_name: Buy Insurance Policy
    description: Customer converts accepted quote to active policy

    preconditions:
      - Valid quote exists
      - Quote not expired
      - Customer identity verified

    main_flow:
      - step: 1
        action: Customer reviews quote details
        display:
          - Coverage summary
          - Premium breakdown
          - Terms and conditions

      - step: 2
        action: Customer confirms personal details
        inputs:
          - Identity documents
          - Address proof
          - Bank account details
        validation: KYC verification

      - step: 3
        action: Customer completes health/risk declaration
        inputs:
          - Detailed health questionnaire
          - Lifestyle declaration
          - Existing insurance disclosure
        validation: Check for material non-disclosure

      - step: 4
        action: Customer adds beneficiaries
        inputs:
          - Beneficiary details
          - Relationship
          - Allocation percentage
        validation: Total allocation equals 100%

      - step: 5
        action: Customer selects payment method
        options:
          - Credit/Debit card
          - Bank transfer
          - Auto-debit mandate
          - E-wallet

      - step: 6
        action: Customer makes initial premium payment
        processing:
          - Payment verification
          - Receipt generation
        output: Payment confirmation

      - step: 7
        action: Customer signs application
        methods:
          - Electronic signature
          - OTP confirmation
          - Biometric (if available)

      - step: 8
        action: System processes application
        processing:
          - Document verification
          - Underwriting (if required)
          - Policy generation

      - step: 9
        action: Customer receives policy documents
        documents:
          - Policy contract
          - Policy schedule
          - Premium receipt
          - Welcome kit
        channels:
          - Email
          - Portal
          - Physical mail (optional)

    alternative_flows:
      - id: AF-001
        name: Additional Documents Required
        trigger: Document verification fails
        flow:
          - Notify customer of missing documents
          - Customer uploads additional documents
          - Resume verification

      - id: AF-002
        name: Medical Examination Required
        trigger: Underwriting requests medical exam
        flow:
          - Schedule medical appointment
          - Customer completes examination
          - Resume underwriting with results

      - id: AF-003
        name: Counter Offer
        trigger: Underwriting approves with conditions
        flow:
          - Present modified terms to customer
          - Customer accepts or rejects
          - If accepted, proceed with modified policy

    postconditions:
      - Policy issued and active
      - Policy number assigned
      - Coverage effective from specified date
      - Premium schedule created

    business_rules:
      - eligibility-rules.yaml
      - premium-rules.yaml
      - coverage-rules.yaml

    related_workflows:
      - policy-issuance-workflow.yaml

  # ============================================
  # Policy Management Journey
  # ============================================
  - id: UC-CUST-003
    name: View Policy Details
    display_name: View My Policy
    description: Customer views policy information and status

    preconditions:
      - Customer is authenticated
      - Customer has active policies

    main_flow:
      - step: 1
        action: Customer logs into portal/app
        authentication:
          - Username/password
          - OTP verification
          - Biometric (optional)

      - step: 2
        action: Customer views policy dashboard
        display:
          - Policy list with status
          - Upcoming payments
          - Recent activities
          - Quick actions

      - step: 3
        action: Customer selects specific policy
        display:
          - Policy summary
          - Coverage details
          - Premium information
          - Beneficiary list
          - Document history

      - step: 4
        action: Customer downloads documents
        available_documents:
          - Policy contract
          - Latest schedule
          - Premium receipts
          - Endorsement documents
          - Claim history

    postconditions:
      - Activity logged for audit
      - Document access recorded

  - id: UC-CUST-004
    name: Update Personal Information
    display_name: Update My Details
    description: Customer updates personal or contact information

    preconditions:
      - Customer is authenticated
      - Policy is active

    main_flow:
      - step: 1
        action: Customer selects update type
        options:
          - Contact details (phone, email)
          - Address change
          - Bank account
          - Occupation

      - step: 2
        action: Customer enters new information
        inputs:
          vary_by_update_type: true
        validation: Format and consistency checks

      - step: 3
        action: Customer provides supporting documents
        required_for:
          - address_change: Address proof
          - name_change: Legal documents
          - bank_account: Bank verification

      - step: 4
        action: System verifies changes
        processing:
          - Document verification
          - Data validation
          - Fraud checks

      - step: 5
        action: Customer confirms changes
        confirmation:
          - OTP verification
          - Review summary

      - step: 6
        action: System applies changes
        output:
          - Confirmation notification
          - Updated policy schedule (if applicable)

    alternative_flows:
      - id: AF-001
        name: Change Requires Endorsement
        trigger: Update affects policy terms
        flow:
          - Create endorsement request
          - Process through endorsement workflow
          - Apply premium adjustment if needed

    postconditions:
      - Information updated
      - Audit trail recorded
      - Notifications sent

  - id: UC-CUST-005
    name: Request Policy Endorsement
    display_name: Modify My Policy
    description: Customer requests changes to policy coverage or terms

    preconditions:
      - Customer is authenticated
      - Policy is active
      - Change type is permitted

    main_flow:
      - step: 1
        action: Customer selects endorsement type
        options:
          - Increase/decrease sum insured
          - Add/remove rider
          - Add/remove insured person
          - Change beneficiary
          - Change payment method

      - step: 2
        action: Customer provides change details
        inputs:
          vary_by_endorsement_type: true
        validation: Eligibility for requested change

      - step: 3
        action: System calculates impact
        output:
          - Premium change (if any)
          - Coverage impact
          - Effective date options

      - step: 4
        action: Customer reviews and confirms
        display:
          - Change summary
          - Premium adjustment
          - New schedule preview

      - step: 5
        action: Customer provides documents
        required_for:
          - add_insured: Medical forms, ID proof
          - coverage_increase: Financial documents
          - beneficiary_change: Beneficiary ID, relationship proof

      - step: 6
        action: Customer makes payment
        condition: If additional premium required
        payment_options:
          - One-time payment
          - Adjust ongoing premium

      - step: 7
        action: System processes endorsement
        processing:
          - Document verification
          - Underwriting (if required)
          - Policy update

      - step: 8
        action: Customer receives confirmation
        output:
          - Endorsement document
          - Updated policy schedule
          - Payment receipt (if applicable)

    alternative_flows:
      - id: AF-001
        name: Underwriting Review Required
        trigger: Change requires risk assessment
        flow:
          - Submit to underwriting
          - Notify customer of pending review
          - Process underwriting decision
          - Resume endorsement processing

      - id: AF-002
        name: Refund Due
        trigger: Premium reduction results in refund
        flow:
          - Calculate refund amount
          - Process refund to customer
          - Issue refund confirmation

    postconditions:
      - Endorsement applied
      - Policy updated
      - Documents generated
      - Premium adjusted

    business_rules:
      - coverage-rules.yaml
      - premium-rules.yaml

    related_workflows:
      - endorsement-workflow.yaml

  - id: UC-CUST-006
    name: Make Premium Payment
    display_name: Pay Premium
    description: Customer makes premium payment for policy

    preconditions:
      - Policy is active or in grace period
      - Payment amount is known

    main_flow:
      - step: 1
        action: Customer views payment due
        display:
          - Amount due
          - Due date
          - Policy details
          - Payment history

      - step: 2
        action: Customer selects payment method
        options:
          - Saved payment method
          - New credit/debit card
          - Bank transfer
          - E-wallet
          - Payment at branch/partner

      - step: 3
        action: Customer enters payment details
        inputs:
          vary_by_payment_method: true
        security:
          - PCI-DSS compliant
          - 3D Secure for cards

      - step: 4
        action: Customer confirms payment
        confirmation:
          - Amount verification
          - Payment method confirmation
          - OTP (if required)

      - step: 5
        action: System processes payment
        processing:
          - Payment gateway integration
          - Transaction verification
          - Receipt generation

      - step: 6
        action: Customer receives confirmation
        output:
          - Payment receipt
          - Email confirmation
          - SMS notification
          - Updated payment schedule

    alternative_flows:
      - id: AF-001
        name: Payment Failed
        trigger: Transaction declined
        flow:
          - Display error message
          - Suggest alternative payment methods
          - Option to retry

      - id: AF-002
        name: Partial Payment
        trigger: Customer pays less than full amount
        flow:
          - Apply partial payment
          - Show remaining balance
          - Schedule remaining amount

    postconditions:
      - Payment recorded
      - Receipt issued
      - Premium schedule updated
      - Policy status updated (if in grace)

  - id: UC-CUST-007
    name: Set Up Auto-Payment
    display_name: Enable Auto-Pay
    description: Customer configures automatic premium payments

    preconditions:
      - Customer is authenticated
      - Policy is active
      - Valid payment method available

    main_flow:
      - step: 1
        action: Customer selects auto-pay option
        location:
          - Policy management
          - Payment settings

      - step: 2
        action: Customer chooses payment source
        options:
          - Credit card
          - Debit card
          - Bank account (auto-debit)

      - step: 3
        action: Customer provides payment details
        inputs:
          - Card/account details
          - Billing address
        validation: Card/account verification

      - step: 4
        action: Customer sets preferences
        options:
          - Debit date (before/on due date)
          - Notification preferences
          - Retry settings

      - step: 5
        action: Customer authorizes auto-debit
        authorization:
          - Terms acceptance
          - OTP verification
          - e-NACH mandate (for bank accounts)

      - step: 6
        action: System confirms enrollment
        output:
          - Confirmation email
          - Mandate reference
          - Next scheduled debit date

    postconditions:
      - Auto-pay enabled
      - Payment source registered
      - Mandate active

  # ============================================
  # Renewal Journey
  # ============================================
  - id: UC-CUST-008
    name: Review Renewal Offer
    display_name: Review Renewal
    description: Customer reviews and responds to policy renewal offer

    preconditions:
      - Renewal offer generated
      - Policy approaching expiry
      - Customer notified of renewal

    main_flow:
      - step: 1
        action: Customer receives renewal notification
        channels:
          - Email with renewal notice
          - SMS reminder
          - Portal notification

      - step: 2
        action: Customer reviews renewal offer
        display:
          - Current vs proposed coverage
          - Premium comparison
          - Changes (if any)
          - No Claims Bonus status

      - step: 3
        action: Customer makes renewal decision
        options:
          - Accept as-is
          - Request modifications
          - Decline renewal

      - step: 4
        action: Customer modifies coverage
        condition: If modifications requested
        options:
          - Change sum insured
          - Add/remove riders
          - Change payment frequency
        output: Updated renewal quote

      - step: 5
        action: Customer accepts renewal
        confirmation:
          - Review final terms
          - Accept terms and conditions

      - step: 6
        action: Customer makes renewal payment
        options:
          - Pay now
          - Auto-debit on due date
          - Pay at branch

      - step: 7
        action: Customer receives renewal confirmation
        output:
          - Renewal certificate
          - Updated policy schedule
          - Premium receipt

    alternative_flows:
      - id: AF-001
        name: Customer Declines Renewal
        trigger: Customer chooses not to renew
        flow:
          - Record decline reason
          - Offer retention alternatives
          - Process policy expiry
          - Handle surrender value (if applicable)

      - id: AF-002
        name: No Response (Lapse)
        trigger: No response by grace period end
        flow:
          - Send reminder notifications
          - Mark policy as lapsed
          - Notify customer of lapse
          - Provide reinstatement options

    postconditions:
      - Renewal processed
      - Policy term extended
      - New documents issued

    business_rules:
      - renewal-rules.yaml

    related_workflows:
      - renewal-workflow.yaml

  # ============================================
  # Cancellation Journey
  # ============================================
  - id: UC-CUST-009
    name: Cancel Policy
    display_name: Cancel My Policy
    description: Customer initiates policy cancellation

    preconditions:
      - Customer is authenticated
      - Policy is active or within free-look period

    main_flow:
      - step: 1
        action: Customer initiates cancellation
        inputs:
          - Reason for cancellation
          - Effective date preference

      - step: 2
        action: System checks cancellation eligibility
        checks:
          - Free-look period status
          - Pending claims
          - Outstanding loans
        output: Eligibility confirmation

      - step: 3
        action: System calculates refund
        calculation:
          free_look: Full premium minus expenses
          standard: Surrender value or pro-rata
        output:
          - Refund amount
          - Deductions breakdown
          - Net payable

      - step: 4
        action: Customer reviews cancellation terms
        display:
          - Refund amount
          - Coverage end date
          - Impact explanation

      - step: 5
        action: Customer provides bank details
        inputs:
          - Bank account for refund
          - Account verification

      - step: 6
        action: Customer confirms cancellation
        confirmation:
          - Final acknowledgment
          - Signature/OTP

      - step: 7
        action: System processes cancellation
        processing:
          - Cancel policy
          - Process refund
          - Generate documents

      - step: 8
        action: Customer receives confirmation
        output:
          - Cancellation letter
          - Refund confirmation
          - Settlement statement

    alternative_flows:
      - id: AF-001
        name: Retention Attempt
        trigger: High-value customer requests cancellation
        flow:
          - Connect with retention team
          - Present retention offers
          - If accepted, withdraw cancellation

      - id: AF-002
        name: Pending Claims
        trigger: Claims in progress
        flow:
          - Notify of pending claims
          - Option to wait for claim settlement
          - Adjusted refund calculation

    postconditions:
      - Policy cancelled
      - Refund processed
      - Documents issued

    business_rules:
      - cancellation-rules.yaml

    related_workflows:
      - cancellation-workflow.yaml

  # ============================================
  # Service & Support Journey
  # ============================================
  - id: UC-CUST-010
    name: Download Policy Documents
    display_name: Get Documents
    description: Customer downloads policy-related documents

    preconditions:
      - Customer is authenticated
      - Documents exist for policy

    main_flow:
      - step: 1
        action: Customer navigates to documents section

      - step: 2
        action: Customer selects document type
        categories:
          - Policy documents
          - Premium receipts
          - Endorsements
          - Claim documents
          - Correspondence

      - step: 3
        action: Customer downloads document
        formats:
          - PDF (default)
          - Print option

      - step: 4
        action: System logs document access
        audit:
          - Document type
          - Access timestamp
          - User details

    postconditions:
      - Document downloaded
      - Access logged

  - id: UC-CUST-011
    name: Request Policy Certificate
    display_name: Get Certificate
    description: Customer requests certificate for specific purpose

    preconditions:
      - Policy is active
      - Certificate type supported

    main_flow:
      - step: 1
        action: Customer selects certificate type
        options:
          - Insurance certificate
          - No claim certificate
          - Premium paid certificate
          - Custom certificate

      - step: 2
        action: Customer provides purpose
        inputs:
          - Purpose of certificate
          - Recipient details (optional)
          - Special requirements

      - step: 3
        action: System generates certificate
        processing:
          - Validate policy status
          - Generate certificate
          - Apply digital signature

      - step: 4
        action: Customer downloads certificate
        delivery:
          - Immediate download
          - Email delivery

    postconditions:
      - Certificate generated
      - Delivery confirmed

  - id: UC-CUST-012
    name: Contact Customer Support
    display_name: Get Help
    description: Customer seeks assistance or information

    main_flow:
      - step: 1
        action: Customer selects support channel
        options:
          - Live chat
          - Phone call
          - Email
          - Callback request
          - FAQ/Self-service

      - step: 2
        action: Customer describes issue
        inputs:
          - Issue category
          - Description
          - Policy reference (optional)

      - step: 3
        action: System routes request
        routing:
          - General inquiries → First level support
          - Claims → Claims team
          - Technical → Tech support
          - Complaints → Escalation team

      - step: 4
        action: Support agent assists
        resolution:
          - Provide information
          - Process request
          - Escalate if needed

      - step: 5
        action: Customer receives resolution
        output:
          - Issue resolution
          - Reference number
          - Follow-up if needed

    postconditions:
      - Support ticket created
      - Issue addressed or escalated

customer_journey_map:
  awareness:
    touchpoints:
      - Website/app browsing
      - Marketing communications
      - Agent contact
    goals:
      - Understand insurance needs
      - Compare products

  consideration:
    touchpoints:
      - Quote request (UC-CUST-001)
      - Product comparison
      - Agent consultation
    goals:
      - Get personalized quote
      - Understand coverage
      - Compare options

  purchase:
    touchpoints:
      - Online application (UC-CUST-002)
      - Document submission
      - Payment
    goals:
      - Complete application
      - Make payment
      - Receive policy

  onboarding:
    touchpoints:
      - Welcome communication
      - Portal registration
      - Document download
    goals:
      - Understand policy
      - Set up account
      - Configure preferences

  service:
    touchpoints:
      - Policy management (UC-CUST-003 to UC-CUST-007)
      - Premium payments
      - Support requests
    goals:
      - Manage policy easily
      - Stay covered
      - Get help when needed

  renewal:
    touchpoints:
      - Renewal notification (UC-CUST-008)
      - Renewal review
      - Payment
    goals:
      - Continue coverage
      - Review and adjust

  exit:
    touchpoints:
      - Cancellation request (UC-CUST-009)
      - Feedback
    goals:
      - Smooth exit process
      - Receive refund

success_metrics:
  - metric: quote_to_policy_conversion
    target: ">= 30%"
    measurement: "Policies issued / Quotes generated"

  - metric: customer_satisfaction
    target: ">= 4.0/5.0"
    measurement: "Post-interaction surveys"

  - metric: self_service_adoption
    target: ">= 70%"
    measurement: "Online transactions / Total transactions"

  - metric: renewal_rate
    target: ">= 85%"
    measurement: "Renewed policies / Eligible renewals"

  - metric: first_contact_resolution
    target: ">= 80%"
    measurement: "Issues resolved on first contact"

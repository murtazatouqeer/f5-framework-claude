name: Agent Use Cases
display_name: Insurance Agent Use Cases
description: |
  Agent workflow use cases for insurance policy management.
  Covers sales activities, customer servicing, and performance management.

domain: insurance
subdomain: policy
category: use-cases
version: "1.0.0"
status: active

actor:
  id: agent
  name: Insurance Agent
  type: internal
  description: Licensed insurance agent or broker representing the company
  subtypes:
    - tied_agent: Exclusive to one insurer
    - broker: Represents multiple insurers
    - corporate_agent: Bank or corporate entity

use_cases:
  # ============================================
  # Sales Activities
  # ============================================
  - id: UC-AGT-001
    name: Create Customer Quote
    display_name: Generate Quote for Customer
    description: Agent creates insurance quote on behalf of customer

    preconditions:
      - Agent is authenticated and licensed
      - Customer information available
      - Product catalog accessible

    main_flow:
      - step: 1
        action: Agent selects customer
        options:
          - Search existing customer
          - Create new prospect
        inputs:
          - Customer identifier or details

      - step: 2
        action: Agent performs needs analysis
        inputs:
          - Financial situation
          - Protection needs
          - Risk tolerance
          - Budget constraints
        output: Recommended products and coverage

      - step: 3
        action: Agent selects appropriate product
        considerations:
          - Customer needs match
          - Eligibility criteria
          - Premium affordability

      - step: 4
        action: Agent enters customer details
        inputs:
          - Personal information
          - Risk information
          - Health declaration (if applicable)
        validation: Real-time eligibility check

      - step: 5
        action: Agent configures coverage
        inputs:
          - Sum insured
          - Policy term
          - Riders selection
          - Payment frequency
        validation: Coverage limits and rules

      - step: 6
        action: System calculates premium
        output:
          - Premium breakdown
          - Commission preview (agent view)
          - Customer-ready quote

      - step: 7
        action: Agent reviews and adjusts
        options:
          - Modify coverage
          - Apply special discounts (if authorized)
          - Add notes for underwriting

      - step: 8
        action: Agent presents to customer
        output:
          - Quote document
          - Benefits illustration
          - Comparison (if multiple options)

      - step: 9
        action: Agent sends quote
        channels:
          - Email to customer
          - Print for presentation
          - SMS link

    alternative_flows:
      - id: AF-001
        name: Customer Ineligible
        trigger: Eligibility check fails
        flow:
          - Display ineligibility reason
          - Suggest alternative products
          - Record interaction for follow-up

      - id: AF-002
        name: Special Rating Required
        trigger: Risk factors require underwriting
        flow:
          - Flag quote for underwriting
          - Estimate potential loading
          - Set customer expectations

    postconditions:
      - Quote created and saved
      - Customer linked to quote
      - Follow-up scheduled

    related_workflows:
      - quote-workflow.yaml

  - id: UC-AGT-002
    name: Submit Policy Application
    display_name: Submit Application
    description: Agent submits complete application for policy issuance

    preconditions:
      - Valid quote exists (optional)
      - Customer has agreed to proceed
      - Required documents available

    main_flow:
      - step: 1
        action: Agent retrieves or creates application
        options:
          - Convert existing quote
          - Create new application

      - step: 2
        action: Agent completes application form
        sections:
          - Proposer details
          - Insured details
          - Coverage selection
          - Health declaration
          - Beneficiary nomination
          - Payment details

      - step: 3
        action: Agent collects documents
        required:
          - Identity proof (proposer/insured)
          - Address proof
          - Age proof
          - Income proof (if sum insured above threshold)
          - Signed application form
        optional:
          - Existing policy copies
          - Medical reports

      - step: 4
        action: Agent uploads documents
        processing:
          - Document scanning/upload
          - Quality check
          - Document tagging

      - step: 5
        action: Agent verifies completeness
        checklist:
          - All mandatory fields completed
          - All required documents attached
          - Signatures in place
          - No inconsistencies

      - step: 6
        action: Agent collects initial premium
        methods:
          - Card payment (POS/online)
          - Bank transfer
          - Cheque collection
          - Cash (if permitted)
        output: Payment receipt

      - step: 7
        action: Agent submits application
        processing:
          - System validation
          - Fraud checks
          - Auto-routing
        output: Application reference number

      - step: 8
        action: Agent tracks application status
        tracking:
          - Real-time status updates
          - Document status
          - Underwriting status

    alternative_flows:
      - id: AF-001
        name: Document Issues
        trigger: Document verification fails
        flow:
          - Identify document issues
          - Request corrected documents
          - Resubmit when received

      - id: AF-002
        name: Medical Exam Required
        trigger: Underwriting requests medical
        flow:
          - Inform customer
          - Schedule medical appointment
          - Coordinate with panel doctor
          - Follow up on results

      - id: AF-003
        name: Counter Offer
        trigger: Application approved with conditions
        flow:
          - Receive modified terms
          - Explain changes to customer
          - Obtain acceptance or rejection
          - Submit customer decision

    postconditions:
      - Application submitted
      - Status tracking enabled
      - Customer notified

    related_workflows:
      - policy-issuance-workflow.yaml

  - id: UC-AGT-003
    name: Manage Sales Pipeline
    display_name: Track Sales Pipeline
    description: Agent manages leads and opportunities

    preconditions:
      - Agent is authenticated
      - Pipeline data exists

    main_flow:
      - step: 1
        action: Agent views pipeline dashboard
        display:
          - Leads by stage
          - Quotes pending
          - Applications in progress
          - Target vs achievement

      - step: 2
        action: Agent reviews hot leads
        filters:
          - Quote expiry approaching
          - Recent customer interest
          - High value opportunities

      - step: 3
        action: Agent prioritizes follow-ups
        criteria:
          - Days since last contact
          - Quote value
          - Conversion probability

      - step: 4
        action: Agent schedules activities
        activities:
          - Call follow-up
          - Meeting appointment
          - Document collection
          - Presentation

      - step: 5
        action: Agent logs interactions
        inputs:
          - Interaction type
          - Outcome
          - Next steps
          - Notes

      - step: 6
        action: Agent updates opportunity status
        statuses:
          - New
          - Contacted
          - Qualified
          - Proposal
          - Negotiation
          - Won/Lost

    postconditions:
      - Pipeline updated
      - Activities scheduled
      - Performance tracked

  # ============================================
  # Customer Servicing
  # ============================================
  - id: UC-AGT-004
    name: Process Customer Request
    display_name: Handle Service Request
    description: Agent assists customer with policy service request

    preconditions:
      - Customer has active policy
      - Request type is within agent scope

    main_flow:
      - step: 1
        action: Agent identifies customer
        methods:
          - Policy number
          - Customer ID
          - Mobile number
          - Name search

      - step: 2
        action: Agent views customer profile
        display:
          - Active policies
          - Recent interactions
          - Pending requests
          - Payment status

      - step: 3
        action: Agent determines request type
        categories:
          - Information inquiry
          - Document request
          - Policy change (endorsement)
          - Payment assistance
          - Complaint

      - step: 4
        action: Agent processes request
        processing:
          varies_by_request_type: true
          may_include:
            - System updates
            - Document generation
            - Request submission
            - Escalation

      - step: 5
        action: Agent provides resolution
        output:
          - Request outcome
          - Reference number
          - Timeline (if pending)

      - step: 6
        action: Agent documents interaction
        inputs:
          - Request details
          - Resolution
          - Follow-up needed

    postconditions:
      - Request processed or escalated
      - Interaction logged
      - Customer informed

  - id: UC-AGT-005
    name: Initiate Policy Endorsement
    display_name: Request Policy Change
    description: Agent initiates endorsement on behalf of customer

    preconditions:
      - Customer has active policy
      - Endorsement type permitted
      - Agent authorized for endorsement

    main_flow:
      - step: 1
        action: Agent selects policy
        validation: Policy is endorsement-eligible

      - step: 2
        action: Agent selects endorsement type
        options:
          - Sum insured change
          - Rider addition/removal
          - Beneficiary change
          - Contact details update
          - Payment method change

      - step: 3
        action: Agent enters change details
        inputs:
          vary_by_endorsement_type: true
        validation: Business rules check

      - step: 4
        action: Agent uploads documents
        required_documents:
          vary_by_endorsement_type: true

      - step: 5
        action: System calculates impact
        output:
          - Premium adjustment
          - Coverage changes
          - Effective date

      - step: 6
        action: Agent obtains customer consent
        methods:
          - Customer signature (physical/digital)
          - OTP confirmation
          - Email confirmation

      - step: 7
        action: Agent submits endorsement
        output:
          - Endorsement request number
          - Expected completion date

      - step: 8
        action: Agent tracks endorsement
        tracking:
          - Status updates
          - Pending actions
          - Document status

    alternative_flows:
      - id: AF-001
        name: Underwriting Required
        trigger: Endorsement requires risk assessment
        flow:
          - Submit for underwriting
          - Track underwriting status
          - Communicate decision to customer

      - id: AF-002
        name: Additional Premium Required
        trigger: Endorsement increases premium
        flow:
          - Collect additional premium
          - Submit payment proof
          - Complete endorsement

    postconditions:
      - Endorsement submitted
      - Status trackable
      - Customer notified

    related_workflows:
      - endorsement-workflow.yaml

  - id: UC-AGT-006
    name: Process Renewal
    display_name: Handle Policy Renewal
    description: Agent manages policy renewal process

    preconditions:
      - Policy approaching renewal
      - Renewal offer available

    main_flow:
      - step: 1
        action: Agent views renewal portfolio
        display:
          - Renewals due this month
          - Renewal status
          - Premium changes
          - Risk indicators

      - step: 2
        action: Agent contacts customer
        purpose:
          - Remind of renewal
          - Explain premium changes
          - Discuss coverage needs
        channels:
          - Phone call
          - WhatsApp/SMS
          - Email

      - step: 3
        action: Agent reviews coverage
        with_customer:
          - Current coverage adequacy
          - Life changes affecting needs
          - Budget considerations

      - step: 4
        action: Agent presents renewal options
        options:
          - Renew as-is
          - Modify coverage
          - Alternative products

      - step: 5
        action: Agent processes renewal decision
        if_renewing:
          - Confirm coverage
          - Arrange payment
          - Submit renewal
        if_declining:
          - Record decline reason
          - Attempt retention
          - Process surrender (if applicable)

      - step: 6
        action: Agent collects renewal premium
        methods:
          - Same as initial premium collection

      - step: 7
        action: Agent confirms renewal
        output:
          - Renewal confirmation
          - Updated documents
          - Next premium schedule

    alternative_flows:
      - id: AF-001
        name: Customer Hesitant
        trigger: Customer considering cancellation
        flow:
          - Understand concerns
          - Present retention offers
          - Escalate to retention team if needed

      - id: AF-002
        name: Premium Increase Concern
        trigger: Customer objects to premium increase
        flow:
          - Explain increase reasons
          - Offer alternatives (reduce coverage, different product)
          - Apply discount if authorized

    postconditions:
      - Renewal processed or declined
      - Status updated
      - Commission calculated

    related_workflows:
      - renewal-workflow.yaml

  - id: UC-AGT-007
    name: Handle Customer Complaint
    display_name: Manage Complaint
    description: Agent receives and processes customer complaint

    preconditions:
      - Customer has complaint
      - Agent is authorized to handle

    main_flow:
      - step: 1
        action: Agent listens to complaint
        approach:
          - Active listening
          - Empathy expression
          - Issue clarification

      - step: 2
        action: Agent captures complaint details
        inputs:
          - Complaint category
          - Description
          - Customer expectations
          - Supporting documents

      - step: 3
        action: Agent assesses complaint
        assessment:
          - Validity
          - Urgency
          - Resolution options
          - Escalation need

      - step: 4
        action: Agent attempts resolution
        if_resolvable:
          - Provide immediate solution
          - Document resolution
        if_not_resolvable:
          - Explain process
          - Set expectations
          - Escalate appropriately

      - step: 5
        action: Agent logs complaint
        system_entry:
          - Complaint reference
          - Category
          - Priority
          - Assignment

      - step: 6
        action: Agent follows up
        tracking:
          - Resolution status
          - TAT compliance
          - Customer satisfaction

    postconditions:
      - Complaint logged
      - Resolution initiated
      - Customer informed

  # ============================================
  # Performance & Administration
  # ============================================
  - id: UC-AGT-008
    name: View Commission Statement
    display_name: Check Commission
    description: Agent views commission earnings and payments

    preconditions:
      - Agent is authenticated
      - Commission data available

    main_flow:
      - step: 1
        action: Agent accesses commission portal

      - step: 2
        action: Agent selects period
        options:
          - Current month
          - Previous month
          - Custom range
          - Financial year

      - step: 3
        action: Agent views commission summary
        display:
          - Gross commission earned
          - Clawbacks (if any)
          - Taxes withheld
          - Net payable

      - step: 4
        action: Agent views commission details
        breakdown:
          - Policy-wise commission
          - Product-wise summary
          - First year vs renewal
          - Override commission (if applicable)

      - step: 5
        action: Agent downloads statement
        formats:
          - PDF statement
          - Excel export

      - step: 6
        action: Agent raises query
        if_discrepancy:
          - Submit commission query
          - Attach supporting documents
          - Track query status

    postconditions:
      - Commission viewed
      - Statement downloaded (optional)
      - Query raised (if needed)

  - id: UC-AGT-009
    name: View Performance Dashboard
    display_name: Check Performance
    description: Agent monitors sales performance and targets

    main_flow:
      - step: 1
        action: Agent accesses dashboard

      - step: 2
        action: Agent views KPI summary
        metrics:
          - Premium collected (vs target)
          - Policies issued (vs target)
          - Persistency rate
          - Conversion rate
          - Customer satisfaction score

      - step: 3
        action: Agent views trend analysis
        display:
          - Month-on-month comparison
          - Year-on-year comparison
          - Rank among peers

      - step: 4
        action: Agent reviews product mix
        breakdown:
          - By product category
          - By premium band
          - By customer segment

      - step: 5
        action: Agent identifies opportunities
        insights:
          - Renewal opportunities
          - Cross-sell potential
          - Lapsed policies to revive

    postconditions:
      - Performance reviewed
      - Insights gained

  - id: UC-AGT-010
    name: Complete Training
    display_name: Take Training
    description: Agent completes mandatory or optional training

    preconditions:
      - Training assigned or available
      - Training platform accessible

    main_flow:
      - step: 1
        action: Agent views training catalog
        categories:
          - Mandatory compliance training
          - Product training
          - Sales skills
          - System training

      - step: 2
        action: Agent selects training module
        display:
          - Module description
          - Duration
          - Completion deadline
          - Certificate (if applicable)

      - step: 3
        action: Agent completes training
        formats:
          - Video modules
          - Interactive content
          - Reading materials
          - Practical exercises

      - step: 4
        action: Agent takes assessment
        if_required:
          - Quiz/test
          - Passing score required
          - Multiple attempts allowed

      - step: 5
        action: Agent receives certification
        output:
          - Completion certificate
          - Updated training record
          - CPD credits (if applicable)

    postconditions:
      - Training completed
      - Record updated
      - Certification issued

  - id: UC-AGT-011
    name: Access Product Information
    display_name: View Products
    description: Agent accesses product details and materials

    main_flow:
      - step: 1
        action: Agent browses product catalog
        view:
          - Active products
          - Product categories
          - New launches

      - step: 2
        action: Agent selects product
        display:
          - Product features
          - Eligibility criteria
          - Premium rates
          - Commission structure

      - step: 3
        action: Agent accesses sales materials
        materials:
          - Product brochure
          - Sales presentation
          - Benefit illustration
          - FAQ document
          - Competitor comparison

      - step: 4
        action: Agent downloads materials
        formats:
          - PDF documents
          - Presentation slides
          - Video content

    postconditions:
      - Information accessed
      - Materials downloaded

agent_performance_framework:
  kpis:
    - name: premium_collected
      description: Total premium collected
      target: Monthly target set by management

    - name: policies_issued
      description: Number of policies issued
      target: Monthly target set by management

    - name: persistency_13_month
      description: 13-month policy persistency rate
      target: ">= 85%"

    - name: renewal_rate
      description: Policy renewal rate
      target: ">= 85%"

    - name: conversion_rate
      description: Quote to policy conversion
      target: ">= 30%"

    - name: customer_satisfaction
      description: Customer satisfaction score
      target: ">= 4.0/5.0"

  incentives:
    - type: commission
      structure: First year + renewal + override

    - type: bonus
      criteria: Target achievement

    - type: recognition
      programs:
        - Top performer awards
        - Club memberships
        - Trips and rewards

  compliance:
    requirements:
      - Active license
      - Mandatory training completion
      - No mis-selling complaints
      - Adequate persistency

success_metrics:
  - metric: agent_productivity
    target: ">= 5 policies per agent per month"
    measurement: "Policies issued / Active agents"

  - metric: application_quality
    target: ">= 95% first-time right"
    measurement: "Applications without rework / Total applications"

  - metric: customer_retention
    target: ">= 85%"
    measurement: "Retained customers / Total customers"

  - metric: service_response_time
    target: "<= 4 hours"
    measurement: "Average time to respond to service requests"

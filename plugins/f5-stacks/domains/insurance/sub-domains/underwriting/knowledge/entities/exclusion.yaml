name: exclusion
display_name: Exclusion
description: |
  Underwriting exclusion (rider exclusion) applied to an insurance policy
  to remove coverage for specific conditions, activities, or body parts.

domain: insurance
subdomain: underwriting
category: entities
version: "1.0.0"
status: active

attributes:
  identification:
    - name: id
      type: uuid
      primary_key: true
      description: Unique exclusion identifier

    - name: case_id
      type: uuid
      required: true
      foreign_key: underwriting_cases.id
      description: Reference to underwriting case

    - name: exclusion_number
      type: string
      format: "EX-{case_number}-{NN}"
      unique: true
      generated: true
      description: Exclusion reference number

  type:
    - name: exclusion_type
      type: enum
      values:
        - specific_condition
        - body_part
        - activity
        - occupation
        - geographic
        - cause_of_loss
      required: true
      description: Type of exclusion

    - name: category
      type: enum
      values:
        - medical
        - lifestyle
        - occupational
        - other
      description: Exclusion category

  status:
    - name: status
      type: enum
      values:
        - proposed
        - approved
        - applied
        - reviewed
        - removed
      default: proposed
      description: Exclusion status

  details:
    - name: exclusion_code
      type: string
      required: true
      description: Standard exclusion code

    - name: exclusion_title
      type: string
      required: true
      description: Short exclusion title

    - name: exclusion_wording
      type: text
      required: true
      description: Full exclusion wording for policy

    - name: exclusion_wording_vn
      type: text
      description: Vietnamese exclusion wording

    - name: icd_codes
      type: array
      items:
        type: string
      description: Related ICD-10 codes

    - name: body_parts
      type: array
      items:
        type: string
      description: Excluded body parts (if applicable)

    - name: activities
      type: array
      items:
        type: string
      description: Excluded activities (if applicable)

  reason:
    - name: reason
      type: text
      required: true
      description: Reason for exclusion

    - name: risk_factor_id
      type: uuid
      foreign_key: risk_factors.id
      description: Related risk factor

    - name: medical_condition
      type: string
      description: Specific medical condition

    - name: condition_details
      type: text
      description: Details of condition

  scope:
    - name: applies_to_coverages
      type: array
      items:
        type: object
        properties:
          coverage_code:
            type: string
          coverage_name:
            type: string
          exclusion_applied:
            type: boolean
      description: Coverages affected by exclusion

    - name: applies_to_all_coverages
      type: boolean
      default: false
      description: Whether applies to all coverages

  duration:
    - name: permanent
      type: boolean
      default: true
      description: Whether exclusion is permanent

    - name: review_date
      type: date
      description: Review date for temporary exclusion

    - name: review_criteria
      type: text
      description: Criteria for review/removal

    - name: removal_conditions
      type: text
      description: Conditions under which exclusion can be removed

    - name: minimum_exclusion_period_years
      type: integer
      description: Minimum years before review

  approval:
    - name: proposed_by
      type: uuid
      foreign_key: users.id
      description: Underwriter who proposed

    - name: proposed_at
      type: timestamp
      description: Proposal timestamp

    - name: approved_by
      type: uuid
      foreign_key: users.id
      description: Approver

    - name: approved_at
      type: timestamp
      description: Approval timestamp

    - name: authority_level
      type: enum
      values:
        - underwriter
        - senior_underwriter
        - chief_underwriter
        - committee
      description: Authority level for approval

    - name: approval_notes
      type: text
      description: Approval notes

  applicant_consent:
    - name: consent_required
      type: boolean
      default: true
      description: Whether applicant consent required

    - name: consent_received
      type: boolean
      default: false
      description: Whether consent received

    - name: consent_date
      type: date
      description: Date consent received

    - name: consent_document_url
      type: string
      format: url
      description: Signed consent document

  audit:
    - name: created_at
      type: timestamp
      default: now()

    - name: updated_at
      type: timestamp

    - name: removed_at
      type: timestamp
      description: If removed, when

    - name: removed_by
      type: uuid
      foreign_key: users.id
      description: Who removed

    - name: removal_reason
      type: text
      description: Reason for removal

relationships:
  - name: underwriting_case
    type: belongs_to
    entity: underwriting_case
    foreign_key: case_id
    description: Parent underwriting case

  - name: risk_factor
    type: belongs_to
    entity: risk_factor
    foreign_key: risk_factor_id
    description: Related risk factor

  - name: decision
    type: belongs_to
    entity: underwriting_decision
    foreign_key: decision_id
    description: Associated decision

  - name: proposer
    type: belongs_to
    entity: user
    foreign_key: proposed_by
    description: Proposing underwriter

  - name: approver
    type: belongs_to
    entity: user
    foreign_key: approved_by
    description: Approving authority

standard_exclusions:
  medical:
    - code: EX-MED-001
      title: Pre-existing Back Condition
      wording: |
        No benefit shall be payable for any claim arising directly or indirectly
        from any condition of the spine, including but not limited to intervertebral
        disc disease, herniated disc, degenerative disc disease, spinal stenosis,
        or any related symptoms.
      typical_conditions:
        - Herniated disc
        - Chronic back pain
        - Spinal surgery history

    - code: EX-MED-002
      title: Pre-existing Mental Health Condition
      wording: |
        No benefit shall be payable for any claim arising directly or indirectly
        from any mental or nervous disorder, including but not limited to depression,
        anxiety, bipolar disorder, schizophrenia, or any related symptoms.

    - code: EX-MED-003
      title: Pre-existing Diabetes Complications
      wording: |
        No benefit shall be payable for any claim arising directly or indirectly
        from complications of diabetes mellitus, including but not limited to
        diabetic retinopathy, nephropathy, neuropathy, or cardiovascular disease
        attributable to diabetes.

  body_part:
    - code: EX-BP-001
      title: Left/Right Knee Exclusion
      wording: |
        No benefit shall be payable for any claim arising directly or indirectly
        from any condition affecting the [LEFT/RIGHT] knee, including but not limited
        to injury, surgery, or degenerative changes.

  activity:
    - code: EX-ACT-001
      title: Aviation Exclusion
      wording: |
        No benefit shall be payable for any claim arising directly or indirectly
        from aviation activities, other than as a fare-paying passenger on a
        licensed commercial aircraft.

    - code: EX-ACT-002
      title: Motor Racing Exclusion
      wording: |
        No benefit shall be payable for any claim arising directly or indirectly
        from participation in motor racing, rallying, or similar activities,
        whether as driver, passenger, or crew member.

  occupational:
    - code: EX-OCC-001
      title: Hazardous Occupation Exclusion
      wording: |
        No benefit shall be payable for any claim arising directly or indirectly
        from the insured's occupation as [OCCUPATION], including any activities
        performed in the course of such employment.

removal_process:
  conditions:
    - Minimum exclusion period elapsed (typically 2-5 years)
    - No claims related to excluded condition
    - Medical evidence of improvement/stability
    - Underwriter review and approval

  documentation_required:
    - Recent medical examination
    - Specialist report (if applicable)
    - Treatment records
    - Statement of no symptoms

  authority:
    - Underwriter: Cannot remove unilaterally
    - Senior underwriter: Simple exclusions with clear evidence
    - Chief underwriter: Complex exclusions
    - Committee: High-value or disputed cases

indexes:
  - columns: [case_id]
  - columns: [status]
  - columns: [exclusion_type]
  - columns: [exclusion_code]
  - columns: [review_date]

business_rules:
  - rule: All exclusions require applicant consent
  - rule: Exclusions must use standard wording where available
  - rule: Custom wording requires legal review
  - rule: Review date must be set for non-permanent exclusions

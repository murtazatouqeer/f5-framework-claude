name: subscription
parent: e-commerce
display_name: Subscription Commerce

description: |
  Subscription-based e-commerce for recurring
  product deliveries and membership services.

variants:
  - id: box
    name: Subscription Box
    scale: [starter, growth]
    features: [curated-boxes, recurring-billing, skip-pause]

  - id: membership
    name: Membership Commerce
    scale: [growth, enterprise]
    features: [member-pricing, exclusive-access, loyalty-points]

entities:
  - name: Subscription
    attributes:
      - customer_id: string
      - plan_id: string
      - status: enum[active, paused, cancelled]
      - next_billing_date: date
      - next_delivery_date: date

  - name: SubscriptionPlan
    attributes:
      - name: string
      - price: number
      - frequency: enum[weekly, monthly, quarterly]
      - products: Product[]

  - name: SubscriptionOrder
    attributes:
      - subscription_id: string
      - billing_period: date_range
      - status: enum[pending, paid, shipped, delivered]

workflows:
  - name: subscription-lifecycle
    steps: [subscribe, bill, fulfill, renew]

  - name: subscription-modification
    steps: [request, validate, apply, notify]

suggested_services:
  - name: subscription-service
    stack: nestjs
    database: postgresql
    features: [plans, subscriptions, lifecycle]

  - name: recurring-billing-service
    stack: nestjs
    database: postgresql
    features: [billing-cycles, payment-retry, dunning]

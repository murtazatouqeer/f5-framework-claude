name: b2c-retail
parent: e-commerce
display_name: B2C Retail

description: |
  Business-to-consumer retail e-commerce platform
  for selling products directly to end consumers.

variants:
  - id: small-shop
    name: Small Online Shop
    scale: [starter]
    features: [product-catalog, cart, checkout, basic-payments]

  - id: medium-store
    name: Medium E-Commerce Store
    scale: [growth]
    features: [inventory, promotions, reviews, multi-payment, analytics]

  - id: large-marketplace
    name: Large Retail Platform
    scale: [enterprise]
    features: [multi-vendor, personalization, loyalty, omnichannel]

entities:
  - name: Product
    attributes:
      - sku: string
      - name: string
      - description: string
      - price: number
      - category_id: string
      - inventory_count: number
      - status: enum[active, inactive, out_of_stock]

  - name: Cart
    attributes:
      - customer_id: string
      - items: CartItem[]
      - subtotal: number
      - discount: number
      - total: number

  - name: Order
    attributes:
      - customer_id: string
      - items: OrderItem[]
      - shipping_address: Address
      - payment_method: string
      - status: enum[pending, paid, shipped, delivered, cancelled]
      - total: number

  - name: Customer
    attributes:
      - email: string
      - name: string
      - addresses: Address[]
      - orders: Order[]

workflows:
  - name: checkout
    steps: [cart-review, shipping, payment, confirmation]

  - name: order-fulfillment
    steps: [payment-capture, pick-pack, ship, deliver, complete]

  - name: return-refund
    steps: [request, approve, receive, inspect, refund]

suggested_services:
  - name: catalog-service
    stack: nestjs
    database: postgresql
    search: elasticsearch
    features: [products, categories, search]

  - name: cart-service
    stack: nestjs
    database: redis
    features: [cart-management, pricing]

  - name: order-service
    stack: nestjs
    database: postgresql
    queue: rabbitmq
    features: [order-management, fulfillment]

  - name: customer-service
    stack: nestjs
    database: postgresql
    features: [auth, profiles, addresses]

name: marketplace
parent: e-commerce
display_name: Marketplace

description: |
  Multi-vendor marketplace platform connecting
  sellers with buyers.

variants:
  - id: vertical
    name: Vertical Marketplace
    scale: [growth]
    features: [seller-onboarding, product-listing, escrow, reviews]

  - id: horizontal
    name: Horizontal Marketplace
    scale: [enterprise]
    features: [multi-category, seller-tools, advertising, logistics]

entities:
  - name: Seller
    attributes:
      - business_name: string
      - status: enum[pending, active, suspended]
      - commission_rate: number
      - products: Product[]
      - rating: number

  - name: Listing
    attributes:
      - seller_id: string
      - product_id: string
      - price: number
      - inventory: number
      - status: enum[active, inactive, sold_out]

  - name: MarketplaceOrder
    attributes:
      - buyer_id: string
      - seller_id: string
      - items: OrderItem[]
      - commission: number
      - seller_payout: number

workflows:
  - name: seller-onboarding
    steps: [registration, verification, approval, activation]

  - name: order-split
    steps: [order-receive, split-by-seller, fulfill, settle]

  - name: dispute-resolution
    steps: [dispute-open, evidence, review, resolution]

suggested_services:
  - name: seller-service
    stack: nestjs
    database: postgresql
    features: [onboarding, management, analytics]

  - name: marketplace-order-service
    stack: nestjs
    database: postgresql
    features: [order-splitting, settlement, disputes]

  - name: payout-service
    stack: nestjs
    database: postgresql
    features: [commission-calculation, payouts]

name: Admin Use Cases
display_name: Admin Use Cases / Ca sử dụng quản trị viên
description: |
  Use cases for e-commerce administrators including product management,
  order management, customer service, and system configuration.

domain: e-commerce
actor: Admin
version: "1.0"

use_cases:
  # Product Management
  - id: UC-ADM-001
    name: Create Product
    name_vi: Tạo sản phẩm
    description: Admin creates a new product
    actor: Admin
    preconditions:
      - Admin is logged in
      - Admin has product management permission
    main_flow:
      1: Admin navigates to product management
      2: Admin clicks "Add Product"
      3: Admin enters basic info (name, SKU, description)
      4: Admin sets pricing (cost, sell price, compare price)
      5: Admin uploads images and media
      6: Admin configures inventory settings
      7: Admin assigns categories and tags
      8: Admin configures SEO settings
      9: Admin saves as draft or publishes
    alternative_flows:
      - id: 5a
        condition: Product has variants
        steps:
          1: Admin defines variant options (size, color)
          2: Admin generates variant combinations
          3: Admin sets individual variant pricing/inventory
      - id: 9a
        condition: Schedule publication
        steps:
          1: Admin sets publish date/time
          2: Product saved as scheduled
    postconditions:
      - Product created in system
      - Inventory initialized
      - Ready for sale if published
    business_rules: [BR-PRD-001 through BR-PRD-010]
    related_entities: [Product, ProductVariant, Category, Inventory]

  - id: UC-ADM-002
    name: Manage Product Catalog
    name_vi: Quản lý danh mục sản phẩm
    description: Admin manages product catalog
    actor: Admin
    preconditions:
      - Admin is logged in with appropriate permissions
    main_flow:
      1: Admin navigates to product list
      2: Admin filters/searches products
      3: Admin selects products for bulk action
      4: Admin performs action (update, delete, export)
    alternative_flows:
      - id: 4a
        condition: Bulk price update
        steps:
          1: Select products
          2: Choose price update method (fixed, percentage)
          3: Preview changes
          4: Apply changes
      - id: 4b
        condition: Bulk status change
        steps:
          1: Select products
          2: Choose new status
          3: Confirm change
    postconditions:
      - Products updated
      - Changes logged
    related_entities: [Product, ProductVariant]

  - id: UC-ADM-003
    name: Manage Categories
    name_vi: Quản lý danh mục
    description: Admin manages product categories
    actor: Admin
    preconditions:
      - Admin is logged in with appropriate permissions
    main_flow:
      1: Admin navigates to category management
      2: Admin views category tree
      3: Admin creates/edits/deletes categories
      4: Admin reorders categories via drag-drop
      5: Admin assigns products to categories
    alternative_flows:
      - id: 3a
        condition: Create subcategory
        steps:
          1: Select parent category
          2: Add new subcategory
          3: Configure category settings
    postconditions:
      - Category structure updated
      - Product assignments updated
    business_rules: [BR-CAT-001 through BR-CAT-006]
    related_entities: [Category, Product]

  - id: UC-ADM-004
    name: Manage Inventory
    name_vi: Quản lý tồn kho
    description: Admin manages inventory levels
    actor: Admin
    preconditions:
      - Admin is logged in with inventory management permission
    main_flow:
      1: Admin navigates to inventory management
      2: Admin views current stock levels
      3: Admin filters by location/status
      4: Admin adjusts quantities with reason
      5: System logs adjustment
    alternative_flows:
      - id: 4a
        condition: Stock transfer
        steps:
          1: Select source and destination locations
          2: Select products and quantities
          3: Create transfer order
          4: Process transfer
      - id: 4b
        condition: Receive inventory
        steps:
          1: Select purchase order
          2: Enter received quantities
          3: Note any discrepancies
          4: Update inventory
    postconditions:
      - Inventory updated
      - Movement logged with audit trail
    business_rules: [BR-INV-001 through BR-INV-062]
    related_entities: [Inventory, Product, Warehouse]
    related_workflows: [inventory-management]

  # Order Management
  - id: UC-ADM-010
    name: View Orders
    name_vi: Xem đơn hàng
    description: Admin views and filters orders
    actor: Admin
    preconditions:
      - Admin is logged in with order management permission
    main_flow:
      1: Admin navigates to order management
      2: Admin applies filters (status, date, customer)
      3: System displays filtered orders
      4: Admin selects order to view details
      5: System displays complete order information
    postconditions:
      - Order information displayed
    related_entities: [Order, OrderItem, Customer]

  - id: UC-ADM-011
    name: Process Order
    name_vi: Xử lý đơn hàng
    description: Admin processes order through fulfillment
    actor: Admin
    preconditions:
      - Order in processable state
    main_flow:
      1: Admin views order details
      2: Admin verifies payment status
      3: Admin confirms inventory availability
      4: Admin moves order to processing
      5: Admin generates pick list
      6: Admin marks items as fulfilled
      7: Admin adds tracking information
      8: Admin marks as shipped
    alternative_flows:
      - id: 3a
        condition: Partial availability
        steps:
          1: Split order into multiple shipments
          2: Process available items
          3: Backorder remaining
    postconditions:
      - Order processed and shipped
      - Customer notified
      - Inventory deducted
    business_rules: [BR-ORD-040 through BR-ORD-062]
    related_entities: [Order, Shipment, Inventory]
    related_workflows: [order-lifecycle, fulfillment-workflow]

  - id: UC-ADM-012
    name: Cancel Order
    name_vi: Hủy đơn hàng
    description: Admin cancels an order
    actor: Admin
    preconditions:
      - Order in cancellable state
    main_flow:
      1: Admin navigates to order
      2: Admin clicks cancel order
      3: Admin selects cancellation reason
      4: Admin confirms cancellation
      5: System cancels order
      6: System releases inventory
      7: System initiates refund if needed
    postconditions:
      - Order cancelled
      - Inventory released
      - Refund initiated
      - Customer notified
    business_rules: [BR-ORD-030 through BR-ORD-033]
    related_entities: [Order, Inventory, Refund]

  - id: UC-ADM-013
    name: Process Refund
    name_vi: Xử lý hoàn tiền
    description: Admin processes customer refund
    actor: Admin
    preconditions:
      - Order has paid amount
      - Refund is justified
    main_flow:
      1: Admin navigates to order
      2: Admin clicks issue refund
      3: Admin enters refund amount
      4: Admin selects refund reason
      5: Admin confirms refund
      6: System processes refund to original payment
      7: Customer notified
    alternative_flows:
      - id: 5a
        condition: Partial refund
        steps:
          1: Enter partial amount
          2: Document reason for partial
          3: Process partial refund
    postconditions:
      - Refund processed
      - Order records updated
      - Customer notified
    related_entities: [Order, Refund, Payment]

  - id: UC-ADM-014
    name: Handle Return
    name_vi: Xử lý đổi trả
    description: Admin processes return request
    actor: Admin
    preconditions:
      - Return request submitted
    main_flow:
      1: Admin views return request
      2: Admin reviews customer evidence
      3: Admin approves or rejects return
      4: If approved, admin generates return label
      5: Admin monitors return shipment
      6: Admin inspects received items
      7: Admin processes refund or exchange
    postconditions:
      - Return processed
      - Refund/exchange completed
      - Inventory updated
    business_rules: [BR-RET-001 through BR-RET-062]
    related_entities: [Return, ReturnItem, Refund, Inventory]
    related_workflows: [return-refund-workflow]

  # Customer Management
  - id: UC-ADM-020
    name: View Customers
    name_vi: Xem khách hàng
    description: Admin views customer list and details
    actor: Admin
    preconditions:
      - Admin is logged in with customer management permission
    main_flow:
      1: Admin navigates to customer management
      2: Admin filters/searches customers
      3: Admin selects customer to view
      4: System displays customer profile
      5: Admin views order history, addresses, notes
    postconditions:
      - Customer information displayed
    related_entities: [Customer, Order, Address]

  - id: UC-ADM-021
    name: Manage Customer Account
    name_vi: Quản lý tài khoản khách hàng
    description: Admin manages customer account
    actor: Admin
    preconditions:
      - Admin has customer management permission
    main_flow:
      1: Admin views customer profile
      2: Admin updates customer information
      3: Admin manages customer tags
      4: Admin adds internal notes
      5: Admin saves changes
    alternative_flows:
      - id: 2a
        condition: Reset password
        steps:
          1: Admin triggers password reset
          2: Customer receives reset email
      - id: 2b
        condition: Suspend account
        steps:
          1: Admin selects suspend reason
          2: Admin confirms suspension
          3: Customer account suspended
    postconditions:
      - Customer account updated
      - Actions logged
    business_rules: [BR-CUS-001 through BR-CUS-012]
    related_entities: [Customer]

  # Promotions
  - id: UC-ADM-030
    name: Create Coupon
    name_vi: Tạo mã giảm giá
    description: Admin creates promotional coupon
    actor: Admin
    preconditions:
      - Admin has promotion management permission
    main_flow:
      1: Admin navigates to promotions
      2: Admin clicks create coupon
      3: Admin enters coupon code and name
      4: Admin selects discount type and value
      5: Admin sets usage limits
      6: Admin configures eligibility rules
      7: Admin sets validity period
      8: Admin activates coupon
    postconditions:
      - Coupon created and active
    business_rules: [BR-PRO-001 through BR-PRO-052]
    related_entities: [Coupon]

  - id: UC-ADM-031
    name: Manage Promotions
    name_vi: Quản lý khuyến mãi
    description: Admin manages promotional campaigns
    actor: Admin
    main_flow:
      1: Admin views promotion list
      2: Admin filters by status/type
      3: Admin edits or deactivates promotions
      4: Admin views promotion performance
    postconditions:
      - Promotions updated
    related_entities: [Coupon]

  # Reviews
  - id: UC-ADM-040
    name: Moderate Reviews
    name_vi: Kiểm duyệt đánh giá
    description: Admin moderates customer reviews
    actor: Admin
    preconditions:
      - Reviews pending moderation
    main_flow:
      1: Admin navigates to review moderation queue
      2: Admin views pending reviews
      3: Admin reviews content and images
      4: Admin approves or rejects review
      5: If rejected, admin provides reason
    alternative_flows:
      - id: 4a
        condition: Flag for further review
        steps:
          1: Admin flags review
          2: Assigns to senior moderator
    postconditions:
      - Review status updated
      - Product rating recalculated if approved
      - Customer notified if rejected
    business_rules: [BR-REV-001 through BR-REV-011]
    related_entities: [Review, Product]

  - id: UC-ADM-041
    name: Respond to Review
    name_vi: Phản hồi đánh giá
    description: Admin/Seller responds to customer review
    actor: Admin
    preconditions:
      - Review is approved
      - No existing response
    main_flow:
      1: Admin views review
      2: Admin writes response
      3: Admin submits response
      4: Response displayed on review
    postconditions:
      - Seller response added to review
    related_entities: [Review]

  # Reports
  - id: UC-ADM-050
    name: View Sales Reports
    name_vi: Xem báo cáo doanh số
    description: Admin views sales analytics
    actor: Admin
    preconditions:
      - Admin has reporting permission
    main_flow:
      1: Admin navigates to reports
      2: Admin selects report type
      3: Admin sets date range and filters
      4: System generates report
      5: Admin views/exports report
    report_types:
      - Sales summary
      - Product performance
      - Customer analytics
      - Order metrics
      - Inventory reports
      - Return/refund analysis
    postconditions:
      - Report displayed
      - Export available

  # Settings
  - id: UC-ADM-060
    name: Configure Store Settings
    name_vi: Cấu hình cài đặt cửa hàng
    description: Admin configures store settings
    actor: Admin
    preconditions:
      - Admin has store settings permission
    main_flow:
      1: Admin navigates to settings
      2: Admin selects setting category
      3: Admin modifies settings
      4: Admin saves changes
    setting_categories:
      - General (store name, contact, timezone)
      - Checkout (guest checkout, minimum order)
      - Shipping (methods, rates, free shipping threshold)
      - Payment (gateways, COD limit)
      - Tax (rates, rules)
      - Notifications (email templates)
      - Returns (window, policies)
    postconditions:
      - Settings saved
      - Changes effective immediately or scheduled

  - id: UC-ADM-061
    name: Manage Users & Roles
    name_vi: Quản lý người dùng & phân quyền
    description: Admin manages admin users and permissions
    actor: Super Admin
    preconditions:
      - Admin has user management permission
    main_flow:
      1: Admin navigates to user management
      2: Admin views user list
      3: Admin creates/edits users
      4: Admin assigns roles and permissions
      5: Admin saves changes
    alternative_flows:
      - id: 4a
        condition: Create custom role
        steps:
          1: Admin creates new role
          2: Admin selects permissions
          3: Admin saves role
    postconditions:
      - User/role updated
      - Permission changes effective immediately

non_functional_requirements:
  - Dashboard load time < 3 seconds
  - Support concurrent admin users
  - Audit logging for all actions
  - Role-based access control
  - Two-factor authentication support

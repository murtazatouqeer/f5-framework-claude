name: economy-rules
display_name: Economy Rules
description: |
  Rules governing the in-game economy including currencies,
  pricing, trading, loot boxes, and purchase policies.

domain: entertainment
subdomain: gaming
category: business-rules
version: "1.0.0"
status: active

rule_sets:
  # ============================================
  # CURRENCY SYSTEM
  # ============================================
  - id: BR-EC-001
    name: Currency Types
    description: Define and manage currency types
    category: currencies
    priority: critical
    rules:
      - id: R001
        name: Currency Definitions
        description: Types of in-game currencies
        condition: always
        action: |
          PRIMARY CURRENCIES:

          1. Premium Currency (Gems/Crystals):
             - Obtained via: Real money purchase
             - Uses: Premium items, battle pass, exclusive content
             - Non-tradeable, account-bound
             - Displayed prominently in UI

          2. Soft Currency (Gold/Coins):
             - Obtained via: Gameplay, rewards, achievements
             - Uses: Basic items, upgrades, crafting
             - Earn rate capped per day: 5000
             - Tradeable in some contexts

          3. Competitive Currency (Ranked Points):
             - Obtained via: Ranked play rewards
             - Uses: Competitive exclusive items
             - Season-bound, resets each season

          4. Event Currency:
             - Obtained via: Event participation
             - Uses: Event-specific items
             - Expires after event + 30 days
        rationale: Clear currency hierarchy prevents confusion

      - id: R002
        name: Currency Earning Rates
        description: How players earn currencies through play
        condition: player.completes_activity
        action: |
          SOFT CURRENCY EARNING:
          - Match completion: 50-200 gold
          - Match win bonus: +50%
          - Daily login: 100 gold
          - Daily mission: 100-300 gold each
          - Weekly mission: 500-1000 gold each
          - Achievement unlock: varies (100-5000)

          DAILY CAP: 5000 gold (excluding missions)
          WEEKLY CAP: 25000 gold total

          NO CAP on premium currency purchases
        rationale: Encourage play without excessive grinding

      - id: R003
        name: Currency Conversion
        description: Converting between currency types
        condition: player.requests_conversion
        action: |
          ALLOWED CONVERSIONS:
          - Premium → Soft: 1 gem = 100 gold
          - NOT allowed: Soft → Premium
          - NOT allowed: Real money withdrawal

          RATE is fixed and displayed clearly
          CONVERSION is immediate and irreversible
        validation:
          - No paths to convert in-game currency to real money

  # ============================================
  # PRICING AND PURCHASING
  # ============================================
  - id: BR-EC-010
    name: Pricing Rules
    description: Item pricing standards
    category: pricing
    priority: high
    rules:
      - id: R010
        name: Price Tiers
        description: Standard pricing tiers for items
        condition: setting_item_price
        action: |
          PREMIUM CURRENCY TIERS:
          - Common items: 50-200 gems
          - Uncommon items: 200-500 gems
          - Rare items: 500-1000 gems
          - Epic items: 1000-2000 gems
          - Legendary items: 2000-3500 gems

          REAL MONEY EQUIVALENTS (USD):
          - 100 gems = $1.00
          - 1100 gems = $10.00 (10% bonus)
          - 2500 gems = $20.00 (25% bonus)
          - 6500 gems = $50.00 (30% bonus)
          - 14000 gems = $100.00 (40% bonus)
        rationale: Clear value proposition at each tier

      - id: R011
        name: Sale Rules
        description: Discount and sale regulations
        condition: running_sale
        action: |
          SALE CONSTRAINTS:
          - Maximum discount: 75%
          - Sale duration: 1-14 days
          - Same item cannot be on sale within 30 days
          - Must show original price alongside sale price

          FLASH SALES:
          - Limited to 24 hours
          - Max once per item per month

          DISPLAY REQUIREMENTS:
          - Original price (struck through)
          - Sale price
          - Discount percentage
          - End date/time
        compliance: Consumer protection - no fake sales

      - id: R012
        name: Bundle Pricing
        description: Rules for item bundles
        condition: creating_bundle
        action: |
          BUNDLE REQUIREMENTS:
          - Must be cheaper than items separately
          - Minimum discount: 15%
          - Display individual item values
          - Show total savings

          DYNAMIC BUNDLES:
          - If player owns some items:
            - Adjust price proportionally
            - Show owned items
            - Only charge for unowned
        validation:
          - No bundles priced higher than sum of parts

  # ============================================
  # LOOT BOX REGULATIONS
  # ============================================
  - id: BR-EC-020
    name: Loot Box Rules
    description: Randomized purchase regulations
    category: loot_boxes
    priority: critical
    rules:
      - id: R020
        name: Odds Disclosure
        description: Transparent drop rates
        condition: loot_box_exists
        action: |
          MANDATORY DISCLOSURE:
          - All possible items listed
          - Exact probability for each item
          - Probability by rarity tier

          DISPLAY FORMAT:
          "Legendary: 2% (1 in 50)
           Epic: 10% (1 in 10)
           Rare: 28% (1 in 3.5)
           Common: 60% (3 in 5)"

          ACCESSIBLE before purchase decision

          CHANGES to odds require:
          - 7-day advance notice
          - Clear communication
        compliance: Legal requirements in regulated regions

      - id: R021
        name: Pity System
        description: Guaranteed drops after threshold
        condition: loot_box_purchase
        action: |
          PITY COUNTERS:
          - Epic pity: Guaranteed epic within 10 boxes
          - Legendary pity: Guaranteed legendary within 50 boxes

          COUNTER BEHAVIOR:
          - Persists across sessions
          - Resets only when triggered
          - Displayed to player: "14/50 until guaranteed legendary"

          IMPLEMENTATION:
          IF player.boxes_since_legendary >= 50:
            FORCE legendary drop
            RESET counter
        rationale: Prevent excessive spending without reward

      - id: R022
        name: Age Restrictions
        description: Loot box age verification
        condition: loot_box_purchase_attempt
        action: |
          IF player.age < 18 OR age_unknown:
            BLOCK real-money loot box purchase
            ALLOW earned-currency loot boxes

          IF region requires (Belgium, Netherlands, etc.):
            DISABLE loot boxes entirely
            OFFER direct purchase alternatives

          PARENTAL CONTROLS:
          - Option to disable all randomized purchases
          - Spending limits per day/week/month
        compliance: COPPA, regional gambling laws

      - id: R023
        name: Duplicate Protection
        description: Handling duplicate items
        condition: loot_box_contains_owned_item
        action: |
          OPTIONS (configurable per game):

          1. NO DUPLICATES:
             - Reroll until unique item
             - Pool shrinks as collection grows

          2. DUPLICATE COMPENSATION:
             - Convert to currency: item_value * 0.25
             - Or crafting materials

          3. DUPLICATE WITH VALUE:
             - Allow duplicates
             - Duplicates usable for upgrades/trading

          DISPLAY policy clearly before purchase
        rationale: Reduce frustration at duplicates

  # ============================================
  # TRADING RULES
  # ============================================
  - id: BR-EC-030
    name: Trading System
    description: Player-to-player trading rules
    category: trading
    priority: high
    rules:
      - id: R030
        name: Trade Eligibility
        description: Requirements to trade
        condition: player.initiates_trade
        action: |
          ACCOUNT REQUIREMENTS:
          - Account age > 30 days
          - Player level > 20
          - Email verified
          - No active trade restrictions
          - 2FA enabled (recommended)

          ITEM REQUIREMENTS:
          - Item.tradeable = true
          - Trade restriction period passed
          - Not currently listed for sale
        validation:
          - Both parties must meet requirements

      - id: R031
        name: Trade Restrictions
        description: Limits on trading activity
        condition: trading
        action: |
          RATE LIMITS:
          - Max trades per day: 10
          - Max trade value per day: 50,000 gold
          - Cooldown between trades: 5 minutes

          ITEM RESTRICTIONS:
          - Recently purchased items: 7-day lock
          - Recently received items: 24-hour lock
          - Account-bound items: Never tradeable

          SUSPICIOUS ACTIVITY:
          - Unusual trade patterns trigger review
          - Large value trades require confirmation
        rationale: Prevent RMT and exploitation

      - id: R032
        name: Trade Fees
        description: Marketplace and trade fees
        condition: trade_completed OR item_sold
        action: |
          DIRECT TRADES:
          - No fee for direct player trades

          MARKETPLACE SALES:
          - Listing fee: 5% of asking price (non-refundable)
          - Sale fee: 10% of sale price
          - Total fee: 15%

          PREMIUM SELLERS (VIP):
          - Reduced fees: 12% total

          FEE PURPOSE: Currency sink, market health
        rationale: Maintain economic balance

  # ============================================
  # REFUND POLICIES
  # ============================================
  - id: BR-EC-040
    name: Refund Rules
    description: Purchase refund policies
    category: refunds
    priority: critical
    rules:
      - id: R040
        name: Premium Currency Refunds
        description: Refunding real money purchases
        condition: player.requests_refund
        action: |
          ELIGIBLE FOR REFUND:
          - Within 14 days of purchase
          - Currency not spent
          - First refund request (per 6 months)

          AUTOMATIC APPROVAL:
          - Within 48 hours
          - Unspent currency
          - No suspicious patterns

          MANUAL REVIEW:
          - After 48 hours
          - Partial spend
          - Multiple requests

          REFUND METHOD:
          - Original payment method
          - Processing: 5-10 business days
        compliance: Platform policies, regional laws

      - id: R041
        name: Item Refunds
        description: Refunding purchased items
        condition: player.requests_item_refund
        action: |
          REFUND TOKENS:
          - Players receive 3 refund tokens per year
          - Token refunds: 7-day purchase window
          - Returns full purchase price (currency used)

          CONDITIONS:
          - Item not used/equipped
          - Not traded/gifted
          - Not part of collection completion

          EXCEPTIONS (no token needed):
          - Accidental purchase (immediate, same session)
          - Technical issues with item
          - Item removed from game
        rationale: Balance consumer protection with system integrity

  # ============================================
  # ANTI-FRAUD
  # ============================================
  - id: BR-EC-050
    name: Fraud Prevention
    description: Detecting and preventing economic fraud
    category: fraud_prevention
    priority: critical
    rules:
      - id: R050
        name: RMT Detection
        description: Detect real money trading
        condition: monitoring_economy
        action: |
          RED FLAGS:
          - One-sided trades of high value
          - New accounts receiving large transfers
          - Repeated trades between same accounts
          - Currency patterns matching RMT sites

          ACTIONS:
          - Flag for review
          - Temporary trade restriction
          - Investigation
          - Permanent ban if confirmed
        compliance: Terms of service enforcement

      - id: R051
        name: Chargeback Handling
        description: Handle payment chargebacks
        condition: chargeback_received
        action: |
          IMMEDIATE ACTIONS:
          - Suspend account pending review
          - Calculate outstanding balance

          IF chargeback_valid:
            - Remove purchased items/currency
            - Calculate account balance
            - If balance negative: require payment

          IF fraudulent_chargeback:
            - Contest chargeback
            - Permanent account ban
            - Report to payment provider

          RESTORATION:
          - Account restored after balance settled
          - Single occurrence: Warning
          - Multiple: Permanent restriction
        rationale: Protect revenue while being fair

compliance:
  standards:
    - ESRB/PEGI disclosure requirements
    - Regional loot box regulations
    - Consumer protection laws
    - Platform store policies
  monitoring:
    - Daily transaction volumes
    - Refund rates
    - Chargeback rates
    - Economy health indicators

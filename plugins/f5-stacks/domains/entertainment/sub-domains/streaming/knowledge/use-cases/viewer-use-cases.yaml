name: viewer-use-cases
display_name: Viewer Use Cases
description: |
  Use cases for streaming platform viewers/subscribers.
  Covers content discovery, playback, personalization, and account management.

domain: entertainment
subdomain: streaming
category: use-cases
version: "1.0.0"
status: active

actors:
  - id: viewer
    name: Viewer
    description: End user consuming streaming content
    type: primary

  - id: subscriber
    name: Subscriber
    description: Paid subscriber with full access
    type: primary

  - id: guest
    name: Guest
    description: Unauthenticated user with limited access
    type: secondary

use_cases:
  # ============================================
  # CONTENT DISCOVERY
  # ============================================
  - id: UC-VW-001
    name: Browse Catalog
    description: Browse available content in the streaming catalog
    actor: viewer
    preconditions:
      - User has access to the platform
    main_flow:
      - step: 1
        action: User opens the home page
        system_response: System displays personalized content rows
      - step: 2
        action: User scrolls through content categories
        system_response: System lazy-loads additional content
      - step: 3
        action: User selects a category or genre
        system_response: System displays filtered content grid
      - step: 4
        action: User hovers over content item
        system_response: System shows preview trailer and info card
    alternative_flows:
      - name: Filter by Genre
        trigger: User selects genre filter
        steps:
          - System filters content by selected genre
          - Display sorted results
      - name: Sort Content
        trigger: User changes sort order
        steps:
          - System reorders content (popular, new, A-Z)
    postconditions:
      - User can view available content
    related_entities: [content, catalog, recommendation]
    priority: high

  - id: UC-VW-002
    name: Search Content
    description: Search for specific content using keywords
    actor: viewer
    preconditions:
      - User has access to the platform
    main_flow:
      - step: 1
        action: User clicks search icon or presses shortcut
        system_response: System displays search interface
      - step: 2
        action: User types search query
        system_response: System shows real-time suggestions
      - step: 3
        action: User submits search or selects suggestion
        system_response: System displays matching results
      - step: 4
        action: User applies filters (type, genre, year)
        system_response: System refines results
    alternative_flows:
      - name: Voice Search
        trigger: User activates voice search
        steps:
          - System listens for voice input
          - System transcribes and searches
      - name: No Results
        trigger: No matching content found
        steps:
          - System displays "No results" message
          - System suggests similar content
    postconditions:
      - User sees relevant search results
    related_entities: [content, content_metadata]
    priority: high

  - id: UC-VW-003
    name: View Content Details
    description: View detailed information about a content item
    actor: viewer
    preconditions:
      - Content exists and is accessible
    main_flow:
      - step: 1
        action: User selects content item
        system_response: System displays content detail page
      - step: 2
        action: System shows content information
        system_response: Display title, description, cast, ratings, trailers
      - step: 3
        action: User views episodes (for series)
        system_response: System displays season/episode list
      - step: 4
        action: User reads reviews
        system_response: System shows user ratings and reviews
    alternative_flows:
      - name: Content Not Available
        trigger: Content not available in region
        steps:
          - System displays availability message
          - System suggests similar available content
    postconditions:
      - User has full content information
    related_entities: [content, content_metadata, season, episode, rating_review]
    priority: high

  # ============================================
  # PLAYBACK
  # ============================================
  - id: UC-VW-010
    name: Play Content
    description: Start playback of a movie or episode
    actor: subscriber
    preconditions:
      - User has active subscription
      - Content is available in user's region
      - User has not exceeded concurrent stream limit
    main_flow:
      - step: 1
        action: User clicks Play button
        system_response: System validates subscription and access rights
      - step: 2
        action: System initializes playback
        system_response: System obtains DRM license and selects quality
      - step: 3
        action: System starts streaming
        system_response: Video player loads and plays content
      - step: 4
        action: User watches content
        system_response: System tracks watch progress
      - step: 5
        action: System updates watch history
        system_response: Progress saved for resume functionality
    alternative_flows:
      - name: Resume Playback
        trigger: User has previous watch progress
        steps:
          - System prompts "Resume from X:XX?"
          - User confirms or starts from beginning
      - name: Concurrent Stream Limit
        trigger: Max streams reached
        steps:
          - System displays limit message
          - Offer to stop another session
      - name: Quality Adaptation
        trigger: Network bandwidth changes
        steps:
          - System automatically adjusts quality
          - Minimize buffering
    postconditions:
      - Playback session created
      - Watch progress tracked
    related_entities: [playback_session, watch_history, content_license]
    priority: critical

  - id: UC-VW-011
    name: Control Playback
    description: Control video playback (pause, seek, volume, etc.)
    actor: subscriber
    preconditions:
      - Active playback session
    main_flow:
      - step: 1
        action: User interacts with player controls
        system_response: System responds to control action
    control_actions:
      - action: pause_resume
        description: Toggle play/pause
        shortcut: Space
      - action: seek
        description: Jump to specific position
        shortcut: Arrow keys
      - action: volume
        description: Adjust volume
        shortcut: Up/Down arrows
      - action: fullscreen
        description: Toggle fullscreen
        shortcut: F
      - action: subtitles
        description: Toggle/change subtitles
        shortcut: C
      - action: audio_track
        description: Change audio language
        shortcut: A
      - action: quality
        description: Change video quality
        shortcut: Q
      - action: playback_speed
        description: Change playback speed
        shortcut: S
      - action: skip_intro
        description: Skip intro sequence
        shortcut: Enter
      - action: skip_credits
        description: Skip to next episode
        shortcut: N
    postconditions:
      - Player responds to user input
    related_entities: [playback_session]
    priority: high

  - id: UC-VW-012
    name: Watch Next Episode
    description: Continue to next episode in series
    actor: subscriber
    preconditions:
      - Current episode near completion
      - Next episode available
    main_flow:
      - step: 1
        action: Episode reaches credits
        system_response: System displays "Next Episode" overlay
      - step: 2
        action: Countdown timer starts (10s default)
        system_response: User can cancel or play immediately
      - step: 3
        action: Timer completes or user confirms
        system_response: System loads and plays next episode
    alternative_flows:
      - name: Cancel Autoplay
        trigger: User clicks cancel
        steps:
          - Autoplay cancelled
          - Show episode end card
      - name: Series Complete
        trigger: Last episode watched
        steps:
          - Display completion message
          - Suggest similar series
    postconditions:
      - Next episode playback started (if confirmed)
    related_entities: [episode, watch_history]
    priority: medium

  # ============================================
  # WATCHLIST & PERSONALIZATION
  # ============================================
  - id: UC-VW-020
    name: Add to Watchlist
    description: Save content to personal watchlist for later viewing
    actor: viewer
    preconditions:
      - User is authenticated
    main_flow:
      - step: 1
        action: User clicks "Add to Watchlist" button
        system_response: System adds content to watchlist
      - step: 2
        action: System confirms addition
        system_response: Display success feedback
    alternative_flows:
      - name: Already in Watchlist
        trigger: Content already saved
        steps:
          - System displays "Already in Watchlist"
          - Offer to remove
    postconditions:
      - Content added to user's watchlist
    related_entities: [watchlist, content]
    priority: medium

  - id: UC-VW-021
    name: Manage Watchlist
    description: View and manage saved watchlist items
    actor: viewer
    preconditions:
      - User is authenticated
    main_flow:
      - step: 1
        action: User navigates to My List
        system_response: System displays watchlist
      - step: 2
        action: User can reorder items
        system_response: System saves new order
      - step: 3
        action: User removes item
        system_response: System removes from watchlist
    alternative_flows:
      - name: Empty Watchlist
        trigger: No items saved
        steps:
          - Display empty state message
          - Suggest content to add
    postconditions:
      - Watchlist reflects user changes
    related_entities: [watchlist]
    priority: medium

  - id: UC-VW-022
    name: Rate Content
    description: Rate content and optionally write a review
    actor: subscriber
    preconditions:
      - User has watched content (minimum threshold)
    main_flow:
      - step: 1
        action: User clicks rating control
        system_response: System displays rating interface
      - step: 2
        action: User selects rating (1-5 stars or thumbs)
        system_response: System records rating
      - step: 3
        action: User optionally writes review
        system_response: System saves review
      - step: 4
        action: System updates recommendations
        system_response: Personalization improved
    alternative_flows:
      - name: Update Rating
        trigger: User already rated content
        steps:
          - Show current rating
          - Allow modification
    postconditions:
      - Rating recorded
      - Recommendation engine updated
    related_entities: [rating_review, recommendation]
    priority: medium

  # ============================================
  # DOWNLOADS
  # ============================================
  - id: UC-VW-030
    name: Download Content
    description: Download content for offline viewing
    actor: subscriber
    preconditions:
      - User has subscription allowing downloads
      - Content is downloadable
      - Device has storage space
      - Device download limit not exceeded
    main_flow:
      - step: 1
        action: User clicks Download button
        system_response: System validates download eligibility
      - step: 2
        action: User selects quality (if options available)
        system_response: System confirms selection
      - step: 3
        action: System initiates download
        system_response: Download progress displayed
      - step: 4
        action: Download completes
        system_response: Content available offline
    alternative_flows:
      - name: Download Limit Reached
        trigger: Device limit exceeded
        steps:
          - Display limit message
          - Offer to delete existing downloads
      - name: Content Not Downloadable
        trigger: Licensing restricts download
        steps:
          - Display unavailable message
      - name: Storage Full
        trigger: Insufficient device storage
        steps:
          - Display storage warning
          - Suggest cleanup
    postconditions:
      - Content available offline
      - Expiry timer started
    related_entities: [download, content_license]
    priority: high

  - id: UC-VW-031
    name: Watch Offline
    description: Play previously downloaded content offline
    actor: subscriber
    preconditions:
      - Content downloaded
      - Download not expired
      - Device registered
    main_flow:
      - step: 1
        action: User opens Downloads section
        system_response: System displays available downloads
      - step: 2
        action: User selects content
        system_response: System validates download status
      - step: 3
        action: System starts offline playback
        system_response: Content plays from local storage
    alternative_flows:
      - name: Download Expired
        trigger: Expiry time passed
        steps:
          - Display expiry message
          - Offer to re-download (if online)
      - name: License Refresh Needed
        trigger: Periodic verification required
        steps:
          - Prompt to connect to internet
          - Refresh license when connected
    postconditions:
      - Offline playback successful
    related_entities: [download, playback_session]
    priority: high

  - id: UC-VW-032
    name: Manage Downloads
    description: View and manage downloaded content
    actor: subscriber
    preconditions:
      - User has downloads
    main_flow:
      - step: 1
        action: User opens Downloads section
        system_response: Display downloaded content
      - step: 2
        action: User views storage usage
        system_response: Show space breakdown
      - step: 3
        action: User deletes download
        system_response: Free storage space
    alternative_flows:
      - name: Download All Episodes
        trigger: User selects series download
        steps:
          - System queues all available episodes
          - Progressive download
    postconditions:
      - Storage managed effectively
    related_entities: [download]
    priority: medium

  # ============================================
  # PROFILE MANAGEMENT
  # ============================================
  - id: UC-VW-040
    name: Switch Profile
    description: Switch between user profiles
    actor: viewer
    preconditions:
      - Multiple profiles exist on account
    main_flow:
      - step: 1
        action: User clicks profile icon
        system_response: System displays profile selector
      - step: 2
        action: User selects different profile
        system_response: System loads profile context
      - step: 3
        action: Profile loaded
        system_response: Display personalized home screen
    alternative_flows:
      - name: PIN Required
        trigger: Profile has PIN protection
        steps:
          - System prompts for PIN
          - Validate PIN before switching
    postconditions:
      - Profile context loaded
      - Personalization applied
    related_entities: [user_profile, recommendation]
    priority: high

  - id: UC-VW-041
    name: Create Profile
    description: Create a new user profile
    actor: subscriber
    preconditions:
      - Profile limit not reached
    main_flow:
      - step: 1
        action: User selects "Add Profile"
        system_response: System displays profile creation form
      - step: 2
        action: User enters profile name
        system_response: Validate name uniqueness
      - step: 3
        action: User selects avatar
        system_response: Save avatar selection
      - step: 4
        action: User sets profile type (Adult/Kids)
        system_response: Apply maturity settings
      - step: 5
        action: User confirms creation
        system_response: Profile created and active
    alternative_flows:
      - name: Kids Profile
        trigger: User selects Kids profile
        steps:
          - Auto-set maturity restrictions
          - Enable kid-friendly UI
    postconditions:
      - New profile available
    related_entities: [user_profile]
    priority: medium

  - id: UC-VW-042
    name: Manage Parental Controls
    description: Configure parental controls and PIN
    actor: subscriber
    preconditions:
      - User is primary account holder
    main_flow:
      - step: 1
        action: User accesses parental controls
        system_response: Display control options
      - step: 2
        action: User sets profile-level restrictions
        system_response: Configure maturity limits
      - step: 3
        action: User sets PIN for profile/content
        system_response: PIN encrypted and saved
      - step: 4
        action: User enables title-specific locks
        system_response: Block specific content
    alternative_flows:
      - name: Reset PIN
        trigger: User forgot PIN
        steps:
          - Verify account credentials
          - Allow PIN reset
    postconditions:
      - Parental controls configured
    related_entities: [user_profile]
    priority: high

  # ============================================
  # ACCOUNT & SUBSCRIPTION
  # ============================================
  - id: UC-VW-050
    name: View Subscription Status
    description: Check current subscription details
    actor: subscriber
    preconditions:
      - User has subscription (active or expired)
    main_flow:
      - step: 1
        action: User navigates to Account
        system_response: Display account overview
      - step: 2
        action: User views subscription section
        system_response: Show plan, billing date, features
      - step: 3
        action: User views billing history
        system_response: Display past invoices
    postconditions:
      - User informed of subscription status
    related_entities: [subscription]
    priority: medium

  - id: UC-VW-051
    name: Change Subscription Plan
    description: Upgrade or downgrade subscription plan
    actor: subscriber
    preconditions:
      - User has active subscription
    main_flow:
      - step: 1
        action: User clicks "Change Plan"
        system_response: Display available plans
      - step: 2
        action: User compares plans
        system_response: Show feature comparison
      - step: 3
        action: User selects new plan
        system_response: Calculate prorated charges
      - step: 4
        action: User confirms change
        system_response: Process plan change
    alternative_flows:
      - name: Upgrade
        trigger: User selects higher tier
        steps:
          - Immediate access to new features
          - Prorated billing
      - name: Downgrade
        trigger: User selects lower tier
        steps:
          - Change effective at period end
          - Retain current features until then
    postconditions:
      - Plan change scheduled/completed
    related_entities: [subscription]
    priority: medium

  - id: UC-VW-052
    name: Cancel Subscription
    description: Cancel current subscription
    actor: subscriber
    preconditions:
      - User has active subscription
    main_flow:
      - step: 1
        action: User clicks "Cancel Subscription"
        system_response: Display cancellation flow
      - step: 2
        action: System shows retention offers
        system_response: Offer discounts or pause options
      - step: 3
        action: User selects cancellation reason
        system_response: Record feedback
      - step: 4
        action: User confirms cancellation
        system_response: Schedule end of subscription
      - step: 5
        action: System confirms
        system_response: Show end date, send email
    alternative_flows:
      - name: Accept Retention Offer
        trigger: User accepts discount
        steps:
          - Apply promotional pricing
          - Subscription continues
      - name: Pause Instead
        trigger: User chooses to pause
        steps:
          - Pause subscription (max 3 months)
          - Resume date set
    postconditions:
      - Subscription scheduled for cancellation
      - Access continues until paid period ends
    related_entities: [subscription]
    priority: high

compliance:
  standards:
    - COPPA (Children's Online Privacy Protection)
    - WCAG 2.1 (Accessibility)
    - Regional content ratings
  considerations:
    - Age-appropriate content filtering
    - Parental consent for children
    - Accessible player controls

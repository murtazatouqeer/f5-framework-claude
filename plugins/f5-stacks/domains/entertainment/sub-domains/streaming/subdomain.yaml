name: streaming
parent: entertainment
display_name: Streaming Platform

description: |
  Video streaming platform for on-demand content
  and live broadcasting.

variants:
  - id: vod
    name: Video on Demand
    scale: [starter, growth]
    features: [video-library, playback, watchlist, recommendations]

  - id: live
    name: Live Streaming
    scale: [growth, enterprise]
    features: [live-broadcast, chat, donations, subscriptions]

entities:
  - name: Video
    attributes:
      - title: string
      - description: string
      - duration: number
      - thumbnail_url: string
      - video_url: string
      - status: enum[processing, published, private]

  - name: Channel
    attributes:
      - owner_id: string
      - name: string
      - subscribers: number
      - is_live: boolean

  - name: LiveStream
    attributes:
      - channel_id: string
      - title: string
      - viewers: number
      - status: enum[scheduled, live, ended]

  - name: Subscription
    attributes:
      - user_id: string
      - channel_id: string
      - tier: enum[free, basic, premium]

workflows:
  - name: video-upload
    steps: [upload, transcode, thumbnail, publish]

  - name: live-stream
    steps: [schedule, go-live, broadcast, end, archive]

suggested_services:
  - name: video-service
    stack: nestjs
    database: postgresql
    storage: s3
    features: [upload, metadata, playback]

  - name: transcoding-service
    stack: go
    queue: rabbitmq
    features: [transcode, thumbnails, adaptive-bitrate]

  - name: live-service
    stack: go
    database: redis
    features: [rtmp-ingest, hls-output, chat]

  - name: recommendation-service
    stack: go
    database: mongodb
    features: [personalization, trending, related]

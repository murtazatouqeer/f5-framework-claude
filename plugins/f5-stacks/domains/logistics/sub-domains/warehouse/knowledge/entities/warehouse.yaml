name: Warehouse
display_name: Warehouse / Distribution Center
description: |
  Physical warehouse facility for storing and processing inventory.
  Supports multiple warehouse types and temperature zones.

domain: logistics
subdomain: warehouse
category: core

attributes:
  - name: id
    type: uuid
    required: true

  - name: warehouse_code
    type: string
    required: true
    validation:
      pattern: "^WH-[A-Z]{2,3}-[0-9]{3,4}$"
    example: "WH-NYC-001"

  - name: name
    type: string
    required: true
    validation:
      max_length: 200

  - name: description
    type: text
    required: false

  - name: status
    type: enum
    required: true
    validation:
      values: [active, inactive, under_maintenance]
    default: active

  - name: warehouse_type
    type: enum
    required: true
    validation:
      values: [distribution_center, fulfillment_center, cross_dock, cold_storage, bonded, 3pl]

  # Location
  - name: address
    type: object
    required: true
    description: Physical address
    example:
      line1: "123 Warehouse Ave"
      line2: "Building A"
      city: "New York"
      state: "NY"
      country: "US"
      postal_code: "10001"

  - name: latitude
    type: decimal
    required: false
    validation:
      min: -90
      max: 90

  - name: longitude
    type: decimal
    required: false
    validation:
      min: -180
      max: 180

  - name: timezone
    type: string
    required: true
    example: "America/New_York"

  # Capacity
  - name: total_area_sqm
    type: decimal
    required: false
    description: Total warehouse area in square meters

  - name: storage_capacity_cbm
    type: decimal
    required: false
    description: Storage capacity in cubic meters

  - name: pallet_positions
    type: integer
    required: false
    description: Total pallet storage positions

  - name: dock_doors_inbound
    type: integer
    required: false
    default: 1

  - name: dock_doors_outbound
    type: integer
    required: false
    default: 1

  # Operating Hours
  - name: operating_hours
    type: object
    required: false
    description: Operating hours by day
    example:
      monday: "06:00-22:00"
      tuesday: "06:00-22:00"
      wednesday: "06:00-22:00"
      thursday: "06:00-22:00"
      friday: "06:00-22:00"
      saturday: "08:00-16:00"
      sunday: "closed"

  - name: receiving_hours
    type: string
    required: false
    example: "06:00-14:00"

  - name: shipping_cutoff_time
    type: string
    required: false
    example: "16:00"

  # Capabilities
  - name: temperature_controlled
    type: boolean
    required: true
    default: false

  - name: temperature_zones
    type: array
    required: false
    description: Available temperature zones
    example: ["ambient", "chilled", "frozen"]

  - name: hazmat_certified
    type: boolean
    required: true
    default: false

  - name: food_grade
    type: boolean
    required: true
    default: false

  - name: bonded_warehouse
    type: boolean
    required: true
    default: false

  # Contact
  - name: manager_name
    type: string
    required: false

  - name: manager_email
    type: string
    required: false
    validation:
      format: email

  - name: manager_phone
    type: string
    required: false

  - name: emergency_contact
    type: string
    required: false

  # Timestamps
  - name: created_at
    type: timestamp
    required: true

  - name: updated_at
    type: timestamp
    required: true

relationships:
  - name: zones
    type: has_many
    entity: Zone

  - name: locations
    type: has_many
    entity: Location

  - name: workers
    type: has_many
    entity: WarehouseWorker

  - name: inventory
    type: has_many
    entity: Inventory

  - name: inbound_orders
    type: has_many
    entity: InboundOrder

  - name: outbound_orders
    type: has_many
    entity: OutboundOrder

indexes:
  - [warehouse_code]
  - [status]
  - [warehouse_type]

business_rules:
  - BR-WH-001: Warehouse must have at least one zone
  - BR-WH-002: Cold storage warehouse must have temperature monitoring
  - BR-WH-003: Bonded warehouse requires customs certification
  - BR-WH-004: Operating hours must cover shipping cutoff time

name: Zone
display_name: Warehouse Zone
description: |
  Logical grouping of locations within a warehouse.
  Used for organizing operations and temperature control.

domain: logistics
subdomain: warehouse
category: core

attributes:
  - name: id
    type: uuid
    required: true

  - name: zone_code
    type: string
    required: true
    validation:
      pattern: "^[A-Z]{2,6}$"
    example: "RECV"

  - name: warehouse_id
    type: uuid
    required: true

  - name: name
    type: string
    required: true
    example: "Receiving Zone"

  - name: description
    type: text
    required: false

  - name: zone_type
    type: enum
    required: true
    validation:
      values: [receiving, storage, picking, packing, shipping, staging, returns, quarantine, hazmat, cold]

  - name: status
    type: enum
    required: true
    validation:
      values: [active, inactive]
    default: active

  # Physical
  - name: area_sqm
    type: decimal
    required: false

  - name: location_count
    type: integer
    required: true
    default: 0

  # Characteristics
  - name: temperature_controlled
    type: boolean
    required: true
    default: false

  - name: temperature_min
    type: decimal
    required: false
    description: Minimum temperature in Celsius

  - name: temperature_max
    type: decimal
    required: false
    description: Maximum temperature in Celsius

  - name: humidity_controlled
    type: boolean
    required: true
    default: false

  - name: humidity_min
    type: decimal
    required: false

  - name: humidity_max
    type: decimal
    required: false

  - name: security_level
    type: enum
    required: true
    validation:
      values: [standard, high, restricted]
    default: standard

  # Operations
  - name: allowed_operations
    type: array
    required: true
    validation:
      values: [receive, store, pick, pack, ship, count, replenish]
    example: ["store", "pick"]

  - name: default_putaway_zone
    type: boolean
    required: true
    default: false

  - name: pick_zone
    type: boolean
    required: true
    default: false

  - name: requires_certification
    type: array
    required: false
    description: Required worker certifications
    example: ["forklift", "cold_storage"]

  # Timestamps
  - name: created_at
    type: timestamp
    required: true

  - name: updated_at
    type: timestamp
    required: true

relationships:
  - name: warehouse
    type: belongs_to
    entity: Warehouse
    required: true

  - name: locations
    type: has_many
    entity: Location

indexes:
  - [warehouse_id, zone_code]
  - [zone_type]
  - [status]

business_rules:
  - BR-ZON-001: Zone code must be unique within warehouse
  - BR-ZON-002: Cold zone must have temperature monitoring
  - BR-ZON-003: Hazmat zone requires restricted security level
  - BR-ZON-004: Receiving zone must allow receive operation

name: Item
display_name: Item / SKU
description: |
  Product master data for warehouse management.
  Contains dimensions, storage requirements, and handling instructions.

domain: logistics
subdomain: warehouse
category: core

attributes:
  - name: id
    type: uuid
    required: true

  - name: sku
    type: string
    required: true
    description: Stock Keeping Unit
    validation:
      max_length: 50

  - name: upc
    type: string
    required: false
    description: Universal Product Code

  - name: ean
    type: string
    required: false
    description: European Article Number

  - name: gtin
    type: string
    required: false
    description: Global Trade Item Number

  - name: name
    type: string
    required: true
    validation:
      max_length: 200

  - name: description
    type: text
    required: false

  - name: status
    type: enum
    required: true
    validation:
      values: [active, inactive, discontinued, quarantined]
    default: active

  - name: item_type
    type: enum
    required: true
    validation:
      values: [raw_material, finished_good, component, consumable, packaging]

  # Classification
  - name: category_id
    type: uuid
    required: false

  - name: subcategory_id
    type: uuid
    required: false

  - name: brand
    type: string
    required: false

  - name: manufacturer
    type: string
    required: false

  - name: abc_class
    type: enum
    required: false
    validation:
      values: [A, B, C]
    description: Value-based classification (A=high value)

  - name: xyz_class
    type: enum
    required: false
    validation:
      values: [X, Y, Z]
    description: Demand variability (X=consistent)

  - name: velocity_class
    type: enum
    required: false
    validation:
      values: [fast, medium, slow, dead]
    description: Movement frequency

  # Dimensions (Each)
  - name: length_cm
    type: decimal
    required: false

  - name: width_cm
    type: decimal
    required: false

  - name: height_cm
    type: decimal
    required: false

  - name: weight_kg
    type: decimal
    required: false

  - name: weight_unit
    type: enum
    required: true
    validation:
      values: [kg, lb, g, oz]
    default: kg

  - name: volume_cbm
    type: decimal
    required: false
    description: Volume in cubic meters

  # Packaging
  - name: unit_of_measure
    type: enum
    required: true
    validation:
      values: [each, case, pallet, kg, liter]
    default: each

  - name: units_per_case
    type: integer
    required: false

  - name: cases_per_pallet
    type: integer
    required: false

  - name: case_length_cm
    type: decimal
    required: false

  - name: case_width_cm
    type: decimal
    required: false

  - name: case_height_cm
    type: decimal
    required: false

  - name: case_weight_kg
    type: decimal
    required: false

  # Storage Requirements
  - name: storage_class
    type: enum
    required: true
    validation:
      values: [ambient, chilled, frozen, hazmat, fragile, high_value]
    default: ambient

  - name: stackable
    type: boolean
    required: true
    default: true

  - name: max_stack_height
    type: integer
    required: false

  - name: requires_lot_tracking
    type: boolean
    required: true
    default: false

  - name: requires_serial_tracking
    type: boolean
    required: true
    default: false

  - name: requires_expiry_tracking
    type: boolean
    required: true
    default: false

  - name: shelf_life_days
    type: integer
    required: false

  - name: fifo_required
    type: boolean
    required: true
    default: true

  - name: fefo_required
    type: boolean
    required: true
    default: false
    description: First Expiry First Out

  # Replenishment
  - name: reorder_point
    type: integer
    required: false

  - name: reorder_quantity
    type: integer
    required: false

  - name: min_stock
    type: integer
    required: false

  - name: max_stock
    type: integer
    required: false

  - name: safety_stock
    type: integer
    required: false

  # Cost
  - name: unit_cost
    type: decimal
    required: false

  - name: currency
    type: string
    required: false
    default: "USD"

  # Timestamps
  - name: created_at
    type: timestamp
    required: true

  - name: updated_at
    type: timestamp
    required: true

relationships:
  - name: category
    type: belongs_to
    entity: Category
    required: false

  - name: inventory
    type: has_many
    entity: Inventory

  - name: lots
    type: has_many
    entity: Lot

indexes:
  - [sku]
  - [upc]
  - [ean]
  - [status]
  - [storage_class]
  - [velocity_class]

computed_fields:
  - name: case_volume_cbm
    formula: (case_length_cm * case_width_cm * case_height_cm) / 1000000
  - name: units_per_pallet
    formula: units_per_case * cases_per_pallet

business_rules:
  - BR-ITM-001: SKU must be unique
  - BR-ITM-002: FEFO items must have requires_expiry_tracking = true
  - BR-ITM-003: Hazmat items require special storage zone
  - BR-ITM-004: Frozen items must have storage_class = frozen

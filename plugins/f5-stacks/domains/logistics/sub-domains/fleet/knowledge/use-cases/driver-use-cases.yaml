name: DriverUseCases
display_name: Driver Use Cases
description: |
  Use cases for fleet drivers.
  Covers trip execution, inspections, and compliance activities.

domain: logistics
subdomain: fleet
category: use-cases
version: "1.0.0"

actor:
  name: Driver
  type: primary
  description: |
    Commercial driver responsible for operating fleet vehicles,
    delivering goods, and maintaining compliance with regulations.
  synonyms:
    - CDL Driver
    - Truck Driver
    - Delivery Driver
    - Operator
  certifications:
    - CDL License (Class A, B, or C)
    - Medical Certificate
    - Hazmat Endorsement (if applicable)

use_cases:
  # Trip Management
  - id: UC-DRV-001
    name: View Assigned Trip
    description: Driver views details of assigned trip
    preconditions:
      - Driver logged into mobile app
      - Trip assigned to driver
    trigger: Trip assignment notification or app launch
    main_flow:
      - Driver opens mobile app
      - System displays assigned trip(s)
      - Driver selects trip to view details
      - System shows:
        - Trip number and type
        - Vehicle assigned
        - Stop list with addresses
        - Time windows
        - Special instructions
        - Load details
      - Driver reviews and prepares
    postconditions:
      - Driver informed of trip details
    outputs:
      - Trip details displayed

  - id: UC-DRV-002
    name: Complete Pre-Trip Inspection
    description: Driver performs and records pre-trip inspection
    preconditions:
      - Driver at vehicle location
      - Trip dispatched
    trigger: Before starting trip
    main_flow:
      - Driver opens inspection module
      - System displays inspection checklist
      - Driver physically inspects each item
      - For each item:
        - Driver marks pass/fail/N/A
        - If fail: captures photo and notes
      - Driver enters odometer reading
      - Driver signs electronically
      - System validates all items checked
      - System submits inspection
    alternative_flows:
      - name: Defect Found
        condition: Critical defect identified
        steps:
          - Driver marks item as failed
          - Driver captures photo evidence
          - Driver adds defect description
          - System alerts dispatcher
          - Trip may be delayed or cancelled
    postconditions:
      - Inspection recorded
      - Vehicle cleared for dispatch (if passed)
    business_rules:
      - BR-MN-011: Pre-trip inspection required

  - id: UC-DRV-003
    name: Start Trip
    description: Driver begins assigned trip
    preconditions:
      - Pre-trip inspection passed
      - Trip status is dispatched
    trigger: Driver ready to depart
    main_flow:
      - Driver taps "Start Trip"
      - System verifies inspection completed
      - System confirms HOS hours available
      - System updates trip status to in_progress
      - System starts GPS tracking
      - System begins ELD recording
      - Driver proceeds to first stop
    postconditions:
      - Trip status: in_progress
      - GPS tracking active
      - ELD recording
    outputs:
      - Trip started confirmation
      - Navigation to first stop

  - id: UC-DRV-004
    name: Navigate to Stop
    description: Driver uses navigation to reach next stop
    preconditions:
      - Trip in progress
      - Stops remaining
    trigger: After completing previous stop
    main_flow:
      - System displays next stop details
      - Driver taps "Navigate"
      - System opens navigation app
      - Driver follows route to destination
      - System tracks progress
      - System updates ETA
    alternative_flows:
      - name: Route Deviation
        condition: Driver deviates from route
        steps:
          - System detects deviation
          - System alerts dispatcher
          - System recalculates ETA
    postconditions:
      - Driver en route to stop
    outputs:
      - Navigation instructions
      - Live ETA updates

  - id: UC-DRV-005
    name: Complete Delivery Stop
    description: Driver completes a delivery at customer location
    preconditions:
      - Driver arrived at delivery location
      - Items ready for delivery
    trigger: Arrival at delivery stop
    main_flow:
      - System detects arrival (geofence)
      - Driver taps "Arrived"
      - Driver unloads items
      - Driver obtains recipient signature
      - Driver captures delivery photo
      - Driver scans delivered items
      - Driver adds any notes
      - Driver taps "Complete Delivery"
      - System updates stop status
      - System notifies customer
    alternative_flows:
      - name: Recipient Not Available
        condition: No one to receive delivery
        steps:
          - Driver attempts contact
          - Driver captures photo of location
          - Driver selects failure reason
          - System marks stop as failed
          - System notifies dispatcher
      - name: Partial Delivery
        condition: Not all items delivered
        steps:
          - Driver delivers available items
          - Driver notes missing items
          - System records partial completion
    postconditions:
      - Stop completed or failed
      - Proof of delivery captured
    business_rules:
      - BR-STP-001: Signature required

  - id: UC-DRV-006
    name: Complete Pickup Stop
    description: Driver picks up items from location
    preconditions:
      - Driver at pickup location
    trigger: Arrival at pickup stop
    main_flow:
      - System detects arrival
      - Driver taps "Arrived"
      - Driver verifies items to pick up
      - Driver scans items/packages
      - Driver loads items safely
      - Driver captures any photos
      - Driver obtains shipper signature
      - Driver taps "Complete Pickup"
    postconditions:
      - Items loaded
      - Pickup documented
    outputs:
      - Pickup confirmation
      - Item manifest

  - id: UC-DRV-007
    name: Record Fuel Purchase
    description: Driver records fuel purchase during trip
    preconditions:
      - Driver at fuel station
    trigger: Fueling vehicle
    main_flow:
      - Driver opens fuel log
      - Driver enters fuel station name
      - Driver enters fuel type and quantity
      - Driver enters cost
      - Driver captures receipt photo
      - Driver enters odometer reading
      - Driver submits fuel log
      - System calculates efficiency
    postconditions:
      - Fuel purchase recorded
    outputs:
      - Fuel log entry

  - id: UC-DRV-008
    name: Take Mandatory Break
    description: Driver takes required 30-minute break
    preconditions:
      - Driver has been driving for 8+ hours
    trigger: HOS break required
    main_flow:
      - System alerts driver break required
      - Driver pulls over safely
      - Driver taps "Start Break"
      - System changes duty status to off_duty
      - Driver rests for 30+ minutes
      - Driver taps "End Break"
      - System updates HOS status
    postconditions:
      - Break recorded
      - HOS reset for driving
    business_rules:
      - BR-DC-013: 30-minute break required

  - id: UC-DRV-009
    name: Complete Trip
    description: Driver completes assigned trip
    preconditions:
      - All stops completed or processed
      - Driver at final destination
    trigger: Last stop completed
    main_flow:
      - System prompts trip completion
      - Driver reviews trip summary
      - Driver enters final notes
      - Driver taps "Complete Trip"
      - System prompts post-trip inspection
      - Driver completes post-trip inspection
      - System finalizes trip
      - System updates vehicle status
    postconditions:
      - Trip completed
      - Vehicle available
    outputs:
      - Trip summary
      - Post-trip inspection

  # Incident Reporting
  - id: UC-DRV-010
    name: Report Accident
    description: Driver reports vehicle accident
    preconditions:
      - Accident has occurred
    trigger: Accident event
    main_flow:
      - Driver ensures safety
      - Driver calls emergency services if needed
      - Driver opens incident report
      - Driver selects incident type: accident
      - Driver enters location
      - Driver describes incident
      - Driver captures photos of:
        - Scene overview
        - Vehicle damage
        - Other vehicles
        - Road conditions
      - Driver enters other party info
      - Driver enters witness info
      - Driver submits report
      - System notifies dispatcher immediately
    postconditions:
      - Incident reported
      - Management notified
    business_rules:
      - BR-SF-008: Report within 1 hour

  - id: UC-DRV-011
    name: Report Breakdown
    description: Driver reports vehicle breakdown
    preconditions:
      - Vehicle has mechanical issue
    trigger: Vehicle malfunction
    main_flow:
      - Driver pulls over safely
      - Driver opens incident report
      - Driver selects incident type: breakdown
      - Driver describes issue
      - Driver captures photos
      - Driver enters current location
      - Driver submits report
      - System notifies dispatcher
      - Dispatcher arranges assistance
    postconditions:
      - Breakdown reported
      - Assistance requested
    outputs:
      - Breakdown report
      - Assistance ETA

  # HOS Management
  - id: UC-DRV-012
    name: Change Duty Status
    description: Driver changes ELD duty status
    preconditions:
      - Driver using ELD
    trigger: Status change needed
    main_flow:
      - Driver opens ELD/HOS screen
      - Driver selects new status:
        - Off Duty
        - Sleeper Berth
        - Driving
        - On Duty Not Driving
      - Driver adds notes if required
      - System validates transition
      - System updates ELD log
    postconditions:
      - Duty status updated
      - ELD log current
    business_rules:
      - BR-DC-010: 11-hour driving limit

  - id: UC-DRV-013
    name: View HOS Summary
    description: Driver reviews hours of service status
    preconditions:
      - Driver logged in
    trigger: Driver wants to check available hours
    main_flow:
      - Driver opens HOS screen
      - System displays:
        - Available driving hours
        - Available duty hours
        - Cycle hours remaining
        - Time until break required
        - Log preview
      - Driver plans activities accordingly
    postconditions:
      - Driver informed of HOS status
    outputs:
      - HOS summary display

  # Communication
  - id: UC-DRV-014
    name: Message Dispatcher
    description: Driver sends message to dispatcher
    preconditions:
      - Driver logged in
    trigger: Driver needs to communicate
    main_flow:
      - Driver opens messaging
      - Driver types message
      - Driver sends message
      - System delivers to dispatcher
      - System shows delivery confirmation
    postconditions:
      - Message sent
    outputs:
      - Message delivery confirmation

mobile_app_screens:
  - Dashboard: Trip overview, HOS status, alerts
  - Trip Details: Stop list, navigation, instructions
  - Inspection: Checklist, photo capture, signature
  - Fuel Log: Fuel entry form
  - HOS/ELD: Duty status, log view
  - Incidents: Report forms
  - Messages: Communication with dispatch

equipment:
  - Mobile device with FMS app
  - ELD device
  - Barcode scanner (if applicable)
  - Camera for photos

compliance:
  - ELD mandate compliance
  - Pre/post trip inspections
  - HOS regulations
  - Hazmat documentation (if applicable)

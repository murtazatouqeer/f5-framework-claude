# Real Estate Transaction Sub-domain
# F5 Framework v2.0 - Domain Knowledge Base
# Transaction Management System for Real Estate

subdomain:
  name: transaction
  name_vi: Giao dịch bất động sản
  name_ja: 不動産取引
  domain: real-estate
  version: "1.0.0"
  status: active

  description: |
    Comprehensive transaction management system for real estate deals
    including offers, contracts, escrow, due diligence, and closing.
    Supports Vietnam real estate law requirements including notarization
    and land registration processes.

  description_vi: |
    Hệ thống quản lý giao dịch bất động sản toàn diện bao gồm
    đề nghị giá, hợp đồng, ký quỹ, thẩm định và hoàn tất giao dịch.
    Hỗ trợ các yêu cầu pháp lý về bất động sản Việt Nam bao gồm
    công chứng và đăng ký đất đai.

  # Legal & Compliance Standards
  compliance:
    standards:
      - name: Vietnam Real Estate Law
        name_vi: Luật Kinh doanh bất động sản
        code: "66/2014/QH13"
        description: Law on real estate business

      - name: Land Law
        name_vi: Luật Đất đai
        code: "45/2013/QH13"
        description: Land use rights and registration

      - name: Notarization Law
        name_vi: Luật Công chứng
        code: "53/2014/QH13"
        description: Requirements for notarized contracts

      - name: Civil Code
        name_vi: Bộ luật Dân sự
        code: "91/2015/QH13"
        description: Contract and property transfer law

      - name: Personal Income Tax
        name_vi: Thuế thu nhập cá nhân
        description: Tax on property transfer gains
        rate: "2% of transfer value"

      - name: Value Added Tax
        name_vi: Thuế giá trị gia tăng
        description: VAT on real estate transactions
        rate: "10% (certain transactions)"

    requirements:
      - Notarization of all real estate sale contracts
      - Land registration within 30 days of notarization
      - Tax payment before land registration
      - Identity verification for all parties
      - Power of Attorney notarization for representatives

  # Core Capabilities
  capabilities:
    - offer_management
    - negotiation_tracking
    - contract_generation
    - contract_management
    - escrow_management
    - due_diligence_coordination
    - closing_coordination
    - payment_tracking
    - document_management
    - commission_calculation
    - timeline_management
    - compliance_tracking

  # Transaction Types
  transaction_types:
    - id: sale
      name: Sale
      name_vi: Mua bán
      description: Property ownership transfer
      requires_notarization: true
      requires_land_registration: true

    - id: purchase
      name: Purchase
      name_vi: Mua
      description: Buying property
      requires_notarization: true
      requires_land_registration: true

    - id: lease
      name: Long-term Lease
      name_vi: Thuê dài hạn
      description: Lease agreement > 6 months
      requires_notarization: conditional
      requires_land_registration: false

    - id: assignment
      name: Assignment
      name_vi: Chuyển nhượng
      description: Transfer of rights/contract
      requires_notarization: true
      requires_land_registration: true

  # Transaction Phases
  phases:
    - id: initiation
      name: Initiation
      name_vi: Khởi tạo
      order: 1
      activities:
        - Identify property
        - Verify listing status
        - Preliminary negotiations

    - id: offer
      name: Offer Phase
      name_vi: Giai đoạn đề nghị
      order: 2
      activities:
        - Prepare offer
        - Submit offer
        - Negotiate terms
        - Accept/counter offer

    - id: contract
      name: Contract Phase
      name_vi: Giai đoạn hợp đồng
      order: 3
      activities:
        - Draft contract
        - Legal review
        - Sign contract
        - Notarize contract

    - id: due_diligence
      name: Due Diligence
      name_vi: Thẩm định
      order: 4
      activities:
        - Title search
        - Property inspection
        - Document verification
        - Issue resolution

    - id: closing
      name: Closing
      name_vi: Hoàn tất
      order: 5
      activities:
        - Prepare closing documents
        - Final walkthrough
        - Transfer funds
        - Execute closing
        - Land registration

    - id: post_closing
      name: Post-Closing
      name_vi: Sau hoàn tất
      order: 6
      activities:
        - Confirm registration
        - Distribute documents
        - Pay commissions
        - Archive transaction

  # Actors
  actors:
    - id: buyer
      name: Buyer
      name_vi: Người mua
      name_ja: 買主
      role: Property purchaser

    - id: seller
      name: Seller
      name_vi: Người bán
      name_ja: 売主
      role: Property owner/seller

    - id: buyer_agent
      name: Buyer's Agent
      name_vi: Môi giới bên mua
      role: Represents buyer interests

    - id: seller_agent
      name: Seller's Agent/Listing Agent
      name_vi: Môi giới bên bán
      role: Represents seller interests

    - id: notary
      name: Notary Public
      name_vi: Công chứng viên
      role: Certifies contract authenticity

    - id: escrow_agent
      name: Escrow Agent
      name_vi: Đại lý ký quỹ
      role: Holds funds in escrow

    - id: lawyer
      name: Lawyer/Attorney
      name_vi: Luật sư
      role: Legal representation

    - id: inspector
      name: Property Inspector
      name_vi: Người kiểm định
      role: Conducts property inspections

    - id: bank
      name: Bank/Lender
      name_vi: Ngân hàng
      role: Provides mortgage financing

    - id: land_registrar
      name: Land Registrar
      name_vi: Văn phòng đăng ký đất đai
      role: Official land registration

  # Key Documents
  documents:
    required_buyer:
      - id_card_copy
      - household_registration
      - marriage_certificate
      - proof_of_funds
      - power_of_attorney

    required_seller:
      - id_card_copy
      - property_certificate
      - tax_clearance
      - utility_clearance
      - previous_contracts

    transaction_documents:
      - deposit_receipt
      - purchase_agreement
      - notarized_contract
      - transfer_tax_receipt
      - land_registration_application
      - new_property_certificate

  # Integration Points
  integrations:
    - system: listing
      description: Property and listing information
      data_exchange:
        - listing_details
        - property_status
        - agent_information

    - system: payment
      description: Payment processing
      data_exchange:
        - payment_verification
        - escrow_management
        - commission_disbursement

    - system: document_management
      description: Document storage and retrieval
      data_exchange:
        - document_upload
        - version_control
        - digital_signatures

    - system: notification
      description: Transaction notifications
      data_exchange:
        - milestone_alerts
        - deadline_reminders
        - status_updates

  # Metrics
  metrics:
    operational:
      - transaction_volume
      - average_time_to_close
      - offer_acceptance_rate
      - fallthrough_rate

    financial:
      - total_transaction_value
      - average_transaction_value
      - commission_revenue

    compliance:
      - notarization_completion_rate
      - registration_timeliness
      - document_compliance_rate

  # Knowledge Structure
  knowledge:
    entities:
      - transaction
      - offer
      - counter-offer
      - deposit
      - contract
      - contract-clause
      - escrow
      - closing
      - payment-schedule
      - document
      - due-diligence
      - title-search
      - commission-split
      - transaction-party

    business_rules:
      - offer-rules
      - deposit-rules
      - contract-rules
      - closing-rules
      - commission-rules

    workflows:
      - offer-negotiation-workflow
      - contract-workflow
      - due-diligence-workflow
      - closing-workflow
      - post-closing-workflow

    use_cases:
      - buyer-use-cases
      - seller-use-cases
      - agent-use-cases

# Contract Business Rules
# F5 Framework v2.0 - Real Estate/Transaction
# Rules governing purchase contracts and legal requirements

business_rules:
  name: ContractRules
  name_vi: Quy tắc hợp đồng
  name_ja: 契約規則
  domain: real-estate
  subdomain: transaction
  version: "1.0.0"

  description: |
    Business rules governing real estate purchase contracts,
    including essential elements, notarization requirements,
    amendments, and termination provisions under Vietnamese law.

  # Essential Contract Elements
  essential_elements:
    - rule_id: BR-CON-001
      name: Required Contract Elements
      name_vi: Các yếu tố bắt buộc của hợp đồng
      description: |
        Real estate contracts must contain all essential elements
        to be valid and enforceable under Vietnamese law.
      legal_reference:
        - Civil Code 2015 Articles 385-429
        - Real Estate Business Law 2014 Article 17
      required_elements:
        parties:
          - full_legal_names
          - id_numbers_cmnd_cccd_passport
          - permanent_addresses
          - contact_information
        property:
          - exact_address
          - legal_description
          - land_use_certificate_number
          - land_area_and_boundaries
          - building_details_if_applicable
        terms:
          - purchase_price
          - payment_schedule
          - closing_date
          - possession_date
          - contingencies_if_any
        signatures:
          - all_parties_signatures
          - witness_signatures
          - date_of_signing
      enforcement: required
      severity: error
      message: "Contract missing required essential elements"

    - rule_id: BR-CON-002
      name: Property Certificate Verification
      name_vi: Xác minh giấy chứng nhận quyền sở hữu
      description: |
        Contract must reference valid property certificate
        (Pink Book or Red Book) with verified ownership.
      certificate_types:
        - pink_book: Giấy chứng nhận quyền sử dụng đất và quyền sở hữu nhà ở
        - red_book: Giấy chứng nhận quyền sử dụng đất
      verification_required:
        - certificate_authenticity
        - current_owner_matches_seller
        - no_disputes_or_encumbrances
        - no_mortgage_unless_disclosed
      enforcement: required
      severity: error

    - rule_id: BR-CON-003
      name: Purchase Price Specification
      name_vi: Quy định giá mua
      description: |
        Purchase price must be clearly stated in both
        numbers and words, in Vietnamese Dong (VND).
      requirements:
        - amount_in_numbers
        - amount_in_words_vietnamese
        - currency: VND
        - inclusive_of: specified_items
        - exclusive_of: taxes_and_fees  # unless agreed otherwise
      payment_terms:
        - payment_schedule_reference
        - deposit_amount
        - payment_methods_accepted

  # Notarization Requirements
  notarization:
    - rule_id: BR-CON-010
      name: Mandatory Notarization
      name_vi: Công chứng bắt buộc
      description: |
        Real estate transfer contracts MUST be notarized to be
        legally valid under Vietnamese law.
      legal_reference:
        - Civil Code 2015 Article 459
        - Land Law 2013 Article 167
        - Notarization Law 2014
      requirement: mandatory
      exception:
        - intra_family_transfers  # some cases
        - inheritance_transfers
        - government_transactions
      enforcement: required
      severity: critical
      message: "Contract must be notarized to be legally binding"

    - rule_id: BR-CON-011
      name: Notary Selection
      name_vi: Lựa chọn công chứng viên
      description: |
        Parties may select any licensed notary office in
        the province where property is located.
      requirements:
        - licensed_notary_office
        - within_property_province
        - no_conflict_of_interest
      selection_right: mutual_agreement
      default: buyer_selects

    - rule_id: BR-CON-012
      name: Notarization Documents
      name_vi: Tài liệu công chứng
      description: |
        Required documents for notarization appointment.
      required_from_seller:
        - original_property_certificate
        - household_registration_book
        - cmnd_cccd_all_owners
        - marriage_certificate_if_married
        - spouse_consent_if_applicable
        - mortgage_release_if_applicable
      required_from_buyer:
        - cmnd_cccd
        - household_registration_book
        - proof_of_funds_if_requested
        - marriage_certificate_if_married
      additional:
        - draft_contract
        - tax_clearance
        - power_of_attorney_if_representative

    - rule_id: BR-CON-013
      name: Notarization Verification Period
      name_vi: Thời gian xác minh công chứng
      description: |
        Notary may take 2-5 business days to verify documents
        before scheduling notarization appointment.
      verification_items:
        - property_certificate_authenticity
        - owner_identity_verification
        - encumbrance_check
        - legal_disputes_check
      typical_duration: 2-5_business_days
      expedited_fee: available

  # Amendment Rules
  amendments:
    - rule_id: BR-CON-020
      name: Contract Amendment Process
      name_vi: Quy trình sửa đổi hợp đồng
      description: |
        Any contract amendment must be in writing and
        signed by all original parties.
      requirements:
        - written_amendment
        - reference_to_original_contract
        - clear_description_of_changes
        - signatures_all_parties
        - date_of_amendment
      notarization:
        material_changes: required
        minor_changes: recommended
      material_changes:
        - purchase_price
        - closing_date_by_more_than_7_days
        - property_description
        - parties

    - rule_id: BR-CON-021
      name: Closing Date Extensions
      name_vi: Gia hạn ngày đóng giao dịch
      description: |
        Closing date extensions must be agreed in writing
        and may have associated costs.
      extension_terms:
        mutual_agreement: required
        max_extensions: 3
        max_total_extension: 90_days
        per_diem_charges: as_per_contract
      documentation:
        - extension_agreement
        - new_closing_date
        - any_additional_terms
        - signatures

    - rule_id: BR-CON-022
      name: Price Adjustment
      name_vi: Điều chỉnh giá
      description: |
        Price adjustments after contract signing require
        re-notarization and updated registration.
      conditions_allowing_adjustment:
        - mutual_agreement
        - appraisal_contingency_clause
        - inspection_repairs_credit
        - discovered_defects
      process:
        - written_amendment
        - re_notarization_if_significant
        - updated_land_registration

  # Termination Rules
  termination:
    - rule_id: BR-CON-030
      name: Termination by Mutual Agreement
      name_vi: Chấm dứt theo thỏa thuận
      description: |
        Parties may mutually agree to terminate contract
        at any time before closing.
      requirements:
        - written_termination_agreement
        - deposit_disposition_specified
        - signatures_all_parties
        - notarization: recommended
      effects:
        - contract_void
        - deposit_per_agreement
        - no_further_obligations

    - rule_id: BR-CON-031
      name: Termination for Breach
      name_vi: Chấm dứt do vi phạm
      description: |
        Non-breaching party may terminate for material breach
        after providing cure opportunity.
      material_breaches:
        buyer:
          - failure_to_pay
          - failure_to_close
          - misrepresentation
        seller:
          - failure_to_deliver_title
          - undisclosed_encumbrances
          - property_misrepresentation
          - failure_to_vacate
      cure_period: 10_business_days
      notice_requirement: written_notice
      remedies:
        - contract_termination
        - deposit_forfeiture_or_return
        - damages_if_applicable

    - rule_id: BR-CON-032
      name: Termination via Contingency
      name_vi: Chấm dứt theo điều kiện
      description: |
        Buyer may terminate if contingency not satisfied
        within specified period.
      valid_contingencies:
        financing:
          period: 30_days
          documentation: denial_letter
        inspection:
          period: 10_days
          documentation: inspection_report
        appraisal:
          period: 21_days
          documentation: appraisal_report
        title:
          period: 14_days
          documentation: title_report
      deposit_return: full_refund

    - rule_id: BR-CON-033
      name: Termination Notice Requirements
      name_vi: Yêu cầu thông báo chấm dứt
      description: |
        Proper notice must be given for contract termination.
      notice_requirements:
        - written_form
        - delivered_to_all_parties
        - specify_termination_reason
        - specify_effective_date
        - delivery_confirmation
      delivery_methods:
        - certified_mail
        - hand_delivery_with_receipt
        - email_if_agreed_in_contract

  # Time Constraints
  time_constraints:
    - rule_id: BR-CON-040
      name: Time is of the Essence
      name_vi: Thời gian là yếu tố quan trọng
      description: |
        All dates and deadlines in contract are material
        and failure to meet them constitutes breach.
      applies_to:
        - closing_date
        - contingency_deadlines
        - payment_due_dates
        - document_delivery_dates
      grace_period: none_unless_specified
      notification: required_before_deadline

    - rule_id: BR-CON-041
      name: Land Registration Deadline
      name_vi: Thời hạn đăng ký đất đai
      description: |
        After notarization, parties must complete land registration
        within 30 days per Land Law.
      legal_reference: Land Law 2013 Article 95
      deadline: 30_days_from_notarization
      penalty_for_delay: late_fees
      responsibility: typically_buyer
      enforcement: required

  # Legal Compliance
  legal_compliance:
    - rule_id: BR-CON-050
      name: Foreign Ownership Restrictions
      name_vi: Hạn chế sở hữu người nước ngoài
      description: |
        Foreign individuals and organizations face ownership
        restrictions under Vietnamese law.
      restrictions:
        individuals:
          - max_50_year_ownership_term
          - max_30_percent_per_apartment_building
          - max_250_units_per_ward
          - cannot_own_land_directly
        organizations:
          - must_have_investment_license
          - project_specific_land_rights
      verification_required: nationality_check
      legal_reference: Housing Law 2014 Article 159

    - rule_id: BR-CON-051
      name: Land Use Purpose Compliance
      name_vi: Tuân thủ mục đích sử dụng đất
      description: |
        Property use must comply with designated land use purpose
        in certificate and local planning.
      verification:
        - current_land_use_purpose
        - permitted_activities
        - zoning_compliance
        - building_permit_compliance
      change_of_use:
        - requires_approval
        - separate_application_process
        - additional_fees

    - rule_id: BR-CON-052
      name: Tax Compliance
      name_vi: Tuân thủ thuế
      description: |
        All applicable taxes must be paid before or at closing.
      applicable_taxes:
        personal_income_tax:
          rate: 2%_of_transfer_value
          payer: seller
          exemption: sale_of_only_residence
        registration_fee:
          rate: 0.5%_of_property_value
          payer: buyer
        vat:
          rate: 10%_if_applicable
          applies_to: new_development_sales
      payment_timing: before_land_registration

  # Representation and Warranties
  representations:
    - rule_id: BR-CON-060
      name: Seller Representations
      name_vi: Cam kết của người bán
      description: |
        Standard seller representations required in contract.
      required_representations:
        - legal_owner_with_right_to_sell
        - property_free_of_undisclosed_encumbrances
        - no_pending_litigation
        - taxes_paid_current
        - accurate_property_description
        - disclosure_of_known_defects
        - vacant_possession_at_closing
      survival_period: varies_by_representation

    - rule_id: BR-CON-061
      name: Buyer Representations
      name_vi: Cam kết của người mua
      description: |
        Standard buyer representations required in contract.
      required_representations:
        - legal_capacity_to_purchase
        - funds_available_for_purchase
        - accurate_identity_information
        - compliance_with_ownership_restrictions
        - no_money_laundering

  # Dispute Resolution
  dispute_resolution:
    - rule_id: BR-CON-070
      name: Dispute Resolution Clause
      name_vi: Điều khoản giải quyết tranh chấp
      description: |
        Contract must specify dispute resolution mechanism.
      options:
        negotiation:
          period: 30_days
          first_step: required
        mediation:
          provider: as_agreed
          binding: no
        arbitration:
          provider: VIAC_or_agreed
          binding: yes
        litigation:
          court: property_location_court
          last_resort: yes
      default: negotiation_then_litigation
      governing_law: Vietnamese_law

  # Document Generation
  document_generation:
    - rule_id: BR-CON-080
      name: Contract Language
      name_vi: Ngôn ngữ hợp đồng
      description: |
        Contract must be in Vietnamese. Bilingual versions
        acceptable with Vietnamese controlling.
      primary_language: Vietnamese
      bilingual_option: yes
      controlling_language: Vietnamese
      translation_requirements:
        - certified_translation
        - both_versions_signed
        - Vietnamese_prevails_on_conflict

  # Validation Functions
  validation_functions:
    validate_essential_elements:
      input: [contract]
      output: [is_valid, missing_elements]
      checks:
        - parties_complete
        - property_identified
        - price_specified
        - dates_specified
        - signatures_present

    check_notarization_readiness:
      input: [contract, seller_docs, buyer_docs]
      output: [is_ready, missing_docs]
      checks:
        - all_seller_documents_present
        - all_buyer_documents_present
        - property_certificate_verified
        - no_encumbrances_blocking

    calculate_registration_deadline:
      input: [notarization_date]
      output: deadline_date
      formula: notarization_date + 30_calendar_days

  # Audit Requirements
  audit:
    - Contract versions tracked and timestamped
    - All amendments linked to original
    - Signature authentications recorded
    - Notarization records maintained
    - Termination documentation preserved
    - Dispute resolution outcomes logged

# Maintenance Rules
# F5 Framework v2.0 - Real Estate/Property Management
# Quy tắc bảo trì / メンテナンス規則

business_rules:
  name: MaintenanceRules
  name_vi: Quy tắc bảo trì
  name_ja: メンテナンス規則
  domain: real-estate
  subdomain: property-management
  version: "1.0.0"

  description: |
    Business rules for maintenance request handling, work order
    management, vendor relationships, and property upkeep standards.

  # Legal Framework
  legal_references:
    - name: Vietnam Housing Law 2014
      name_vi: Luật Nhà ở 2014
      relevance: Landlord maintenance obligations
    - name: Vietnam Civil Code 2015
      name_vi: Bộ luật Dân sự 2015
      relevance: Lessor duties to maintain property
    - name: Building Safety Standards
      name_vi: Quy chuẩn an toàn xây dựng
      reference: QCVN 06:2021/BXD

  # Rule Categories
  categories:
    - response_time
    - responsibility
    - access_entry
    - work_order_management
    - vendor_management
    - preventive_maintenance

  # ==========================================
  # RESPONSE TIME REQUIREMENTS
  # ==========================================

  response_time:
    - rule_id: BR-MNT-001
      name: Emergency Response SLA
      name_vi: SLA phản hồi khẩn cấp
      description: |
        Required response time for emergency maintenance issues.
      emergency_definition:
        - no_running_water: true
        - no_electricity: true
        - no_heat_in_winter: true
        - flooding: true
        - fire_damage: true
        - gas_leak: true
        - sewage_backup: true
        - security_breach: "Broken locks, windows"
        - elevator_entrapment: true
      sla:
        acknowledge: 30_minutes
        response: 2_hours
        resolution_target: 24_hours
      escalation:
        if_not_acknowledged: 15_minutes
        escalate_to: property_manager
        after_hours: emergency_contact
      enforcement: required
      priority: critical

    - rule_id: BR-MNT-002
      name: Urgent Response SLA
      name_vi: SLA phản hồi gấp
      description: |
        Response time for urgent but non-emergency issues.
      urgent_definition:
        - broken_appliance: "Refrigerator, stove"
        - ac_not_cooling: true
        - hot_water_failure: true
        - toilet_clogged: "Only one bathroom"
        - partial_electrical_failure: true
        - water_leak: "Contained but active"
      sla:
        acknowledge: 2_hours
        response: 24_hours
        resolution_target: 48_hours
      business_hours:
        - standard: "8:00-18:00"
        - weekend_counts: false
      enforcement: required

    - rule_id: BR-MNT-003
      name: Normal Maintenance SLA
      name_vi: SLA bảo trì thường
      description: |
        Response time for routine maintenance requests.
      normal_examples:
        - minor_repairs: true
        - cosmetic_issues: true
        - non_essential_appliances: true
        - convenience_items: true
      sla:
        acknowledge: 24_hours
        schedule: 3_business_days
        resolution_target: 7_business_days
      communication:
        - update_tenant: "If delayed beyond target"
        - reschedule_notice: 24_hours
      enforcement: required

    - rule_id: BR-MNT-004
      name: Low Priority SLA
      name_vi: SLA ưu tiên thấp
      description: |
        Response time for low priority or enhancement requests.
      low_priority_examples:
        - aesthetic_improvements: true
        - nice_to_have_repairs: true
        - seasonal_maintenance: true
        - non_urgent_replacements: true
      sla:
        acknowledge: 48_hours
        schedule: 14_business_days
        resolution_target: 30_business_days
      may_defer:
        - until_turnover: true
        - budget_availability: true
      enforcement: recommended

  # ==========================================
  # RESPONSIBILITY ALLOCATION
  # ==========================================

  responsibility:
    - rule_id: BR-MNT-010
      name: Landlord Maintenance Responsibilities
      name_vi: Trách nhiệm bảo trì của chủ nhà
      description: |
        Maintenance items that are landlord's responsibility.
      landlord_responsible:
        structural:
          - roof: true
          - foundation: true
          - exterior_walls: true
          - windows_frames: true
          - doors_frames: true
        systems:
          - plumbing: true
          - electrical: true
          - hvac: true
          - water_heater: true
        appliances:
          - provided_appliances: true
          - as_listed_in_lease: true
        common_areas:
          - hallways: true
          - elevators: true
          - parking_areas: true
          - landscaping: true
        safety:
          - fire_safety_equipment: true
          - security_systems: true
          - lighting_common: true
      exceptions:
        - tenant_caused_damage: tenant_responsible
        - normal_wear_tear: landlord
      enforcement: required

    - rule_id: BR-MNT-011
      name: Tenant Maintenance Responsibilities
      name_vi: Trách nhiệm bảo trì của người thuê
      description: |
        Maintenance items that are tenant's responsibility.
      tenant_responsible:
        cleanliness:
          - unit_cleanliness: true
          - trash_disposal: true
          - pest_prevention: true
        minor_items:
          - light_bulbs: true
          - air_filters: "If accessible"
          - batteries: "Smoke detectors"
          - drain_clearing: "Simple clogs"
        damage:
          - tenant_caused: true
          - guest_caused: true
          - pet_caused: true
        appliances:
          - tenant_owned: true
      notification:
        - report_issues_promptly: required
        - failure_to_report: may_be_liable
      enforcement: required

    - rule_id: BR-MNT-012
      name: Damage vs Normal Wear Assessment
      name_vi: Đánh giá hư hỏng và hao mòn
      description: |
        Distinguishing damage from normal wear and tear.
      normal_wear:
        - faded_paint: true
        - worn_carpet_paths: true
        - minor_scuffs: true
        - appliance_aging: true
        - fading_fixtures: true
      tenant_damage:
        - holes_in_walls: true
        - stains_beyond_normal: true
        - broken_fixtures: true
        - burn_marks: true
        - pet_damage: true
        - unauthorized_modifications: true
      assessment:
        - documented_move_in_condition: baseline
        - photos_comparison: required
        - professional_opinion: for_disputes
      cost_allocation:
        - normal_wear: landlord
        - damage: tenant
        - unclear: case_by_case
      enforcement: required

  # ==========================================
  # ACCESS AND ENTRY
  # ==========================================

  access_entry:
    - rule_id: BR-MNT-020
      name: Notice for Entry
      name_vi: Thông báo vào nhà
      description: |
        Required notice before entering tenant's unit.
      standard_notice:
        hours: 24
        minimum: 24_hours
        maximum: 48_hours_preferred
      notice_content:
        - date: required
        - time_window: required
        - purpose: required
        - contact_info: required
      delivery_method:
        - in_writing: required
        - acceptable: [email, text, portal, posted_notice]
      enforcement: required

    - rule_id: BR-MNT-021
      name: Emergency Entry Exception
      name_vi: Ngoại lệ vào khẩn cấp
      description: |
        When entry without notice is permitted.
      emergency_conditions:
        - fire: true
        - flooding: true
        - gas_leak: true
        - security_emergency: true
        - suspected_abandonment: true
      documentation:
        - reason_documented: required
        - photos_of_condition: required
        - tenant_notified_after: immediately
      limitations:
        - minimum_intrusion: true
        - address_emergency_only: true
      enforcement: required

    - rule_id: BR-MNT-022
      name: Tenant Present Preference
      name_vi: Ưu tiên người thuê có mặt
      description: |
        Preference for tenant presence during maintenance.
      policy:
        - tenant_presence_preferred: true
        - not_required: true
        - permission_to_enter: "Obtained during request"
      scheduling:
        - offer_options: true
        - accommodate_schedule: reasonable_effort
        - after_hours: by_request
      pets:
        - pet_secured: tenant_responsibility
        - alternative_if_not: "Tenant must be present"
      enforcement: recommended

  # ==========================================
  # WORK ORDER MANAGEMENT
  # ==========================================

  work_order_management:
    - rule_id: BR-MNT-030
      name: Work Order Approval Thresholds
      name_vi: Ngưỡng phê duyệt lệnh công việc
      description: |
        Authorization levels for maintenance expenditures.
      thresholds:
        auto_approve:
          amount: 2000000
          description: "VND - No approval needed"
        property_manager_approve:
          amount: 10000000
          description: "VND - PM can approve"
        owner_approve:
          amount: ">10000000"
          description: "VND - Owner approval required"
      emergency_exception:
        - can_exceed_without_prior: true
        - notification: immediately_after
        - documentation: required
      enforcement: required

    - rule_id: BR-MNT-031
      name: Vendor Quote Requirements
      name_vi: Yêu cầu báo giá nhà thầu
      description: |
        When competitive quotes are required.
      quote_requirements:
        single_quote:
          threshold: 5000000
          description: "VND - One quote acceptable"
        two_quotes:
          threshold: 15000000
          description: "VND - Two quotes required"
        three_quotes:
          threshold: ">15000000"
          description: "VND - Three quotes required"
      exceptions:
        - emergency: single_quote_ok
        - preferred_vendor: "May use with justification"
        - specialized_work: "Limited vendor pool"
      enforcement: required

    - rule_id: BR-MNT-032
      name: Work Quality Verification
      name_vi: Xác minh chất lượng công việc
      description: |
        Ensuring completed work meets standards.
      verification:
        - staff_inspection: required
        - photo_documentation: required
        - tenant_confirmation: recommended
      acceptance_criteria:
        - issue_resolved: true
        - no_new_damage: true
        - clean_work_area: true
        - all_materials_removed: true
      warranty:
        - vendor_warranty: required
        - minimum_period: 30_days
        - documentation: kept_on_file
      rework:
        - no_additional_charge: true
        - expedited_timeline: true
      enforcement: required

  # ==========================================
  # VENDOR MANAGEMENT
  # ==========================================

  vendor_management:
    - rule_id: BR-MNT-040
      name: Vendor Qualification
      name_vi: Điều kiện nhà thầu
      description: |
        Requirements for approved vendors.
      requirements:
        - business_license: required
        - insurance_liability: required
        - insurance_minimum: 500000000
        - relevant_certifications: recommended
      verification:
        - annual_insurance_check: required
        - license_renewal_tracking: required
        - background_check: recommended
      approval:
        - new_vendor_approval: property_manager
        - vendor_list_maintenance: annual
      enforcement: required

    - rule_id: BR-MNT-041
      name: Vendor Performance Standards
      name_vi: Tiêu chuẩn hoạt động nhà thầu
      description: |
        Performance metrics for vendor evaluation.
      metrics:
        response_time:
          excellent: "<4 hours"
          good: "<24 hours"
          acceptable: "<48 hours"
          unacceptable: ">48 hours"
        completion_rate:
          target: ">95%"
        callback_rate:
          target: "<5%"
        tenant_satisfaction:
          target: ">4.0/5.0"
      review_frequency: quarterly
      actions:
        poor_performance:
          - warning: first_instance
          - probation: second_instance
          - removal: third_instance
      enforcement: required

  # ==========================================
  # PREVENTIVE MAINTENANCE
  # ==========================================

  preventive_maintenance:
    - rule_id: BR-MNT-050
      name: Preventive Maintenance Schedule
      name_vi: Lịch bảo trì phòng ngừa
      description: |
        Required preventive maintenance activities.
      schedule:
        monthly:
          - hvac_filter_check: true
          - common_area_inspection: true
          - fire_equipment_visual: true
        quarterly:
          - hvac_service: true
          - pest_control: true
          - elevator_maintenance: true
        semi_annual:
          - gutter_cleaning: true
          - smoke_detector_test: true
          - water_heater_flush: true
        annual:
          - fire_system_inspection: true
          - roof_inspection: true
          - plumbing_inspection: true
          - electrical_inspection: true
      documentation:
        - log_all_activities: required
        - vendor_reports: kept_on_file
      enforcement: required

    - rule_id: BR-MNT-051
      name: Safety Equipment Maintenance
      name_vi: Bảo trì thiết bị an toàn
      description: |
        Requirements for safety equipment upkeep.
      fire_safety:
        - smoke_detectors:
            test: monthly
            battery_replace: annual
            replace_unit: 10_years
        - fire_extinguishers:
            inspection: annual
            recharge: per_inspection
            replace: per_manufacturer
        - fire_alarm_system:
            test: semi_annual
            professional_inspection: annual
        - sprinkler_system:
            inspection: annual
      documentation:
        - inspection_records: 5_years
        - certificates: current
      enforcement: required
      priority: critical

  # Summary
  summary:
    total_rules: 16
    categories: 6
    critical_rules: 2
    required_enforcement: 14
    recommended_enforcement: 2

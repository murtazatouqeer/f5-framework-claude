name: market-data-use-cases
display_name: Use Cases - Market Data
description: |
  Use cases related to viewing and analyzing market data.
  Includes price boards, charts, news, technical analysis.

domain: fintech/stock-trading
version: "1.0"

use_cases:
  # =============================================================================
  - id: UC-MARKET-001
    name: View Detailed Price Board
    actor: Investor
    description: |
      View detailed price and trading information for a securities symbol.

    preconditions:
      - Has market data access

    main_flow:
      - step: 1
        action: Search or select securities symbol
        system_response: |
          Display overview information:
          - Current price, % change
          - Open, high, low prices
          - Trading volume
          - Trading value

      - step: 2
        action: View Order Book
        system_response: |
          Display 10 bid/ask price levels:
          - Bid/ask price
          - Volume at each price level
          - Total bid/ask volume
          - Spread

      - step: 3
        action: View match history
        system_response: |
          Recent match list:
          - Match time
          - Match price
          - Volume
          - Type (active buy/sell)

      - step: 4
        action: View company information
        system_response: |
          - Company name, sector code
          - Market capitalization
          - P/E, P/B, EPS
          - Dividend
          - Basic information

    data_refresh:
      - Realtime: Price, volume, order book
      - Delayed 15s: Level 2 data (if not premium)
      - Daily: Company information

  # =============================================================================
  - id: UC-MARKET-002
    name: View Technical Chart
    actor: Investor
    description: |
      Analyze price chart with technical indicators.

    main_flow:
      - step: 1
        action: Open chart for securities symbol
        system_response: |
          Display chart with:
          - Candlestick chart
          - Volume
          - Default timeframe (1D)

      - step: 2
        action: Change timeframe
        system_response: |
          Options: 1m, 5m, 15m, 30m, 1H, 4H, 1D, 1W, 1M
          Adjust number of candles displayed

      - step: 3
        action: Add technical indicators
        system_response: |
          Available indicators:
          - MA (SMA, EMA)
          - Bollinger Bands
          - RSI
          - MACD
          - Stochastic
          - Volume Profile
          - Ichimoku Cloud

      - step: 4
        action: Draw trendline/Fibonacci
        system_response: |
          Drawing tools:
          - Trendline
          - Horizontal line
          - Fibonacci retracement
          - Rectangle
          - Text annotation

      - step: 5
        action: Save template (optional)
        system_response: Save chart layout for reuse

    chart_features:
      - Zoom and pan
      - Crosshair with values
      - Compare with other symbols
      - Export image

  # =============================================================================
  - id: UC-MARKET-003
    name: Stock Screening
    actor: Investor
    description: |
      Filter stocks by financial and technical criteria.

    main_flow:
      - step: 1
        action: Go to Screener tool
        system_response: Display filter creation form

      - step: 2
        action: Setup criteria
        system_response: |
          Available filters:

          Fundamental:
          - P/E ratio (min-max)
          - P/B ratio
          - EPS growth
          - ROE
          - Dividend yield
          - Market cap

          Technical:
          - Price above/below MA
          - RSI overbought/oversold
          - MACD crossover
          - Volume spike
          - 52-week high/low

          Market:
          - Exchange (HOSE/HNX/UPCoM)
          - Sector
          - Industry

      - step: 3
        action: Run screener
        system_response: |
          Display results:
          - List of matching symbols
          - Key metrics
          - Sort by criteria

      - step: 4
        action: Save filter
        system_response: Save for later reuse

    saved_screeners:
      - "Value stocks" (P/E < 10, ROE > 15%)
      - "Growth stocks" (EPS growth > 20%)
      - "Dividend stocks" (Yield > 5%)
      - "Technical breakout" (Price > 52W high)

  # =============================================================================
  - id: UC-MARKET-004
    name: View Market News
    actor: Investor
    description: |
      Read financial news and market analysis.

    main_flow:
      - step: 1
        action: Go to "News"
        system_response: |
          Display categories:
          - Market news
          - Corporate news
          - Macroeconomic news
          - Expert analysis
          - Industry reports

      - step: 2
        action: Read detailed news
        system_response: |
          - Article content
          - Related securities symbols (clickable)
          - Related news
          - Comments (if available)

      - step: 3
        action: Set news alerts for symbols
        system_response: |
          Notification when news about:
          - Symbols in watchlist
          - Followed sectors
          - Specific keywords

    news_sources:
      - Exchange disclosures
      - Corporate announcements
      - Financial media
      - Securities company analyst reports

  # =============================================================================
  - id: UC-MARKET-005
    name: View Events Calendar
    actor: Investor
    description: |
      View calendar of important corporate and market events.

    main_flow:
      - step: 1
        action: Go to "Events Calendar"
        system_response: |
          Calendar view with events:
          - Annual General Meetings
          - Record dates
          - Ex-dates
          - Payment dates
          - Earnings announcements
          - IPO/New listings

      - step: 2
        action: Filter by event type
        system_response: |
          Event types:
          - Dividends
          - Rights issues
          - Quarterly/Annual earnings
          - M&A
          - Corporate actions

      - step: 3
        action: Filter by symbol/watchlist
        system_response: Show only events for tracked symbols

      - step: 4
        action: Set reminders
        system_response: Push notification before event

  # =============================================================================
  - id: UC-MARKET-006
    name: Compare Stocks
    actor: Investor
    description: |
      Compare metrics of multiple stock symbols.

    main_flow:
      - step: 1
        action: Go to "Compare"
        system_response: Allow selecting up to 5 symbols

      - step: 2
        action: Select symbols to compare
        system_response: |
          Display comparison table:
          - Price and change
          - Market cap
          - P/E, P/B, EPS
          - ROE, ROA
          - Dividend yield
          - Beta

      - step: 3
        action: View comparison chart
        system_response: |
          Overlay chart:
          - Price performance (%)
          - Relative strength
          - Correlation

      - step: 4
        action: Export report
        system_response: Detailed comparison PDF

  # =============================================================================
  - id: UC-MARKET-007
    name: View Market Statistics
    actor: Investor
    description: |
      View market overview and statistics.

    main_flow:
      - step: 1
        action: Go to "Market Overview"
        system_response: |
          Dashboard:
          - VN-Index, HNX-Index charts
          - Top gainers/losers
          - Top volume/value
          - Foreign net buy/sell
          - Breadth (advances/declines)

      - step: 2
        action: View index details
        system_response: |
          - Intraday/historical chart
          - Index constituents
          - Constituent weights
          - Point contributions

      - step: 3
        action: View foreign trading
        system_response: |
          - Top net buy/sell
          - Value by day/week/month
          - Remaining room
          - Foreign trading trend

      - step: 4
        action: View sector heatmap
        system_response: |
          Visual heatmap:
          - Color by % change
          - Size by market cap
          - Grouped by sector

  # =============================================================================
  - id: UC-MARKET-008
    name: Corporate Financial Analysis
    actor: Investor
    description: |
      View financial reports and in-depth analysis.

    main_flow:
      - step: 1
        action: Select symbol and go to "Financials"
        system_response: |
          Tabs:
          - Balance Sheet
          - Income Statement
          - Cash Flow Statement
          - Financial Ratios

      - step: 2
        action: View financial reports by period
        system_response: |
          - Quarterly/Annual view
          - YoY, QoQ comparison
          - Trend charts
          - Highlight significant changes

      - step: 3
        action: View financial ratios
        system_response: |
          Ratio groups:
          - Valuation (P/E, P/B, EV/EBITDA)
          - Profitability (ROE, ROA, Margin)
          - Liquidity (Current ratio, Quick ratio)
          - Leverage (D/E, Interest coverage)
          - Efficiency (Asset turnover, Inventory days)

      - step: 4
        action: Compare with industry
        system_response: |
          - Benchmark with peers
          - Industry ranking
          - Industry average

  # =============================================================================
  - id: UC-MARKET-009
    name: View Automated Technical Analysis
    actor: Investor
    description: |
      Receive automated technical analysis for securities symbol.

    main_flow:
      - step: 1
        action: Go to "Technical Analysis" for symbol
        system_response: |
          Summary view:
          - Short/medium/long term trend
          - Support/resistance levels
          - Overall signal (Strong Buy â†’ Strong Sell)

      - step: 2
        action: View indicator details
        system_response: |
          Signals table:
          - Moving Averages (5 types)
          - Oscillators (RSI, MACD, etc.)
          - Pivot points
          - Conclusion from each indicator

      - step: 3
        action: View pattern recognition
        system_response: |
          Detected patterns:
          - Head & Shoulders
          - Double top/bottom
          - Triangle
          - Flag
          - With reliability score

      - step: 4
        action: Set alert when signal changes
        system_response: Notification when signal changes

  # =============================================================================
  - id: UC-MARKET-010
    name: Track Large Transactions
    actor: Investor
    description: |
      Monitor large transactions (block trades, insider).

    main_flow:
      - step: 1
        action: Go to "Large Transactions"
        system_response: |
          Tabs:
          - Put-through transactions
          - Insider transactions
          - Major shareholder changes

      - step: 2
        action: View put-through transactions
        system_response: |
          List:
          - Securities symbol
          - Volume, price, value
          - % vs daily volume
          - Premium/Discount vs floor price

      - step: 3
        action: View insider transactions
        system_response: |
          Insider transactions:
          - Trader name
          - Position
          - Buy/Sell
          - Quantity before/after
          - Transaction date

      - step: 4
        action: Set alerts
        system_response: |
          Alert when:
          - Block trade > X billion
          - Insider trading for tracked symbol

# =============================================================================
# Data Requirements
# =============================================================================
data_requirements:
  realtime_data:
    - Price and volume
    - Order book (best bid/ask)
    - Last trades
    - Index values

  delayed_data:
    - Full order book (15 min delay)
    - Time & Sales

  end_of_day:
    - OHLCV
    - Adjusted prices
    - Corporate actions

  fundamental_data:
    - Financial statements (quarterly)
    - Key ratios
    - Company profiles
    - Ownership structure

  derived_data:
    - Technical indicators
    - Pattern recognition
    - Analyst ratings
    - Consensus estimates

# =============================================================================
# Performance Requirements
# =============================================================================
performance:
  latency:
    - Price update: < 100ms
    - Chart load: < 1 second
    - Screener: < 3 seconds

  capacity:
    - Concurrent users: 50,000
    - Symbols tracked: 2,000+
    - Historical data: 20+ years

  availability:
    - Trading hours: 99.99%
    - Off-hours: 99.9%

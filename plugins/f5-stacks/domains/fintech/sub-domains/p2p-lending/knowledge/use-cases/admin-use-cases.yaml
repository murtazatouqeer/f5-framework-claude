name: Admin Use Cases
display_name: Admin Use Cases / Các trường hợp sử dụng của quản trị viên
description: |
  Use cases for platform administrators managing the P2P lending platform
  including user management, loan operations, and compliance.

domain: fintech
sub_domain: p2p-lending
version: "1.0"
status: active

# =============================================================================
# ACTOR DEFINITIONS
# =============================================================================
primary_actors:
  - name: Platform Administrator
    name_vi: Quản trị viên nền tảng
    description: System administrator with full platform access
    roles:
      - super_admin
      - system_admin

  - name: Operations Manager
    name_vi: Quản lý vận hành
    description: Manages daily platform operations
    roles:
      - operations_manager
      - operations_staff

  - name: Credit Analyst
    name_vi: Chuyên viên tín dụng
    description: Reviews and approves loan applications
    roles:
      - senior_credit_analyst
      - credit_analyst

  - name: Collection Manager
    name_vi: Quản lý thu hồi nợ
    description: Oversees debt collection activities
    roles:
      - collection_manager
      - collection_agent

  - name: Compliance Officer
    name_vi: Cán bộ tuân thủ
    description: Ensures regulatory compliance
    roles:
      - compliance_officer
      - aml_analyst

# =============================================================================
# USE CASES
# =============================================================================
use_cases:
  # ---------------------------------------------------------------------------
  # UC-A001: Review Loan Application
  # ---------------------------------------------------------------------------
  - id: UC-A001
    name: Review Loan Application
    name_vi: Xem xét đơn vay
    category: loan_operations
    priority: high
    actor: Credit Analyst

    description: |
      Manually review loan applications flagged for human decision.

    preconditions:
      - application_flagged_for_review
      - analyst_has_permission

    trigger: Application enters manual review queue

    main_flow:
      1:
        action: Access review queue
        system: Display applications pending review
      2:
        action: Select application
        system: Load complete application details
      3:
        action: Review borrower profile
        system: Display KYC, credit, income data
      4:
        action: Review credit assessment
        system: Show scores, bureau data, risk factors
      5:
        action: Review fraud indicators
        system: Display fraud flags and analysis
      6:
        action: Add review notes
        system: Save analyst observations
      7:
        action: Make decision
        system: Approve, reject, or request more info
      8:
        action: Submit decision
        system: Record decision and trigger next steps

    decision_options:
      approve:
        action: generate_offer
        conditions: none

      approve_with_conditions:
        action: generate_conditional_offer
        conditions:
          - reduce_amount
          - require_guarantor
          - shorter_term

      request_additional_info:
        action: pause_and_notify_borrower
        info_types:
          - additional_documents
          - income_clarification
          - employment_verification

      reject:
        action: close_application
        required: rejection_reason

    postconditions:
      - decision_recorded
      - application_status_updated
      - borrower_notified

    business_rules:
      - BR-REV-001: Decision within 24 hours SLA
      - BR-REV-002: Four-eye principle for large loans
      - BR-REV-003: Rejection reason mandatory

  # ---------------------------------------------------------------------------
  # UC-A002: Manage KYC Exceptions
  # ---------------------------------------------------------------------------
  - id: UC-A002
    name: Manage KYC Exceptions
    name_vi: Quản lý ngoại lệ KYC
    category: compliance
    priority: high
    actor: Compliance Officer

    description: |
      Review and resolve KYC verification exceptions.

    preconditions:
      - kyc_exception_exists
      - officer_has_permission

    trigger: KYC flagged for manual review

    main_flow:
      1:
        action: Access KYC exception queue
        system: Display pending exceptions
      2:
        action: Select case
        system: Load KYC submission details
      3:
        action: Review ID documents
        system: Display original images
      4:
        action: Review OCR results
        system: Compare extracted vs manual read
      5:
        action: Review face matching
        system: Display selfie and ID photo comparison
      6:
        action: Check external databases
        system: Query national ID database, watchlists
      7:
        action: Make KYC decision
        system: Approve or reject KYC
      8:
        action: Document findings
        system: Record detailed notes

    exception_types:
      - low_ocr_confidence
      - face_match_borderline
      - liveness_failure
      - document_quality_issues
      - watchlist_partial_match

    postconditions:
      - kyc_status_updated
      - user_notified
      - audit_trail_created

    business_rules:
      - BR-KYC-EX-001: 4-hour SLA for review
      - BR-KYC-EX-002: Suspicious cases to AML
      - BR-KYC-EX-003: Watchlist matches escalated

  # ---------------------------------------------------------------------------
  # UC-A003: Manage Collection Cases
  # ---------------------------------------------------------------------------
  - id: UC-A003
    name: Manage Collection Cases
    name_vi: Quản lý hồ sơ thu hồi
    category: collection
    priority: high
    actor: Collection Manager

    description: |
      Oversee and manage delinquent loan collection activities.

    preconditions:
      - delinquent_loans_exist
      - manager_has_permission

    trigger: Manager accesses collection dashboard

    main_flow:
      1:
        action: View collection dashboard
        system: Display portfolio by DPD buckets
      2:
        action: Review stage distribution
        system: Show loans per collection stage
      3:
        action: Select specific case
        system: Load complete case history
      4:
        action: Review contact history
        system: Display all contact attempts
      5:
        action: Review agent notes
        system: Show conversation summaries
      6:
        action: Approve special actions
        system: Payment plans, settlements, escalations
      7:
        action: Reassign cases
        system: Move to different agent or agency
      8:
        action: Generate reports
        system: Create collection performance reports

    manager_actions:
      approve_payment_plan:
        conditions: within_authority_limit
        documentation: required

      approve_settlement:
        conditions: discount_within_authority
        documentation: full_case_file

      escalate_to_legal:
        conditions: collection_exhausted
        documentation: required

      reassign_to_agency:
        conditions: internal_efforts_failed

    postconditions:
      - actions_recorded
      - agents_notified
      - metrics_updated

    business_rules:
      - BR-COLL-001: Approval limits by role
      - BR-COLL-002: Settlement requires documentation
      - BR-COLL-003: Agency referral after 45 DPD

  # ---------------------------------------------------------------------------
  # UC-A004: Approve Write-Off
  # ---------------------------------------------------------------------------
  - id: UC-A004
    name: Approve Loan Write-Off
    name_vi: Phê duyệt xóa nợ
    category: collection
    priority: high
    actor: Collection Manager | CCO | CEO

    description: |
      Review and approve loan write-off requests.

    preconditions:
      - write_off_request_submitted
      - approver_has_authority

    trigger: Write-off request reaches approval queue

    main_flow:
      1:
        action: Access write-off queue
        system: Display pending write-off requests
      2:
        action: Select request
        system: Load complete write-off package
      3:
        action: Review collection history
        system: Verify exhaustive collection efforts
      4:
        action: Review financial analysis
        system: Assess recovery likelihood
      5:
        action: Review supporting documents
        system: Check all required documentation
      6:
        action: Make approval decision
        system: Approve, reject, or request more info
      7:
        action: Document rationale
        system: Record decision reasoning
      8:
        action: Submit decision
        system: Trigger write-off or return for more work

    approval_authority:
      up_to_10m: collection_director
      10m_to_50m: cco
      50m_to_200m: ceo
      above_200m: board_of_directors

    postconditions:
      - decision_recorded
      - if_approved_write_off_executed
      - investor_notification_triggered

    business_rules:
      - BR-WO-001: Authority limits enforced
      - BR-WO-002: Complete documentation required
      - BR-WO-003: Four-eye for large amounts

  # ---------------------------------------------------------------------------
  # UC-A005: Monitor Platform Health
  # ---------------------------------------------------------------------------
  - id: UC-A005
    name: Monitor Platform Health
    name_vi: Giám sát sức khỏe nền tảng
    category: operations
    priority: high
    actor: Operations Manager

    description: |
      Monitor key platform metrics and system health.

    preconditions:
      - manager_has_dashboard_access

    trigger: Manager accesses operations dashboard

    main_flow:
      1:
        action: View real-time dashboard
        system: Display key operational metrics
      2:
        action: Review funding pipeline
        system: Show listings and funding progress
      3:
        action: Review disbursement status
        system: Display pending and completed disbursements
      4:
        action: Review repayment performance
        system: Show today's collections and variances
      5:
        action: Review system alerts
        system: Display any system or process alerts
      6:
        action: Take corrective actions
        system: Resolve issues or escalate

    monitored_metrics:
      volume:
        - applications_received
        - loans_approved
        - loans_funded
        - loans_disbursed

      performance:
        - approval_rate
        - funding_success_rate
        - on_time_repayment_rate
        - default_rate

      financial:
        - total_outstanding
        - provision_fund_balance
        - platform_revenue

      operational:
        - processing_time_sla
        - queue_lengths
        - system_uptime

    postconditions:
      - dashboard_viewed
      - any_actions_logged

  # ---------------------------------------------------------------------------
  # UC-A006: Manage User Accounts
  # ---------------------------------------------------------------------------
  - id: UC-A006
    name: Manage User Accounts
    name_vi: Quản lý tài khoản người dùng
    category: user_management
    priority: medium
    actor: Platform Administrator

    description: |
      Manage borrower and investor accounts on the platform.

    preconditions:
      - admin_has_permission

    trigger: Admin accesses user management section

    main_flow:
      1:
        action: Search for user
        system: Search by phone, email, name, ID
      2:
        action: View user profile
        system: Display complete user information
      3:
        action: Review account status
        system: Show status, restrictions, history
      4:
        action: Perform account action
        system: Execute selected action
      5:
        action: Document action
        system: Record reason and details
      6:
        action: Notify user if required
        system: Send notification of action

    available_actions:
      activate_account:
        conditions: account_suspended
        notification: required

      suspend_account:
        conditions: policy_violation
        notification: required
        reversible: true

      close_account:
        conditions: user_request_or_violation
        notification: required
        reversible: with_approval

      reset_password:
        conditions: user_request
        notification: required

      update_limits:
        conditions: verified_accredited
        notification: optional

      blacklist_user:
        conditions: fraud_confirmed
        notification: not_required
        reversible: with_approval

    postconditions:
      - action_completed
      - audit_trail_created
      - user_notified_if_required

    business_rules:
      - BR-USER-001: All actions require reason
      - BR-USER-002: Suspensions require approval
      - BR-USER-003: Blacklisting is permanent

  # ---------------------------------------------------------------------------
  # UC-A007: Configure Platform Parameters
  # ---------------------------------------------------------------------------
  - id: UC-A007
    name: Configure Platform Parameters
    name_vi: Cấu hình tham số nền tảng
    category: configuration
    priority: medium
    actor: Platform Administrator

    description: |
      Configure and update platform operational parameters.

    preconditions:
      - admin_has_config_permission

    trigger: Admin accesses configuration section

    main_flow:
      1:
        action: Select configuration category
        system: Display available parameter groups
      2:
        action: View current settings
        system: Display current parameter values
      3:
        action: Modify parameter
        system: Validate new value
      4:
        action: Preview impact
        system: Show affected areas
      5:
        action: Submit change request
        system: Route for approval if required
      6:
        action: Activate change
        system: Apply new configuration

    configurable_areas:
      pricing:
        - base_interest_rate
        - grade_premiums
        - fee_structures

      limits:
        - loan_amount_limits
        - investment_limits
        - withdrawal_limits

      eligibility:
        - minimum_credit_score
        - income_requirements
        - age_requirements

      collection:
        - grace_period_days
        - late_fee_rate
        - collection_stage_thresholds

    postconditions:
      - configuration_updated
      - change_logged
      - affected_systems_notified

    business_rules:
      - BR-CFG-001: Critical changes require approval
      - BR-CFG-002: All changes audited
      - BR-CFG-003: Rollback capability required

  # ---------------------------------------------------------------------------
  # UC-A008: Generate Regulatory Reports
  # ---------------------------------------------------------------------------
  - id: UC-A008
    name: Generate Regulatory Reports
    name_vi: Tạo báo cáo pháp quy
    category: compliance
    priority: high
    actor: Compliance Officer

    description: |
      Generate and submit required regulatory reports.

    preconditions:
      - reporting_period_ended
      - officer_has_permission

    trigger: Reporting deadline approaching or manual request

    main_flow:
      1:
        action: Select report type
        system: Display available regulatory reports
      2:
        action: Set reporting period
        system: Validate period completeness
      3:
        action: Generate report
        system: Compile data per regulatory format
      4:
        action: Review report
        system: Display report for validation
      5:
        action: Make corrections if needed
        system: Adjust data and regenerate
      6:
        action: Approve report
        system: Mark as ready for submission
      7:
        action: Submit to regulator
        system: Electronic submission or export

    report_types:
      periodic_reports:
        - monthly_lending_statistics
        - quarterly_portfolio_report
        - annual_compliance_report

      ad_hoc_reports:
        - suspicious_activity_report
        - large_transaction_report
        - complaint_statistics

      credit_bureau_reports:
        - borrower_payment_updates
        - default_notifications
        - dispute_resolutions

    postconditions:
      - report_generated
      - submission_recorded
      - acknowledgment_received

    business_rules:
      - BR-REG-001: Submission before deadline
      - BR-REG-002: Four-eye review for submissions
      - BR-REG-003: Archive for 10 years

  # ---------------------------------------------------------------------------
  # UC-A009: Investigate Fraud Case
  # ---------------------------------------------------------------------------
  - id: UC-A009
    name: Investigate Fraud Case
    name_vi: Điều tra trường hợp gian lận
    category: fraud_management
    priority: high
    actor: Compliance Officer

    description: |
      Investigate suspected fraud cases flagged by the system.

    preconditions:
      - fraud_alert_triggered
      - investigator_assigned

    trigger: Fraud detection system flags suspicious activity

    main_flow:
      1:
        action: Access fraud case
        system: Load case details and alerts
      2:
        action: Review triggering event
        system: Display what caused the alert
      3:
        action: Analyze related transactions
        system: Show transaction patterns
      4:
        action: Review user behavior
        system: Display login, device, location data
      5:
        action: Check external sources
        system: Query fraud databases, social media
      6:
        action: Document findings
        system: Record investigation notes
      7:
        action: Make determination
        system: Confirm fraud or clear alert
      8:
        action: Take action
        system: Block, suspend, or escalate

    fraud_types:
      identity_fraud:
        - fake_identity_documents
        - identity_theft
        - synthetic_identity

      application_fraud:
        - income_falsification
        - employment_fraud
        - collusion

      transaction_fraud:
        - money_laundering
        - account_takeover
        - payment_fraud

    investigation_actions:
      if_confirmed:
        - block_all_accounts
        - reverse_transactions_if_possible
        - report_to_authorities
        - blacklist_identifiers

      if_inconclusive:
        - add_monitoring
        - request_additional_verification
        - escalate_to_senior

      if_cleared:
        - document_clearance_reason
        - unblock_if_blocked
        - update_fraud_model_feedback

    postconditions:
      - investigation_completed
      - actions_taken
      - case_documented

    business_rules:
      - BR-FRAUD-001: 24-hour SLA for high-risk
      - BR-FRAUD-002: Report to authorities if required
      - BR-FRAUD-003: Preserve evidence chain

  # ---------------------------------------------------------------------------
  # UC-A010: Manage External Agencies
  # ---------------------------------------------------------------------------
  - id: UC-A010
    name: Manage External Collection Agencies
    name_vi: Quản lý đại lý thu hồi nợ bên ngoài
    category: vendor_management
    priority: medium
    actor: Collection Manager

    description: |
      Onboard, monitor, and manage external collection agencies.

    preconditions:
      - manager_has_permission

    trigger: Manager accesses agency management section

    main_flow:
      1:
        action: View agency list
        system: Display all partner agencies
      2:
        action: Review agency performance
        system: Show collection rates, complaints
      3:
        action: Manage case assignments
        system: Assign or recall cases
      4:
        action: Review compliance
        system: Check agency adherence to policies
      5:
        action: Process commissions
        system: Calculate and approve payments
      6:
        action: Update agency status
        system: Activate, suspend, or terminate

    agency_metrics:
      - collection_rate
      - average_days_to_collect
      - customer_complaint_rate
      - compliance_violations
      - call_quality_scores

    management_actions:
      assign_cases:
        criteria: dpd_threshold
        validation: agency_active

      recall_cases:
        conditions: poor_performance
        process: notify_and_transfer

      terminate_agency:
        conditions: violations_or_performance
        notice_period: 30_days

    postconditions:
      - actions_completed
      - agency_records_updated

    business_rules:
      - BR-AGY-001: Licensed agencies only
      - BR-AGY-002: Monthly performance review
      - BR-AGY-003: Zero tolerance for violations

# =============================================================================
# USE CASE RELATIONSHIPS
# =============================================================================
relationships:
  extends:
    - UC-A003_extends_UC-A001: "Collection follows loan review"
    - UC-A004_extends_UC-A003: "Write-off follows collection"

  includes:
    - UC-A001_includes_documentation: "All reviews documented"
    - UC-A009_includes_reporting: "Fraud may require reporting"

  precedes:
    - UC-A001_precedes_offer_generation: "Review before offer"
    - UC-A004_precedes_provision_claim: "Write-off before claim"

name: traveler-use-cases
display_name: Traveler Use Cases
display_name_vi: Ca sử dụng của Khách du lịch
version: "1.0"
domain: travel-hospitality
subdomain: booking

description: |
  Use cases for travelers (end customers) interacting with
  the booking platform for searching, booking, and managing travel.

actor:
  name: Traveler
  type: primary
  description: |
    End customer who searches for and books travel products
    including flights, hotels, packages, and activities.
  characteristics:
    - registered_user: may or may not be
    - loyalty_member: optional
    - booking_for: self or others

use_cases:
  # ===== SEARCH USE CASES =====
  - id: UC-TRV-001
    name: Search Flights
    display_name_vi: Tìm chuyến bay
    category: search
    description: |
      Traveler searches for available flights between
      origin and destination on specified dates.
    preconditions:
      - platform_accessible
    trigger: traveler_initiates_flight_search
    main_flow:
      1: Enter origin city/airport
      2: Enter destination city/airport
      3: Select departure date
      4: Select return date (if round-trip)
      5: Specify number of passengers by type
      6: Select cabin class preference
      7: Submit search
      8: System displays available flights
      9: Apply filters (optional)
      10: Sort results (optional)
    alternative_flows:
      - id: AF-001
        name: Multi-city search
        condition: traveler_needs_multiple_destinations
        steps:
          - Select multi-city option
          - Add multiple city pairs
          - Search combined itinerary

      - id: AF-002
        name: Flexible dates
        condition: dates_are_flexible
        steps:
          - Enable flexible dates option
          - View price calendar
          - Select best date combination
    postconditions:
      - search_results_displayed
      - results_sortable_and_filterable
    business_rules:
      - BR-SRCH-F001
      - BR-SRCH-F002

  - id: UC-TRV-002
    name: Search Hotels
    display_name_vi: Tìm khách sạn
    category: search
    description: |
      Traveler searches for available hotels in a destination
      for specified dates and guest configuration.
    preconditions:
      - platform_accessible
    trigger: traveler_initiates_hotel_search
    main_flow:
      1: Enter destination (city, area, or specific hotel)
      2: Select check-in date
      3: Select check-out date
      4: Specify number of rooms
      5: Specify guests per room (adults, children with ages)
      6: Submit search
      7: System displays available hotels
      8: Apply filters (star rating, price, amenities)
      9: Switch between list and map view
      10: Sort by preference (price, rating, distance)
    alternative_flows:
      - id: AF-001
        name: Search near landmark
        steps:
          - Enter landmark or POI
          - Set search radius
          - View results on map

      - id: AF-002
        name: Search by property type
        steps:
          - Filter by property type
          - View specialized results
    postconditions:
      - hotel_results_displayed
      - pricing_per_room_per_night_shown
    business_rules:
      - BR-SRCH-H001
      - BR-SRCH-H002

  - id: UC-TRV-003
    name: Search Packages
    display_name_vi: Tìm gói du lịch
    category: search
    description: |
      Traveler searches for combined flight and hotel packages
      to a destination.
    preconditions:
      - platform_accessible
    trigger: traveler_initiates_package_search
    main_flow:
      1: Enter origin city
      2: Enter destination city
      3: Select travel dates
      4: Specify number of travelers
      5: Set preferences (hotel rating, budget)
      6: Submit search
      7: View package options with savings displayed
      8: Compare packages
      9: Filter and sort results
    postconditions:
      - package_options_displayed
      - savings_vs_separate_booking_shown
    business_rules:
      - BR-SRCH-P001
      - BR-SRCH-P002

  # ===== BOOKING USE CASES =====
  - id: UC-TRV-010
    name: Book Flight
    display_name_vi: Đặt vé máy bay
    category: booking
    description: |
      Traveler completes flight booking from selection
      through payment and confirmation.
    preconditions:
      - flight_search_completed
      - flight_selected
    trigger: traveler_proceeds_to_book_flight
    main_flow:
      1: Review selected flight details
      2: Select fare class/brand
      3: Enter passenger details for all travelers
      4: Add contact information
      5: Select optional extras (baggage, seats)
      6: Review complete booking
      7: Accept terms and conditions
      8: Enter payment information
      9: Confirm and pay
      10: Receive booking confirmation
      11: Receive e-ticket
    alternative_flows:
      - id: AF-001
        name: Login during booking
        condition: user_chooses_to_login
        steps:
          - Login or create account
          - Auto-fill saved details
          - Continue booking

      - id: AF-002
        name: Price change during booking
        condition: price_changed
        steps:
          - System notifies of price change
          - Traveler accepts or abandons
    postconditions:
      - booking_confirmed
      - payment_processed
      - eticket_issued
      - confirmation_sent
    business_rules:
      - BR-BK-P001
      - BR-BK-PAY001

  - id: UC-TRV-011
    name: Book Hotel
    display_name_vi: Đặt khách sạn
    category: booking
    description: |
      Traveler completes hotel reservation from selection
      through payment/guarantee and confirmation.
    preconditions:
      - hotel_search_completed
      - hotel_and_room_selected
    trigger: traveler_proceeds_to_book_hotel
    main_flow:
      1: Review selected hotel and room
      2: Select rate plan (refundable/non-refundable)
      3: Enter guest names
      4: Enter contact information
      5: Add special requests
      6: Select extras (transfers, breakfast)
      7: Review booking
      8: Accept terms and cancellation policy
      9: Provide payment (full or guarantee)
      10: Receive confirmation and voucher
    postconditions:
      - reservation_confirmed
      - voucher_generated
      - confirmation_sent
    business_rules:
      - BR-BK-F001
      - BR-CAN-H001

  - id: UC-TRV-012
    name: Book Package
    display_name_vi: Đặt gói du lịch
    category: booking
    description: |
      Traveler books a complete travel package with
      flights, hotel, and optional activities.
    preconditions:
      - package_search_completed
      - package_selected
    trigger: traveler_proceeds_to_book_package
    main_flow:
      1: Review package components
      2: Customize package (optional)
      3: Enter all traveler details
      4: Enter passport information (international)
      5: Select package extras
      6: Review complete package
      7: Accept terms and cancellation policy
      8: Select payment option (full/deposit)
      9: Complete payment
      10: Receive comprehensive confirmation
    postconditions:
      - all_components_booked
      - documents_generated
      - itinerary_created
    business_rules:
      - BR-CAN-P001

  # ===== MANAGEMENT USE CASES =====
  - id: UC-TRV-020
    name: View Booking
    display_name_vi: Xem đặt chỗ
    category: management
    description: |
      Traveler retrieves and views details of an
      existing booking.
    preconditions:
      - booking_exists
    trigger: traveler_accesses_booking
    main_flow:
      1: Navigate to My Trips / Manage Booking
      2: Enter booking reference (or login to see all)
      3: Enter last name for verification
      4: View booking details
      5: Download documents (optional)
    alternative_flows:
      - id: AF-001
        name: Access via email link
        steps:
          - Click link in confirmation email
          - View booking directly
    postconditions:
      - booking_details_displayed
      - actions_available_shown

  - id: UC-TRV-021
    name: Modify Booking
    display_name_vi: Sửa đặt chỗ
    category: management
    description: |
      Traveler requests changes to an existing booking
      such as dates, flights, or passenger details.
    preconditions:
      - booking_exists
      - booking_is_modifiable
    trigger: traveler_requests_modification
    main_flow:
      1: Access booking
      2: Select modification type
      3: Enter new details
      4: System checks eligibility
      5: System calculates fees
      6: Review modification and fees
      7: Confirm and pay (if applicable)
      8: Receive updated confirmation
    alternative_flows:
      - id: AF-001
        name: Modification not allowed
        condition: fare_rules_prohibit
        steps:
          - System explains restriction
          - Offers cancel and rebook option
    postconditions:
      - booking_updated
      - documents_regenerated
    business_rules:
      - BR-BK-M001
      - BR-BK-M002

  - id: UC-TRV-022
    name: Cancel Booking
    display_name_vi: Hủy đặt chỗ
    category: management
    description: |
      Traveler cancels an existing booking and
      receives applicable refund.
    preconditions:
      - booking_exists
      - booking_is_cancellable
    trigger: traveler_requests_cancellation
    main_flow:
      1: Access booking
      2: Select cancel booking
      3: System calculates refund/penalty
      4: Review cancellation terms
      5: Select refund preference (cash/credit)
      6: Confirm cancellation
      7: Receive cancellation confirmation
      8: Refund processed
    alternative_flows:
      - id: AF-001
        name: Partial cancellation
        condition: multi_component_booking
        steps:
          - Select components to cancel
          - Review impact on remaining
          - Proceed with partial cancellation
    postconditions:
      - booking_cancelled
      - refund_initiated
      - confirmation_sent
    business_rules:
      - BR-CAN-F001
      - BR-CAN-H001

  - id: UC-TRV-023
    name: Add Services
    display_name_vi: Thêm dịch vụ
    category: management
    description: |
      Traveler adds ancillary services to an
      existing booking (baggage, seats, insurance).
    preconditions:
      - booking_exists
      - booking_is_active
    trigger: traveler_adds_services
    main_flow:
      1: Access booking
      2: View available add-ons
      3: Select services to add
      4: Review pricing
      5: Complete payment
      6: Services added to booking
      7: Updated confirmation sent
    postconditions:
      - services_added
      - booking_updated

  # ===== CHECK-IN USE CASES =====
  - id: UC-TRV-030
    name: Online Check-in
    display_name_vi: Check-in trực tuyến
    category: check_in
    description: |
      Traveler completes online check-in for flight
      and obtains boarding pass.
    preconditions:
      - flight_booking_exists
      - within_check_in_window
    trigger: traveler_initiates_check_in
    main_flow:
      1: Access booking or check-in link
      2: Select passengers to check in
      3: Confirm passport details (international)
      4: Select seats (if not pre-selected)
      5: Add baggage (if needed)
      6: Review and confirm
      7: Receive boarding pass
      8: Download or add to wallet
    alternative_flows:
      - id: AF-001
        name: Document verification required
        condition: api_requires_docs
        steps:
          - Upload passport/visa images
          - Await verification
          - Complete check-in
    postconditions:
      - checked_in
      - boarding_pass_issued
    timing:
      - opens: 24-48 hours before departure
      - closes: 1-3 hours before departure

  # ===== ACCOUNT USE CASES =====
  - id: UC-TRV-040
    name: Create Account
    display_name_vi: Tạo tài khoản
    category: account
    description: |
      Traveler creates an account on the platform
      for easier booking and management.
    preconditions:
      - not_already_registered
    trigger: traveler_starts_registration
    main_flow:
      1: Click register/sign up
      2: Enter email address
      3: Create password
      4: Enter personal details
      5: Accept terms of service
      6: Verify email
      7: Account created
    alternative_flows:
      - id: AF-001
        name: Social login
        steps:
          - Select social provider
          - Authorize access
          - Complete profile
    postconditions:
      - account_created
      - logged_in

  - id: UC-TRV-041
    name: Manage Profile
    display_name_vi: Quản lý hồ sơ
    category: account
    description: |
      Traveler updates personal information, preferences,
      and saved details in their profile.
    preconditions:
      - logged_in
    trigger: traveler_edits_profile
    main_flow:
      1: Access profile settings
      2: Update personal information
      3: Update travel preferences
      4: Manage saved travelers
      5: Manage payment methods
      6: Update notification preferences
      7: Save changes
    postconditions:
      - profile_updated

  - id: UC-TRV-042
    name: Add Frequent Flyer
    display_name_vi: Thêm thẻ hội viên
    category: account
    description: |
      Traveler links frequent flyer and loyalty
      program memberships to their account.
    preconditions:
      - logged_in
    trigger: traveler_adds_loyalty_program
    main_flow:
      1: Access loyalty programs section
      2: Select airline program
      3: Enter membership number
      4: Verify membership (optional)
      5: Save to profile
      6: Auto-apply to future bookings
    postconditions:
      - loyalty_program_linked

  # ===== SUPPORT USE CASES =====
  - id: UC-TRV-050
    name: Contact Support
    display_name_vi: Liên hệ hỗ trợ
    category: support
    description: |
      Traveler contacts customer support for
      assistance with booking or issues.
    preconditions:
      - platform_accessible
    trigger: traveler_needs_help
    main_flow:
      1: Access help/support section
      2: Select issue category
      3: View self-help articles (optional)
      4: Choose contact method
      5: Provide booking reference
      6: Describe issue
      7: Submit request
      8: Receive response/resolution
    contact_channels:
      - live_chat: 24/7
      - email: response_within_24h
      - phone: during_business_hours
      - social_media: monitored
    postconditions:
      - support_ticket_created
      - issue_tracked

  - id: UC-TRV-051
    name: Request Refund
    display_name_vi: Yêu cầu hoàn tiền
    category: support
    description: |
      Traveler requests refund for cancelled or
      problematic booking.
    preconditions:
      - booking_exists
      - refund_eligible
    trigger: traveler_requests_refund
    main_flow:
      1: Access booking or support
      2: Select refund request
      3: Provide reason
      4: Upload documentation (if required)
      5: Submit request
      6: Await processing
      7: Receive refund status updates
      8: Refund completed
    postconditions:
      - refund_request_submitted
      - refund_processed

  - id: UC-TRV-052
    name: File Complaint
    display_name_vi: Khiếu nại
    category: support
    description: |
      Traveler files a complaint regarding
      service quality or issues.
    preconditions:
      - booking_exists
      - issue_occurred
    trigger: traveler_files_complaint
    main_flow:
      1: Access complaint form
      2: Provide booking details
      3: Describe issue in detail
      4: Attach evidence (optional)
      5: Submit complaint
      6: Receive acknowledgment
      7: Investigation conducted
      8: Resolution provided
    sla:
      - acknowledgment: 24_hours
      - resolution: 7-14_business_days
    postconditions:
      - complaint_logged
      - resolution_communicated

metrics:
  - name: booking_completion_rate
    description: Percentage of searches that result in booking

  - name: average_time_to_book
    description: Time from search to confirmation

  - name: support_ticket_resolution_time
    description: Average time to resolve support issues

name: Operator Use Cases
display_name: Operator Use Cases / Ca sử dụng nhà điều hành
description: |
  Use cases for tour operators managing tours, guides,
  bookings, and business operations on the platform.

domain: travel-hospitality
subdomain: tour
actor: Operator
version: "1.0"

use_cases:
  # ============================================
  # TOUR MANAGEMENT
  # ============================================
  - id: UC-OPR-001
    name: Create New Tour
    name_vi: Tạo tour mới
    description: Operator creates a new tour listing
    actor: Operator
    preconditions:
      - Operator account is verified
      - Has necessary permits/licenses
    main_flow:
      1: Operator opens tour creation
      2: Operator enters basic information
      3: Operator defines itinerary
      4: Operator sets pricing
      5: Operator uploads media
      6: Operator configures options
      7: Operator submits for review
      8: Platform reviews and approves
    basic_information:
      - title
      - description
      - tour_type
      - duration
      - meeting_point
      - languages_offered
    alternative_flows:
      - id: 8a
        condition: Changes requested
        steps:
          1: Platform provides feedback
          2: Operator makes adjustments
          3: Resubmits for review
    postconditions:
      - Tour created
      - Status: pending_review or active
    business_rules: [BR-BKG-001]
    related_entities: [Tour, Itinerary]

  - id: UC-OPR-002
    name: Edit Tour
    name_vi: Chỉnh sửa tour
    description: Operator updates existing tour details
    actor: Operator
    preconditions:
      - Tour exists
      - Operator owns the tour
    main_flow:
      1: Operator opens tour management
      2: Operator selects tour to edit
      3: Operator modifies details
      4: Operator saves changes
      5: System validates changes
      6: Changes applied immediately or queued for review
    alternative_flows:
      - id: 6a
        condition: Significant changes
        steps:
          1: System flags for re-review
          2: Platform reviews changes
          3: Changes approved or rejected
    postconditions:
      - Tour updated
    related_entities: [Tour]

  - id: UC-OPR-003
    name: Manage Tour Availability
    name_vi: Quản lý lịch tour
    description: Operator sets tour schedules and availability
    actor: Operator
    preconditions:
      - Tour is active
    main_flow:
      1: Operator opens schedule management
      2: Operator views calendar
      3: Operator adds available dates
      4: Operator sets time slots
      5: Operator configures capacity per slot
      6: System updates availability
    alternative_flows:
      - id: 3a
        condition: Recurring schedule
        steps:
          1: Operator sets recurring pattern
          2: System generates schedules
      - id: 3b
        condition: Block dates
        steps:
          1: Operator selects dates to block
          2: System removes from availability
    postconditions:
      - Availability updated
    business_rules: [BR-CAP-010, BR-CAP-011]
    related_entities: [TourSchedule, TourAvailability]

  - id: UC-OPR-004
    name: Set Tour Pricing
    name_vi: Đặt giá tour
    description: Operator configures tour pricing
    actor: Operator
    preconditions:
      - Tour exists
    main_flow:
      1: Operator opens pricing settings
      2: Operator sets base adult price
      3: Operator sets child pricing
      4: Operator configures group discounts
      5: Operator sets seasonal pricing
      6: Operator configures private tour pricing
      7: System validates pricing rules
    pricing_options:
      - adult_price
      - child_price
      - infant_price
      - group_discounts
      - seasonal_adjustments
      - private_tour_premium
      - add_on_pricing
    postconditions:
      - Pricing configured
    business_rules: [BR-PRC-010 through BR-PRC-015]
    related_entities: [Tour]

  - id: UC-OPR-005
    name: Manage Add-Ons
    name_vi: Quản lý dịch vụ bổ sung
    description: Operator creates and manages tour add-ons
    actor: Operator
    preconditions:
      - Tour exists
    main_flow:
      1: Operator opens add-on management
      2: Operator creates new add-on
      3: Operator sets add-on name and description
      4: Operator sets add-on price
      5: Operator sets availability rules
      6: Operator links to tours
    add_on_types:
      - equipment_rental
      - meal_upgrade
      - transportation_upgrade
      - photo_package
      - insurance
      - guided_extension
    postconditions:
      - Add-ons configured
    related_entities: [Tour]

  - id: UC-OPR-006
    name: Pause/Unpause Tour
    name_vi: Tạm dừng/mở lại tour
    description: Operator temporarily pauses tour availability
    actor: Operator
    preconditions:
      - Tour is active or paused
    main_flow:
      1: Operator opens tour settings
      2: Operator clicks Pause/Unpause
      3: Operator provides reason (if pausing)
      4: System updates tour status
      5: System handles existing bookings (if any)
    alternative_flows:
      - id: 5a
        condition: Has future bookings
        steps:
          1: System displays affected bookings
          2: Operator decides to cancel or honor
          3: Customers notified accordingly
    postconditions:
      - Tour status updated
    related_entities: [Tour, TourBooking]

  - id: UC-OPR-007
    name: Archive Tour
    name_vi: Lưu trữ tour
    description: Operator archives discontinued tour
    actor: Operator
    preconditions:
      - Tour exists
      - No pending/future bookings
    main_flow:
      1: Operator opens tour settings
      2: Operator selects archive option
      3: System verifies no active bookings
      4: System archives tour
      5: Tour removed from search
      6: Historical data preserved
    postconditions:
      - Tour archived
      - Not visible to customers
    related_entities: [Tour]

  # ============================================
  # BOOKING MANAGEMENT
  # ============================================
  - id: UC-OPR-010
    name: View Bookings
    name_vi: Xem đặt chỗ
    description: Operator views booking list and details
    actor: Operator
    preconditions:
      - Has bookings for their tours
    main_flow:
      1: Operator opens booking dashboard
      2: System displays booking list
      3: Operator filters by date/tour/status
      4: Operator selects booking
      5: System displays booking details
    views_available:
      - all_bookings
      - upcoming
      - today
      - pending_confirmation
      - cancelled
    postconditions:
      - Bookings displayed
    related_entities: [TourBooking]

  - id: UC-OPR-011
    name: Confirm Request Booking
    name_vi: Xác nhận yêu cầu đặt tour
    description: Operator confirms request-to-book booking
    actor: Operator
    preconditions:
      - Booking type is request
      - Booking status is pending
    main_flow:
      1: Operator receives booking request notification
      2: Operator reviews booking details
      3: Operator checks availability
      4: Operator confirms booking
      5: System processes payment
      6: System sends confirmation to customer
    alternative_flows:
      - id: 4a
        condition: Cannot accommodate
        steps:
          1: Operator declines with reason
          2: System cancels booking
          3: Customer notified and refunded
      - id: 4b
        condition: Offer alternative
        steps:
          1: Operator suggests alternative date/time
          2: Customer accepts or declines
    postconditions:
      - Booking confirmed or declined
    business_rules: [BR-BKG-011, BR-BKG-012]
    related_entities: [TourBooking]
    related_workflows: [tour-booking-workflow]

  - id: UC-OPR-012
    name: Modify Booking
    name_vi: Sửa đổi đặt chỗ
    description: Operator modifies existing booking
    actor: Operator
    preconditions:
      - Booking exists
      - Modification allowed
    main_flow:
      1: Operator opens booking
      2: Operator selects modification type
      3: Operator makes changes
      4: System calculates price adjustment
      5: Operator confirms changes
      6: Customer notified of changes
    modification_types:
      - change_date
      - change_time
      - add_participants
      - remove_participants
      - change_pickup_point
      - add_addon
    postconditions:
      - Booking modified
      - Customer notified
    related_entities: [TourBooking]

  - id: UC-OPR-013
    name: Cancel Booking
    name_vi: Hủy đặt chỗ
    description: Operator cancels a booking
    actor: Operator
    preconditions:
      - Booking exists
      - Valid reason for cancellation
    main_flow:
      1: Operator opens booking
      2: Operator initiates cancellation
      3: Operator selects reason
      4: System calculates refund
      5: Operator confirms cancellation
      6: System processes full refund
      7: Customer notified
    cancellation_reasons:
      - insufficient_participants
      - weather_conditions
      - guide_unavailable
      - operational_issues
      - safety_concerns
    postconditions:
      - Booking cancelled
      - Full refund processed
      - Customer notified
    business_rules: [BR-CAN-050]
    related_entities: [TourBooking]
    related_workflows: [cancellation-workflow]

  - id: UC-OPR-014
    name: Process Refund Request
    name_vi: Xử lý yêu cầu hoàn tiền
    description: Operator reviews and processes refund requests
    actor: Operator
    preconditions:
      - Refund request submitted
    main_flow:
      1: Operator receives refund request
      2: Operator reviews request details
      3: Operator checks supporting evidence
      4: Operator makes decision
      5: System processes approved refund
      6: Customer notified of outcome
    alternative_flows:
      - id: 4a
        condition: Partial refund appropriate
        steps:
          1: Operator calculates partial amount
          2: Operator provides justification
          3: Customer receives partial refund
      - id: 4b
        condition: Refund denied
        steps:
          1: Operator provides denial reason
          2: Customer notified with explanation
    postconditions:
      - Request processed
      - Customer notified
    related_entities: [TourBooking]

  - id: UC-OPR-015
    name: Export Booking Data
    name_vi: Xuất dữ liệu đặt chỗ
    description: Operator exports booking data for reporting
    actor: Operator
    preconditions:
      - Has bookings
    main_flow:
      1: Operator opens reports section
      2: Operator selects export type
      3: Operator selects date range
      4: Operator selects data fields
      5: System generates export file
      6: Operator downloads file
    export_formats:
      - csv
      - excel
      - pdf
    postconditions:
      - Data exported
    related_entities: [TourBooking]

  # ============================================
  # GUIDE MANAGEMENT
  # ============================================
  - id: UC-OPR-020
    name: View Guide Pool
    name_vi: Xem danh sách hướng dẫn viên
    description: Operator views available guides
    actor: Operator
    preconditions:
      - Operator has guide relationships
    main_flow:
      1: Operator opens guide management
      2: System displays guide list
      3: Operator filters by language/expertise
      4: Operator views guide profiles
      5: Operator views guide availability
    postconditions:
      - Guide list displayed
    related_entities: [Guide]

  - id: UC-OPR-021
    name: Assign Guide to Tour
    name_vi: Phân công hướng dẫn viên
    description: Operator assigns guide to scheduled tour
    actor: Operator
    preconditions:
      - Tour schedule exists
      - Guide available
    main_flow:
      1: Operator opens schedule
      2: Operator clicks assign guide
      3: System shows available guides
      4: Operator selects guide
      5: System sends assignment request
      6: Guide accepts/declines
      7: Assignment confirmed
    alternative_flows:
      - id: 6a
        condition: Guide declines
        steps:
          1: Operator selects another guide
          2: Process repeats
      - id: 3a
        condition: Auto-assign
        steps:
          1: System recommends best match
          2: Operator approves recommendation
    postconditions:
      - Guide assigned
    business_rules: [BR-CAP-040]
    related_entities: [Guide, TourSchedule]
    related_workflows: [guide-assignment-workflow]

  - id: UC-OPR-022
    name: Manage Guide Compensation
    name_vi: Quản lý thù lao hướng dẫn viên
    description: Operator sets guide payment rates
    actor: Operator
    preconditions:
      - Guide relationship exists
    main_flow:
      1: Operator opens guide settings
      2: Operator selects guide
      3: Operator sets payment rate
      4: Operator configures payment terms
      5: System saves compensation settings
    compensation_options:
      - per_tour_rate
      - per_hour_rate
      - bonus_structure
      - tip_sharing
    postconditions:
      - Compensation configured
    related_entities: [Guide]

  - id: UC-OPR-023
    name: Review Guide Performance
    name_vi: Đánh giá hiệu suất hướng dẫn viên
    description: Operator reviews guide performance metrics
    actor: Operator
    preconditions:
      - Guide has completed tours
    main_flow:
      1: Operator opens guide performance
      2: System displays performance dashboard
      3: Operator views ratings and reviews
      4: Operator views completion metrics
      5: Operator views customer feedback
    metrics_displayed:
      - average_rating
      - review_count
      - tours_completed
      - cancellation_rate
      - on_time_rate
      - customer_complaints
    postconditions:
      - Performance data displayed
    related_entities: [Guide, TourReview]

  - id: UC-OPR-024
    name: Suspend Guide
    name_vi: Đình chỉ hướng dẫn viên
    description: Operator suspends underperforming guide
    actor: Operator
    preconditions:
      - Valid reason for suspension
    main_flow:
      1: Operator opens guide management
      2: Operator selects guide
      3: Operator initiates suspension
      4: Operator provides reason
      5: System removes guide from assignments
      6: Guide notified of suspension
    suspension_reasons:
      - poor_performance
      - customer_complaints
      - policy_violation
      - license_expired
      - no_show
    postconditions:
      - Guide suspended
      - Future assignments cancelled
    related_entities: [Guide, TourSchedule]

  # ============================================
  # OPERATIONS
  # ============================================
  - id: UC-OPR-030
    name: Monitor Live Tours
    name_vi: Giám sát tour đang diễn ra
    description: Operator monitors tours in progress
    actor: Operator
    preconditions:
      - Tours currently in progress
    main_flow:
      1: Operator opens live dashboard
      2: System displays active tours
      3: Operator views tour status
      4: Operator tracks guide locations
      5: Operator views check-in status
    dashboard_features:
      - tour_list_with_status
      - guide_location_map
      - participant_check_in_count
      - issue_alerts
      - timeline_progress
    postconditions:
      - Real-time visibility
    related_entities: [TourSchedule, Guide]
    related_workflows: [tour-operation-workflow]

  - id: UC-OPR-031
    name: Handle Emergency
    name_vi: Xử lý tình huống khẩn cấp
    description: Operator responds to tour emergency
    actor: Operator
    preconditions:
      - Emergency reported
    main_flow:
      1: Operator receives emergency alert
      2: Operator opens emergency details
      3: Operator contacts guide
      4: Operator coordinates response
      5: Operator documents incident
      6: Operator notifies relevant parties
    emergency_actions:
      - contact_emergency_services
      - arrange_backup_transportation
      - notify_participant_contacts
      - coordinate_with_venue
    postconditions:
      - Emergency handled
      - Incident documented
    business_rules: [BR-SAF-060]
    related_entities: [TourSchedule, Guide]

  - id: UC-OPR-032
    name: Manage Pickup Points
    name_vi: Quản lý điểm đón
    description: Operator configures tour pickup points
    actor: Operator
    preconditions:
      - Tour exists
    main_flow:
      1: Operator opens pickup management
      2: Operator adds pickup point
      3: Operator enters location details
      4: Operator sets pickup time offset
      5: Operator sets capacity/zone
      6: Operator maps to tours
    pickup_details:
      - name
      - address
      - coordinates
      - instructions
      - time_offset
      - capacity
    postconditions:
      - Pickup points configured
    related_entities: [PickupPoint, Tour]

  - id: UC-OPR-033
    name: Send Participant Communication
    name_vi: Gửi thông báo cho người tham gia
    description: Operator sends messages to participants
    actor: Operator
    preconditions:
      - Has bookings
    main_flow:
      1: Operator opens communication center
      2: Operator selects recipient group
      3: Operator composes message
      4: Operator schedules or sends immediately
      5: System delivers messages
    recipient_options:
      - all_upcoming_participants
      - specific_tour_date
      - individual_booking
    message_types:
      - schedule_change
      - weather_advisory
      - reminder
      - promotional
    postconditions:
      - Messages sent
    related_entities: [TourBooking, Participant]

  # ============================================
  # REVIEWS & FEEDBACK
  # ============================================
  - id: UC-OPR-040
    name: View Tour Reviews
    name_vi: Xem đánh giá tour
    description: Operator views and analyzes tour reviews
    actor: Operator
    preconditions:
      - Tours have reviews
    main_flow:
      1: Operator opens reviews dashboard
      2: System displays review summary
      3: Operator filters by tour/rating/date
      4: Operator reads individual reviews
      5: Operator analyzes trends
    analysis_features:
      - rating_distribution
      - sentiment_analysis
      - common_themes
      - comparison_over_time
    postconditions:
      - Reviews analyzed
    related_entities: [TourReview]

  - id: UC-OPR-041
    name: Respond to Review
    name_vi: Phản hồi đánh giá
    description: Operator responds to customer review
    actor: Operator
    preconditions:
      - Review exists
      - Review is published
    main_flow:
      1: Operator opens review
      2: Operator composes response
      3: Operator submits response
      4: System moderates response
      5: Response published
      6: Customer notified
    response_guidelines:
      - professional_tone
      - address_concerns
      - thank_for_feedback
      - no_personal_attacks
    postconditions:
      - Response published
    business_rules: [BR-REV-050, BR-REV-051]
    related_entities: [TourReview]
    related_workflows: [review-workflow]

  - id: UC-OPR-042
    name: Flag Inappropriate Review
    name_vi: Báo cáo đánh giá không phù hợp
    description: Operator flags review for platform review
    actor: Operator
    preconditions:
      - Review violates policies
    main_flow:
      1: Operator opens review
      2: Operator clicks flag option
      3: Operator selects violation type
      4: Operator provides explanation
      5: Platform reviews flag
      6: Decision made on review
    violation_types:
      - false_information
      - not_a_customer
      - inappropriate_content
      - competitor_attack
    postconditions:
      - Review flagged for review
    related_entities: [TourReview]

  # ============================================
  # ANALYTICS & REPORTING
  # ============================================
  - id: UC-OPR-050
    name: View Business Analytics
    name_vi: Xem phân tích kinh doanh
    description: Operator views business performance metrics
    actor: Operator
    preconditions:
      - Has booking history
    main_flow:
      1: Operator opens analytics dashboard
      2: Operator selects date range
      3: System displays KPIs
      4: Operator views revenue metrics
      5: Operator views booking trends
      6: Operator views tour performance
    kpis_displayed:
      - total_revenue
      - total_bookings
      - average_booking_value
      - conversion_rate
      - cancellation_rate
      - customer_satisfaction
    postconditions:
      - Analytics displayed
    related_entities: [TourBooking, Tour]

  - id: UC-OPR-051
    name: Generate Reports
    name_vi: Tạo báo cáo
    description: Operator generates business reports
    actor: Operator
    preconditions:
      - Has data to report on
    main_flow:
      1: Operator opens reports
      2: Operator selects report type
      3: Operator configures parameters
      4: System generates report
      5: Operator views/downloads report
    report_types:
      - revenue_report
      - booking_report
      - guide_performance_report
      - customer_report
      - tax_report
    postconditions:
      - Report generated
    related_entities: [TourBooking, Guide]

  - id: UC-OPR-052
    name: View Competitor Insights
    name_vi: Xem phân tích đối thủ
    description: Operator views market and competitor data
    actor: Operator
    preconditions:
      - Analytics feature enabled
    main_flow:
      1: Operator opens market insights
      2: System displays market overview
      3: Operator views pricing comparison
      4: Operator views demand trends
      5: Operator views seasonal patterns
    insights_provided:
      - average_market_price
      - demand_by_category
      - booking_trends
      - seasonal_patterns
    postconditions:
      - Market insights displayed
    related_entities: [Tour]

  # ============================================
  # ACCOUNT & SETTINGS
  # ============================================
  - id: UC-OPR-060
    name: Manage Operator Profile
    name_vi: Quản lý hồ sơ nhà điều hành
    description: Operator updates company profile
    actor: Operator
    preconditions:
      - Operator account exists
    main_flow:
      1: Operator opens profile settings
      2: Operator updates company information
      3: Operator updates contact details
      4: Operator uploads/updates logo
      5: Operator updates description
      6: System saves changes
    profile_fields:
      - company_name
      - description
      - logo
      - contact_info
      - social_links
      - certifications
    postconditions:
      - Profile updated
    related_entities: [Supplier]

  - id: UC-OPR-061
    name: Configure Payment Settings
    name_vi: Cấu hình thanh toán
    description: Operator configures payout settings
    actor: Operator
    preconditions:
      - Operator account verified
    main_flow:
      1: Operator opens payment settings
      2: Operator enters bank details
      3: Operator sets payout schedule
      4: Operator configures tax information
      5: System validates and saves
    payment_options:
      - bank_account
      - payout_frequency
      - minimum_payout_amount
      - tax_information
    postconditions:
      - Payment settings configured
    related_entities: [Supplier]

  - id: UC-OPR-062
    name: Manage Team Access
    name_vi: Quản lý quyền truy cập
    description: Operator manages team member access
    actor: Operator (Admin)
    preconditions:
      - Has admin privileges
    main_flow:
      1: Operator opens team management
      2: Operator adds new team member
      3: Operator assigns role/permissions
      4: System sends invitation
      5: Team member accepts and onboards
    roles_available:
      - admin
      - booking_manager
      - guide_coordinator
      - finance_viewer
      - support_agent
    postconditions:
      - Team member added
    related_entities: [Supplier]

non_functional_requirements:
  - Dashboard loads < 3 seconds
  - Real-time booking notifications
  - Multi-device responsive design
  - Secure payment data handling
  - Audit trail for all changes
  - Multi-currency support
  - Multi-language support
  - API integration capability

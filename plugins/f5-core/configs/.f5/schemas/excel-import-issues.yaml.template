# F5 Excel Import Schema Template
# Generated: 2024-01-01T00:00:00.000Z
#
# This file defines how to map Excel columns to Jira fields.
# Copy this file and rename to excel-import-{your-name}.yaml
# Edit to customize for your team's Excel format.
#
# Usage: f5 import excel <file.xlsx> --schema {your-name}
# Docs: https://f5-framework.dev/docs/excel-import
#
# Column mapping options:
#   excel: Column letter (A, B, C) or header name
#   jira: Target Jira field name
#   transform: Transformation rule (prefix:, truncate:, etc.)
#   value_mapping: Map values (e.g., "異常": "Bug")
#   required: Whether field is required
#   default: Default value if empty
#

schema_version: "1.0"
name: "template"
description: "Template schema - customize for your Excel format"

# Source configuration
source:
  main_sheet: "Sheet1"        # Name of the main data sheet
  header_row: 1               # Row number containing headers (1-based)
  data_start_row: 2           # First data row (1-based)
  # Optional: detail sheet configuration
  # detail_sheets:
  #   pattern: "No.*"         # Sheet name pattern (regex)
  #   link_column: "External ID"

# Column mappings
column_mapping:
  # External ID - unique identifier for each issue
  - excel: "A"                # Column A or header name like "No"
    jira: "External ID"
    transform: "prefix:ISSUE-"
    required: true

  # Summary - short title (required for Jira)
  - excel: "B"                # Column B or header name like "Title"
    jira: "Summary"
    required: true
    max_length: 255           # Jira limit

  # Description - detailed content
  - excel: "C"
    jira: "Description"
    multiline: true

  # Issue Type - maps to Jira issue types
  - excel: "D"
    jira: "Issue Type"
    value_mapping:
      # Japanese mappings
      "異常": "Bug"
      "バグ": "Bug"
      "不具合": "Bug"
      "改修提案": "Improvement"
      "改善": "Improvement"
      "要望": "Story"
      "機能": "Story"
      "質問": "Task"
      "タスク": "Task"
      "正常": "Task"
      # English mappings
      "Bug": "Bug"
      "Feature": "Story"
      "Enhancement": "Improvement"
      "Task": "Task"
    default: "Task"

  # Priority
  - excel: "E"
    jira: "Priority"
    value_mapping:
      # Japanese
      "高": "High"
      "中": "Medium"
      "低": "Low"
      "緊急": "Highest"
      "最高": "Highest"
      # English
      "High": "High"
      "Medium": "Medium"
      "Low": "Low"
      "Critical": "Highest"
    default: "Medium"

  # Optional fields - uncomment and configure as needed

  # - excel: "F"
  #   jira: "Assignee"
  #
  # - excel: "G"
  #   jira: "Reporter"
  #
  # - excel: "H"
  #   jira: "Due Date"
  #   format: "date"
  #   date_format: "YYYY-MM-DD"
  #
  # - excel: "I"
  #   jira: "Labels"
  #
  # - excel: "J"
  #   jira: "Component"
  #
  # - excel: "K"
  #   jira: "Status"
  #   value_mapping:
  #     "未着手": "To Do"
  #     "対応中": "In Progress"
  #     "完了": "Done"

# Validation rules
validation:
  skip_empty_rows: true
  required_fields:
    - "Summary"
  unique_fields:
    - "External ID"
  max_summary_length: 255

# Output configuration
output:
  format: "csv"              # csv, json, or jira-api
  encoding: "utf-8"
  filename_template: "{source_name}_jira_{date}.csv"
  include_headers: true

# F5 Phase-Feature Mapping
# Version: 1.0.0
# Defines which features activate for which workflow phase

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# STANDARD PHASE DEFINITIONS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Phases are normalized across workflows
# Each workflow maps its phases to these standard phases

standard_phases:
  discovery:
    description: "Research, requirements gathering"
    description_ja: "èª¿æŸ»ã€è¦ä»¶åé›†"
    gates: ["D1"]

  analysis:
    description: "SRS, specifications"
    description_ja: "SRSã€ä»•æ§˜æ›¸ä½œæˆ"
    gates: ["D2"]

  design:
    description: "Architecture, database, API design"
    description_ja: "ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€APIè¨­è¨ˆ"
    gates: ["D3", "D4"]

  implementation:
    description: "Coding, building features"
    description_ja: "ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã€æ©Ÿèƒ½æ§‹ç¯‰"
    gates: ["G2"]

  testing:
    description: "QA, testing, security audit"
    description_ja: "QAã€ãƒ†ã‚¹ãƒˆã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»"
    gates: ["G3"]

  deployment:
    description: "Release, monitoring"
    description_ja: "ãƒªãƒªãƒ¼ã‚¹ã€ç›£è¦–"
    gates: ["G4"]

  maintenance:
    description: "Bug fixes, minor updates"
    description_ja: "ãƒã‚°ä¿®æ­£ã€ãƒã‚¤ãƒŠãƒ¼ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ"
    gates: ["G2", "G3"]

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# PHASE â†’ FEATURE MAPPING
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

phase_features:
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # DISCOVERY PHASE
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  discovery:
    mode:
      recommended: "analytical"
      alternatives: ["planning"]
      reason: "Research requires analytical thinking"
      emoji: "ğŸ”"

    persona:
      recommended: "analyst"
      alternatives: ["architect"]
      reason: "Focus on understanding requirements"
      emoji: "ğŸ“Š"

    agents:
      recommended: []
      optional: ["documenter"]
      pipelines: []
      reason: "Minimal agent use in discovery"

    verbosity:
      level: 4
      reason: "Need detailed explanations during research"

    commands:
      primary:
        - command: "/f5-research"
          description: "Start research phase"
          description_ja: "èª¿æŸ»ãƒ•ã‚§ãƒ¼ã‚ºé–‹å§‹"
        - command: "/f5-ba"
          description: "Business analysis"
          description_ja: "ãƒ“ã‚¸ãƒã‚¹åˆ†æ"
        - command: "/f5-req"
          description: "Requirements gathering"
          description_ja: "è¦ä»¶åé›†"
      secondary:
        - command: "/f5-session checkpoint"
          description: "Save progress"
          description_ja: "é€²æ—ã‚’ä¿å­˜"

    checklist_additions:
      - "Run /f5-selftest before starting"
      - "Set mode: /f5-mode set analytical"
      - "Create session checkpoint after key decisions"

    tips:
      - "Use analytical mode for thorough research"
      - "Document all decisions in .f5/memory/decisions.md"
      - "Create checkpoints after stakeholder meetings"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ANALYSIS PHASE
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  analysis:
    mode:
      recommended: "analytical"
      alternatives: ["planning"]
      reason: "Systematic specification writing"
      emoji: "ğŸ“‹"

    persona:
      recommended: "analyst"
      alternatives: ["architect"]
      reason: "Focus on specifications"
      emoji: "ğŸ“Š"

    agents:
      recommended: ["documenter"]
      optional: ["api_designer"]
      pipelines: []
      reason: "Help with spec documentation"

    verbosity:
      level: 4
      reason: "Detailed specs require comprehensive output"

    commands:
      primary:
        - command: "/f5-spec generate"
          description: "Generate specifications"
          description_ja: "ä»•æ§˜æ›¸ç”Ÿæˆ"
        - command: "/f5-spec validate"
          description: "Validate specifications"
          description_ja: "ä»•æ§˜æ›¸æ¤œè¨¼"
        - command: "/f5-gate check D2"
          description: "Check D2 gate"
          description_ja: "D2ã‚²ãƒ¼ãƒˆç¢ºèª"
      secondary:
        - command: "/f5-agent invoke documenter"
          description: "Generate documentation"
          description_ja: "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ"

    checklist_additions:
      - "Use documenter agent for spec generation"
      - "Validate all specs before D2 gate"
      - "Review with stakeholders"

    tips:
      - "Ensure all requirements have IDs (REQ-XXX)"
      - "Use documenter agent for consistent formatting"
      - "Create traceability matrix early"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # DESIGN PHASE
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  design:
    mode:
      recommended: "planning"
      alternatives: ["analytical", "security"]
      reason: "Strategic architecture decisions"
      emoji: "ğŸ—ï¸"

    persona:
      recommended: "architect"
      alternatives: ["security", "database"]
      reason: "Focus on system design"
      emoji: "ğŸ›ï¸"

    agents:
      recommended: ["api_designer", "documenter"]
      optional: ["security_scanner"]
      pipelines: []
      reason: "Help with API and architecture design"

    verbosity:
      level: 4
      reason: "Design decisions need detailed reasoning"

    commands:
      primary:
        - command: "/f5-design generate"
          description: "Generate design documents"
          description_ja: "è¨­è¨ˆæ›¸ç”Ÿæˆ"
        - command: "/f5-design api"
          description: "API design"
          description_ja: "APIè¨­è¨ˆ"
        - command: "/f5-design database"
          description: "Database design"
          description_ja: "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ"
        - command: "/f5-gate check D3"
          description: "Check D3 gate"
          description_ja: "D3ã‚²ãƒ¼ãƒˆç¢ºèª"
      secondary:
        - command: "/f5-agent invoke api_designer"
          description: "API design assistance"
          description_ja: "APIè¨­è¨ˆæ”¯æ´"
        - command: "/f5-persona activate security"
          description: "Security review"
          description_ja: "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ“ãƒ¥ãƒ¼"

    checklist_additions:
      - "Use api_designer agent for API specs"
      - "Switch to security persona for security design"
      - "Document architecture decisions (ADR)"
      - "Create checkpoint before D3 gate"

    tips:
      - "Consider security from the start"
      - "Document all trade-offs in decisions.md"
      - "Review architecture with senior developers"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # IMPLEMENTATION PHASE
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  implementation:
    mode:
      recommended: "coding"
      alternatives: ["debugging", "security"]
      reason: "Focus on code generation"
      emoji: "ğŸ’»"

    persona:
      recommended: "backend"
      alternatives: ["frontend", "fullstack"]
      reason: "Implementation focus"
      emoji: "âš™ï¸"
      context_detection:
        "*.service.ts": "backend"
        "*.controller.ts": "backend"
        "*.tsx": "frontend"
        "*.vue": "frontend"
        "*.component.ts": "frontend"

    agents:
      recommended: ["code_generator", "test_writer"]
      optional: ["code_reviewer", "security_scanner"]
      pipelines: ["feature_development"]
      reason: "Core development agents"

    verbosity:
      level: 2
      reason: "Code-focused, minimal explanation"

    commands:
      primary:
        - command: "/f5-implement"
          description: "Implement features"
          description_ja: "æ©Ÿèƒ½å®Ÿè£…"
        - command: "/f5-tdd start"
          description: "Start TDD session"
          description_ja: "TDDã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹"
        - command: "/f5-test run"
          description: "Run tests"
          description_ja: "ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ"
        - command: "/f5-gate check G2"
          description: "Check G2 gate"
          description_ja: "G2ã‚²ãƒ¼ãƒˆç¢ºèª"
      secondary:
        - command: "/f5-agent pipeline feature_development"
          description: "Full feature pipeline"
          description_ja: "ãƒ•ãƒ«æ©Ÿèƒ½ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³"
        - command: "/f5-review quick"
          description: "Quick code review"
          description_ja: "ã‚¯ã‚¤ãƒƒã‚¯ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼"

    checklist_additions:
      - "Use TDD mode for new features: /f5-tdd start"
      - "Run feature_development pipeline for complex features"
      - "Create checkpoint after each major feature"
      - "Run /f5-review before committing"

    tips:
      - "Use coding mode for concise output"
      - "Leverage code_generator agent for boilerplate"
      - "Always write tests with test_writer agent"
      - "Regular checkpoints prevent lost work"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # TESTING PHASE
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  testing:
    mode:
      recommended: "debugging"
      alternatives: ["analytical", "security"]
      reason: "Focus on finding and fixing issues"
      emoji: "ğŸ”¬"

    persona:
      recommended: "qa"
      alternatives: ["security", "performance"]
      reason: "Quality assurance focus"
      emoji: "ğŸ§ª"

    agents:
      recommended: ["test_writer", "security_scanner", "performance_analyzer"]
      optional: ["debugger"]
      pipelines: ["code_quality", "security_audit"]
      reason: "Comprehensive testing agents"

    verbosity:
      level: 3
      reason: "Balanced detail for test reports"

    commands:
      primary:
        - command: "/f5-test run --coverage"
          description: "Run tests with coverage"
          description_ja: "ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ããƒ†ã‚¹ãƒˆå®Ÿè¡Œ"
        - command: "/f5-review security"
          description: "Security review"
          description_ja: "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ“ãƒ¥ãƒ¼"
        - command: "/f5-gate check G3"
          description: "Check G3 gate"
          description_ja: "G3ã‚²ãƒ¼ãƒˆç¢ºèª"
      secondary:
        - command: "/f5-agent pipeline security_audit"
          description: "Full security audit"
          description_ja: "ãƒ•ãƒ«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»"
        - command: "/f5-agent invoke performance_analyzer"
          description: "Performance analysis"
          description_ja: "ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ"

    checklist_additions:
      - "Run security_audit pipeline"
      - "Check test coverage meets target (80%)"
      - "Run performance_analyzer for critical paths"
      - "Document all security findings"

    tips:
      - "Use debugging mode when fixing issues"
      - "Switch to security persona for security testing"
      - "Performance analysis before G3 gate"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # DEPLOYMENT PHASE
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  deployment:
    mode:
      recommended: "coding"
      alternatives: ["security"]
      reason: "Focus on deployment scripts"
      emoji: "ğŸš€"

    persona:
      recommended: "devops"
      alternatives: ["security"]
      reason: "Deployment expertise"
      emoji: "ğŸ”§"

    agents:
      recommended: ["security_scanner", "documenter"]
      optional: []
      pipelines: []
      reason: "Final security check and documentation"

    verbosity:
      level: 3
      reason: "Clear deployment instructions"

    commands:
      primary:
        - command: "/f5-deploy staging"
          description: "Deploy to staging"
          description_ja: "ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã«ãƒ‡ãƒ—ãƒ­ã‚¤"
        - command: "/f5-deploy production"
          description: "Deploy to production"
          description_ja: "æœ¬ç•ªã«ãƒ‡ãƒ—ãƒ­ã‚¤"
        - command: "/f5-gate check G4"
          description: "Check G4 gate"
          description_ja: "G4ã‚²ãƒ¼ãƒˆç¢ºèª"
      secondary:
        - command: "/f5-agent invoke documenter"
          description: "Generate release notes"
          description_ja: "ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆç”Ÿæˆ"

    checklist_additions:
      - "Final security scan before production"
      - "Generate release documentation"
      - "Verify rollback plan"
      - "Create deployment checkpoint"

    tips:
      - "Always test on staging first"
      - "Have rollback plan ready"
      - "Monitor after deployment"

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # MAINTENANCE PHASE
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  maintenance:
    mode:
      recommended: "debugging"
      alternatives: ["coding"]
      reason: "Bug fixing focus"
      emoji: "ğŸ”§"

    persona:
      recommended: "backend"
      alternatives: ["frontend", "qa"]
      reason: "Fix issues in specific area"
      emoji: "ğŸ› ï¸"

    agents:
      recommended: ["debugger", "test_writer"]
      optional: ["code_reviewer"]
      pipelines: ["bug_fix"]
      reason: "Bug diagnosis and fixing"

    verbosity:
      level: 3
      reason: "Balanced output for maintenance"

    commands:
      primary:
        - command: "/f5-implement --fix"
          description: "Fix issues"
          description_ja: "å•é¡Œä¿®æ­£"
        - command: "/f5-test run"
          description: "Run tests"
          description_ja: "ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ"
        - command: "/f5-agent pipeline bug_fix"
          description: "Bug fix pipeline"
          description_ja: "ãƒã‚°ä¿®æ­£ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³"
      secondary:
        - command: "/f5-review quick"
          description: "Quick review"
          description_ja: "ã‚¯ã‚¤ãƒƒã‚¯ãƒ¬ãƒ“ãƒ¥ãƒ¼"

    checklist_additions:
      - "Use bug_fix pipeline for systematic fixing"
      - "Always add regression tests"
      - "Update documentation if needed"

    tips:
      - "Reproduce bug first with test"
      - "Check if bug exists in other areas"
      - "Document root cause in learnings.md"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# WORKFLOW â†’ STANDARD PHASE MAPPING
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

workflow_mappings:
  greenfield:
    description: "New project from scratch"
    phases:
      - { name: "Discovery", standard: "discovery" }
      - { name: "Analysis", standard: "analysis" }
      - { name: "Design", standard: "design" }
      - { name: "Implementation", standard: "implementation" }
      - { name: "Testing", standard: "testing" }
      - { name: "Deployment", standard: "deployment" }

  mvp:
    description: "Minimum Viable Product"
    phases:
      - { name: "Define", standard: "discovery" }
      - { name: "Design", standard: "design" }
      - { name: "Build", standard: "implementation" }
      - { name: "Launch", standard: "deployment" }

  poc:
    description: "Proof of Concept"
    phases:
      - { name: "Research", standard: "discovery" }
      - { name: "Prototype", standard: "implementation" }
      - { name: "Validate", standard: "testing" }

  feature-development:
    description: "Adding new features"
    phases:
      - { name: "Design", standard: "design" }
      - { name: "Implement", standard: "implementation" }
      - { name: "Test", standard: "testing" }

  maintenance:
    description: "Bug fixes and updates"
    phases:
      - { name: "Diagnose", standard: "maintenance" }
      - { name: "Fix", standard: "implementation" }
      - { name: "Verify", standard: "testing" }

  legacy-migration:
    description: "Migrating legacy systems"
    phases:
      - { name: "Assessment", standard: "discovery" }
      - { name: "Planning", standard: "analysis" }
      - { name: "Architecture", standard: "design" }
      - { name: "Migration", standard: "implementation" }
      - { name: "Validation", standard: "testing" }
      - { name: "Cutover", standard: "deployment" }

  cloud-migration:
    description: "Migration to cloud"
    phases:
      - { name: "Assessment", standard: "discovery" }
      - { name: "Strategy", standard: "analysis" }
      - { name: "Architecture", standard: "design" }
      - { name: "Migration", standard: "implementation" }
      - { name: "Validation", standard: "testing" }
      - { name: "Go-Live", standard: "deployment" }

  ba:
    description: "Business Analysis workflow"
    phases:
      - { name: "Discovery", standard: "discovery" }
      - { name: "Analysis", standard: "analysis" }
      - { name: "Documentation", standard: "analysis" }

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# CONTEXT OVERRIDES
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

context_overrides:
  # Override based on file being edited
  file_patterns:
    "*.guard.ts":
      persona: "security"
      mode: "security"

    "*.spec.ts":
      persona: "qa"
      mode: "debugging"
      agents: ["test_writer"]

    "*.test.ts":
      persona: "qa"
      mode: "debugging"
      agents: ["test_writer"]

    "*.migration.ts":
      persona: "database"
      agents: ["migrator"]

    "Dockerfile":
      persona: "devops"

    "docker-compose.yml":
      persona: "devops"

    "*.entity.ts":
      persona: "database"

    "*.dto.ts":
      persona: "backend"
      agents: ["api_designer"]

  # Override based on keywords in user message
  keywords:
    security:
      patterns:
        - "auth"
        - "password"
        - "security"
        - "vulnerability"
        - "jwt"
        - "token"
      override:
        mode: "security"
        persona: "security"
        agents: ["security_scanner"]

    performance:
      patterns:
        - "slow"
        - "optimize"
        - "performance"
        - "bottleneck"
        - "cache"
      override:
        mode: "performance"
        agents: ["performance_analyzer"]

    debugging:
      patterns:
        - "bug"
        - "error"
        - "fix"
        - "broken"
        - "not working"
        - "fail"
      override:
        mode: "debugging"
        agents: ["debugger"]

    testing:
      patterns:
        - "test"
        - "coverage"
        - "unit test"
        - "e2e"
        - "integration test"
      override:
        mode: "debugging"
        persona: "qa"
        agents: ["test_writer"]

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# MODE EMOJIS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

mode_emojis:
  analytical: "ğŸ”"
  planning: "ğŸ“‹"
  coding: "ğŸ’»"
  debugging: "ğŸ”¬"
  security: "ğŸ›¡ï¸"
  performance: "âš¡"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# PERSONA EMOJIS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

persona_emojis:
  analyst: "ğŸ“Š"
  architect: "ğŸ›ï¸"
  backend: "âš™ï¸"
  frontend: "ğŸ¨"
  fullstack: "ğŸ”„"
  qa: "ğŸ§ª"
  security: "ğŸ›¡ï¸"
  devops: "ğŸš€"
  database: "ğŸ—„ï¸"
  performance: "âš¡"

# F5 Framework - Automation Configuration
# Merged from: auto-activation.yaml, bootstrap.yaml, agent-invocation.yaml
# Date: 2025-01-27

# ══════════════════════════════════════════════════════════════════════════════
# AUTO-ACTIVATION (from auto-activation.yaml)
# ══════════════════════════════════════════════════════════════════════════════

# F5 Framework Auto-Activation Configuration
# Version: 1.0.0
#
# Agents are auto-activated based on:
# 1. File patterns being edited/viewed
# 2. Keywords in user message
# 3. Current context/activity
# 4. Active quality gates (F5 unique)

auto_activation:
  # Master switch
  enabled: true

  # Show notification when agent activates
  notify: true
  notification_style: "subtle"  # subtle | verbose | silent

  # Priority when multiple agents match
  # Higher priority agents take precedence
  priority_order:
    - security_scanner      # Security first (priority: 100)
    - debugger              # Active issues (priority: 90)
    - code_reviewer         # Quality check (priority: 80)
    - test_writer           # Testing (priority: 70)
    - performance_analyzer  # Performance (priority: 60)
    - code_generator        # Implementation (priority: 50)
    - refactorer            # Improvement (priority: 40)
    - api_designer          # Design (priority: 30)
    - documenter            # Documentation (priority: 20)
    - system_architect      # Architecture (priority: 10)

# ===================================================================
# FILE-BASED ACTIVATION
# ===================================================================

file_activation:
  enabled: true

  # Frontend files
  frontend:
    patterns:
      - "*.tsx"
      - "*.jsx"
      - "*.vue"
      - "*.svelte"
      - "*.astro"
      - "*.css"
      - "*.scss"
      - "*.less"
      - "*.html"
      - "components/**/*"
      - "pages/**/*"
      - "views/**/*"
    agent: frontend
    context: "Frontend development"
    skills:
      - "stacks/frontend/{detected}/skills/"

  # Backend files
  backend:
    patterns:
      - "*.controller.ts"
      - "*.service.ts"
      - "*.repository.ts"
      - "*.resolver.ts"
      - "*Controller.java"
      - "*Service.java"
      - "*.py"
      - "*.go"
      - "*.rs"
      - "*.rb"
      - "*.php"
      - "src/api/**/*"
      - "src/services/**/*"
      - "app/Http/**/*"
    agent: backend
    context: "Backend development"
    skills:
      - "stacks/backend/{detected}/skills/"

  # Test files
  testing:
    patterns:
      - "*.spec.ts"
      - "*.spec.js"
      - "*.test.ts"
      - "*.test.js"
      - "*_test.go"
      - "*_test.py"
      - "test_*.py"
      - "*Test.java"
      - "*.spec.php"
      - "__tests__/**/*"
      - "tests/**/*"
      - "spec/**/*"
    agent: test_writer
    context: "Test file"
    skills:
      - "skills/testing/"
      - "stacks/*/skills/testing/"

  # Security-sensitive files
  security_critical:
    patterns:
      - "**/auth/**/*"
      - "**/authentication/**/*"
      - "**/authorization/**/*"
      - "**/security/**/*"
      - "**/payment/**/*"
      - "**/billing/**/*"
      - "**/crypto/**/*"
      - "**/encryption/**/*"
      - "**/*.key"
      - "**/*.pem"
      - "**/*.env"
      - "**/*.secret*"
    agent: security_scanner
    context: "Security-critical module"
    priority_boost: 50  # Always high priority
    skills:
      - "skills/security/"

  # Infrastructure files
  infrastructure:
    patterns:
      - "Dockerfile"
      - "docker-compose*.yml"
      - "docker-compose*.yaml"
      - "*.tf"
      - "*.tfvars"
      - "k8s/**/*"
      - "kubernetes/**/*"
      - "helm/**/*"
      - ".github/workflows/**/*"
      - ".gitlab-ci.yml"
      - "Jenkinsfile"
      - "azure-pipelines.yml"
    agent: devops
    context: "Infrastructure/DevOps"
    skills:
      - "stacks/infrastructure/{detected}/skills/"

  # Database files
  database:
    patterns:
      - "*.sql"
      - "**/migrations/**/*"
      - "**/seeds/**/*"
      - "**/seeders/**/*"
      - "prisma/**/*"
      - "**/entities/**/*"
      - "**/models/**/*"
    agent: database_expert
    context: "Database"
    skills:
      - "skills/database/"

  # Documentation files
  documentation:
    patterns:
      - "*.md"
      - "*.mdx"
      - "README*"
      - "CHANGELOG*"
      - "docs/**/*"
      - "documentation/**/*"
      - "*.rst"
    agent: documenter
    context: "Documentation"
    skills:
      - "skills/documentation/"

  # API specification files
  api_specs:
    patterns:
      - "openapi*.yaml"
      - "openapi*.json"
      - "swagger*.yaml"
      - "swagger*.json"
      - "*.graphql"
      - "*.gql"
      - "schema.prisma"
    agent: api_designer
    context: "API Specification"
    skills:
      - "skills/api-design/"

# ===================================================================
# KEYWORD-BASED ACTIVATION
# ===================================================================

keyword_activation:
  enabled: true

  # Case-insensitive matching
  case_sensitive: false

  # Require word boundaries (not partial matches)
  word_boundaries: true

  # Priority levels
  levels:
    critical:
      priority: 100
      rules:
        - keywords: ["security vulnerability", "sql injection", "xss", "csrf", "rce", "exploit"]
          agent: security_scanner
          context: "Critical security issue detected"

        - keywords: ["data breach", "leaked", "exposed credentials", "compromised"]
          agent: security_scanner
          context: "Potential security incident"

    high:
      priority: 80
      rules:
        - keywords: ["security", "vulnerability", "owasp", "penetration", "audit"]
          agent: security_scanner
          context: "Security analysis requested"

        - keywords: ["bug", "error", "exception", "crash", "not working", "broken", "fails"]
          agent: debugger
          context: "Bug/Error detected"

        - keywords: ["slow", "performance", "latency", "timeout", "bottleneck", "memory leak"]
          agent: performance_analyzer
          context: "Performance issue detected"

    medium:
      priority: 50
      rules:
        - keywords: ["test", "coverage", "spec", "unit test", "integration test", "e2e"]
          agent: test_writer
          context: "Testing context"

        - keywords: ["review", "check code", "pr review", "code quality"]
          agent: code_reviewer
          context: "Code review context"

        - keywords: ["refactor", "clean up", "improve code", "code smell", "technical debt"]
          agent: refactorer
          context: "Refactoring context"

        - keywords: ["document", "readme", "api docs", "jsdoc", "tsdoc"]
          agent: documenter
          context: "Documentation context"

    low:
      priority: 20
      rules:
        - keywords: ["implement", "create", "build", "develop", "code"]
          agent: code_generator
          context: "Implementation context"

        - keywords: ["design", "architecture", "structure", "pattern"]
          agent: system_architect
          context: "Design context"

        - keywords: ["api", "endpoint", "rest", "graphql", "grpc"]
          agent: api_designer
          context: "API design context"

        - keywords: ["migrate", "upgrade", "update version", "breaking change"]
          agent: migrator
          context: "Migration context"

# ===================================================================
# CONTEXT-BASED ACTIVATION
# ===================================================================

context_activation:
  enabled: true

  rules:
    # PR Review context
    - context_signals:
        - "reviewing PR"
        - "pull request"
        - "code review"
        - "merge request"
      agents: [code_reviewer, security_scanner]
      priority: 70
      message: "PR review mode - activating review agents"

    # Feature implementation context
    - context_signals:
        - "implementing feature"
        - "new feature"
        - "add functionality"
      agents: [code_generator, test_writer]
      priority: 50
      message: "Feature implementation - activating dev agents"

    # Bug fixing context
    - context_signals:
        - "fixing bug"
        - "debugging"
        - "troubleshooting"
        - "investigating issue"
      agents: [debugger, test_writer]
      priority: 80
      message: "Bug fix mode - activating debug agents"

    # Performance optimization context
    - context_signals:
        - "optimizing"
        - "improving performance"
        - "profiling"
      agents: [performance_analyzer, refactorer]
      priority: 60
      message: "Optimization mode - activating performance agents"

    # Security audit context
    - context_signals:
        - "security audit"
        - "penetration test"
        - "security review"
      agents: [security_scanner, code_reviewer]
      priority: 90
      message: "Security audit mode - full security agents active"

    # Refactoring context
    - context_signals:
        - "refactoring"
        - "cleaning up"
        - "improving structure"
      agents: [refactorer, code_reviewer, test_writer]
      priority: 50
      message: "Refactoring mode - quality agents active"

    # Documentation context
    - context_signals:
        - "writing docs"
        - "documenting"
        - "updating readme"
      agents: [documenter]
      priority: 30
      message: "Documentation mode"

# ===================================================================
# GATE-BASED ACTIVATION (F5 UNIQUE)
# ===================================================================

gate_activation:
  enabled: true

  # Check current gate from .f5/gates-status.yaml
  status_file: ".f5/gates-status.yaml"

  gates:
    # Design gates
    D1:
      name: "Research"
      agents: []
      context: "Research phase - gathering information"
      message: "D1 Research phase"

    D2:
      name: "SRS (Requirements)"
      agents: [system_architect]
      context: "Requirements definition"
      message: "D2 SRS phase - architect agent available"

    D3:
      name: "Basic Design"
      agents: [system_architect, api_designer]
      context: "Architecture and API design"
      message: "D3 Basic Design - architecture agents active"
      priority: 60

    D4:
      name: "Detail Design"
      agents: [api_designer, documenter, system_architect]
      context: "Detailed specifications"
      message: "D4 Detail Design - specification agents active"
      priority: 50

    # Implementation gates
    G2:
      name: "Implementation"
      agents: [code_generator, code_reviewer, test_writer]
      context: "Code implementation phase"
      message: "G2 Implementation - development agents active"
      priority: 70
      requirements:
        - "SIP traceability required"
        - "Code must link to requirements"

    G2.5:
      name: "Code Review"
      agents: [code_reviewer, security_scanner, refactorer]
      context: "Code review and quality check"
      message: "G2.5 Review - quality agents active"
      priority: 80

    G3:
      name: "Testing"
      agents: [test_writer, security_scanner, performance_analyzer]
      context: "Testing and quality assurance"
      message: "G3 Testing - QA agents active"
      priority: 75
      requirements:
        - "Coverage >= 80%"
        - "All tests must pass"
        - "Security scan required"

    G4:
      name: "Deployment"
      agents: [security_scanner, documenter, devops]
      context: "Pre-deployment checks"
      message: "G4 Deployment - deployment agents active"
      priority: 90
      requirements:
        - "Final security check"
        - "Documentation complete"
        - "Deployment plan reviewed"

# ===================================================================
# COMBINATION RULES
# ===================================================================

combination_rules:
  # How to handle multiple activation sources
  strategy: "union"  # union | intersection | priority_only

  # Maximum agents to activate simultaneously
  max_concurrent_agents: 3

  # Agent combinations that work well together
  synergies:
    - agents: [security_scanner, code_reviewer]
      boost: 10
      context: "Security-focused review"

    - agents: [code_generator, test_writer]
      boost: 10
      context: "TDD workflow"

    - agents: [refactorer, code_reviewer, test_writer]
      boost: 5
      context: "Safe refactoring with tests"

    - agents: [system_architect, api_designer]
      boost: 10
      context: "System design"

    - agents: [debugger, performance_analyzer]
      boost: 5
      context: "Performance debugging"

  # Agent combinations to avoid (conflicting)
  conflicts:
    - agents: [code_generator, refactorer]
      reason: "Don't generate and refactor simultaneously"
      resolution: "priority"  # Use higher priority agent

    - agents: [documenter, debugger]
      reason: "Focus on one task"
      resolution: "priority"

# ===================================================================
# NOTIFICATION SETTINGS
# ===================================================================

notifications:
  # Show when agent activates
  on_activate:
    enabled: true
    format: "emoji"  # emoji | text | detailed
    examples:
      emoji: "Security agent activated"
      text: "Agent activated: security_scanner"
      detailed: |
        Agent Activated: security_scanner
        Trigger: keyword "security vulnerability"
        Context: Security analysis requested
        Skills loaded: skills/security/, skills/owasp/

  # Show when agent deactivates
  on_deactivate:
    enabled: false

  # Show agent suggestions
  on_suggest:
    enabled: true
    format: |
      Suggested agents: {agents}
      Reason: {reason}
      Activate? Use @f5:{agent} or type 'yes'

# ===================================================================
# LEARNING & ADAPTATION
# ===================================================================

learning:
  enabled: true

  # Track which activations user accepts/rejects
  track_acceptance: true

  # Adjust priorities based on usage
  adapt_priorities: true

  # Store learning data
  data_file: ".f5/activation-learning.yaml"

  # Minimum samples before adapting
  min_samples: 10

# ══════════════════════════════════════════════════════════════════════════════
# BOOTSTRAP (from bootstrap.yaml)
# ══════════════════════════════════════════════════════════════════════════════

# F5 Bootstrap Configuration
# Version: 1.0.0
# This file orchestrates all F5 components on initialization

# ═══════════════════════════════════════════════════════════════
# INITIALIZATION ORDER
# ═══════════════════════════════════════════════════════════════

init_order:
  # Load in this specific order
  sequence:
    1: config          # Load .f5/config.json
    2: mcp             # Connect MCP servers
    3: session         # Restore/create session
    4: mode            # Set behavioral mode
    5: persona         # Activate persona (if applicable)
    6: verbosity       # Set token optimization level
    7: gate_context    # Load current gate context
    8: skills          # Load relevant skills
    9: agents          # Initialize available agents

  # Timeout settings
  timeouts:
    config: 5s
    mcp: 10s
    session: 5s
    default: 3s

  # Continue on failure
  continue_on_failure:
    config: false      # Config is required
    mcp: true          # MCP is optional
    session: true      # Session is optional
    mode: true
    persona: true
    verbosity: true
    gate_context: true
    skills: true
    agents: true

# ═══════════════════════════════════════════════════════════════
# DEFAULT STATE
# ═══════════════════════════════════════════════════════════════

defaults:
  mode: "default"
  persona: "developer"
  verbosity: 3
  auto_mode: true
  auto_persona: true
  session_restore: true

# ═══════════════════════════════════════════════════════════════
# COMPONENT INTERACTION RULES
# ═══════════════════════════════════════════════════════════════

interactions:
  # Mode ↔ Verbosity mapping
  mode_verbosity:
    coding: 2
    creative: 4
    analytical: 4
    teaching: 5
    debugging: 3
    review: 3
    planning: 4
    security: 4
    performance: 3
    default: 3

  # Persona ↔ Mode mapping
  persona_mode:
    architect: planning
    backend: coding
    frontend: coding
    security: security
    qa: analytical
    performance: performance
    devops: coding
    database: analytical
    analyst: analytical
    reviewer: review
    developer: default

  # Gate ↔ Persona mapping
  gate_persona:
    D1: analyst
    D2: analyst
    D3: architect
    D4: architect
    G2: backend      # or frontend based on context
    G3: qa
    G4: devops

  # Agent ↔ Skills mapping
  agent_skills:
    code_generator:
      - "stacks/*/templates/"
      - "stacks/*/skills/architecture/"
    test_writer:
      - "stacks/*/skills/testing/"
      - ".f5/tdd/templates/"
    code_reviewer:
      - "stacks/*/skills/security/"
      - "skills/code-review/"
    security_scanner:
      - "stacks/*/skills/security/"
      - "skills/owasp/"
    documenter:
      - "skills/documentation/"
    api_designer:
      - "stacks/*/skills/api/"
    debugger:
      - "stacks/*/skills/debugging/"
    refactorer:
      - "skills/refactoring/"
    performance_analyzer:
      - "skills/performance/"
    migrator:
      - "skills/migration/"

# ═══════════════════════════════════════════════════════════════
# CONTEXT DETECTION
# ═══════════════════════════════════════════════════════════════

context_detection:
  # Detect from user message
  from_message:
    enabled: true
    priority: 1
    keywords:
      security:
        - "auth"
        - "password"
        - "security"
        - "jwt"
        - "oauth"
        - "encrypt"
        - "vulnerability"
      debugging:
        - "bug"
        - "error"
        - "fix"
        - "issue"
        - "not working"
        - "broken"
      testing:
        - "test"
        - "coverage"
        - "spec"
        - "unit test"
        - "e2e"
      performance:
        - "slow"
        - "optimize"
        - "performance"
        - "fast"
        - "efficient"

  # Detect from file patterns
  from_files:
    enabled: true
    priority: 2
    patterns:
      "*.service.ts": { persona: backend, mode: coding }
      "*.controller.ts": { persona: backend, mode: coding }
      "*.resolver.ts": { persona: backend, mode: coding }
      "*.tsx": { persona: frontend, mode: coding }
      "*.jsx": { persona: frontend, mode: coding }
      "*.vue": { persona: frontend, mode: coding }
      "*.svelte": { persona: frontend, mode: coding }
      "*.spec.ts": { persona: qa, mode: debugging }
      "*.test.ts": { persona: qa, mode: debugging }
      "*.test.js": { persona: qa, mode: debugging }
      "*.entity.ts": { persona: database, mode: coding }
      "*.model.ts": { persona: database, mode: coding }
      "*.migration.ts": { persona: database, mode: coding }
      "Dockerfile": { persona: devops, mode: coding }
      "docker-compose.yml": { persona: devops, mode: coding }
      "*.yaml": { persona: devops, mode: coding }
      "*.tf": { persona: devops, mode: coding }
      "*.guard.ts": { persona: security, mode: security }
      "*.strategy.ts": { persona: security, mode: security }

  # Detect from current gate
  from_gate:
    enabled: true
    priority: 3

# ═══════════════════════════════════════════════════════════════
# STATE PERSISTENCE
# ═══════════════════════════════════════════════════════════════

persistence:
  # What to persist between sessions
  persist:
    - current_gate
    - last_persona
    - last_mode
    - verbosity
    - loaded_skills
    - recent_files
    - decisions

  # Auto-save interval (minutes)
  auto_save_interval: 5

  # Storage location
  storage: ".f5/sessions/"

# ═══════════════════════════════════════════════════════════════
# STARTUP NOTIFICATION
# ═══════════════════════════════════════════════════════════════

startup:
  show_status: true

  # Compact status format
  format: |
    ╔══════════════════════════════════════════════════════════════╗
    ║  F5 Framework Initialized                                     ║
    ╠══════════════════════════════════════════════════════════════╣
    ║  Project: {{project}}     Stack: {{stack}}                   ║
    ║  Gate: {{gate}}           Mode: {{mode_emoji}} {{mode}}      ║
    ║  Persona: {{persona_emoji}} {{persona}}                       ║
    ║  Verbosity: {{verbosity}}/5    Session: {{session_status}}   ║
    ╚══════════════════════════════════════════════════════════════╝

  # Quick format
  quick_format: |
    ✅ F5 Initialized | {{mode_emoji}} {{mode}} | {{persona_emoji}} {{persona}} | {{gate}} | {{skills_count}} skills

# ═══════════════════════════════════════════════════════════════
# AUTO-INITIALIZATION
# ═══════════════════════════════════════════════════════════════

auto_init:
  enabled: true
  trigger_on:
    - first_message
    - f5_command
    - file_share
  mode: quick  # quick or full
  notify: true

# ═══════════════════════════════════════════════════════════════
# MCP CONFIGURATION
# ═══════════════════════════════════════════════════════════════

mcp:
  # Auto-connect these servers
  auto_connect:
    - filesystem
    - git
    - sequential_thinking

  # Optional servers
  optional:
    - postgres
    - playwright
    - context7

  # Connection settings
  connection:
    timeout_seconds: 10
    retry_count: 2

# ═══════════════════════════════════════════════════════════════
# SKILL LOADING
# ═══════════════════════════════════════════════════════════════

skills:
  # Auto-load based on stack
  auto_load_stack_skills: true

  # Auto-load based on persona
  auto_load_persona_skills: true

  # Preload common skills
  preload:
    - "skills/common/"

  # Lazy load these
  lazy_load:
    - "skills/domain-specific/"
    - "skills/advanced/"

# ═══════════════════════════════════════════════════════════════
# LOGGING
# ═══════════════════════════════════════════════════════════════

logging:
  enabled: true
  level: "info"
  log_init_steps: true
  log_state_changes: true
  log_component_load: false

# ══════════════════════════════════════════════════════════════════════════════
# AGENT INVOCATION (from agent-invocation.yaml)
# ══════════════════════════════════════════════════════════════════════════════

# F5 Agent Invocation Configuration
# Version: 1.0.0

invocation:
  # Enable @f5:agent pattern
  enabled: true

  # Prefix for agent invocation
  prefix: "@f5:"

  # Agent aliases
  aliases:
    # Security
    security: security_scanner
    sec: security_scanner
    # System Architecture
    architect: system_architect
    arch: system_architect
    sysarch: system_architect
    # Frontend Architecture
    uiarch: frontend_architect
    fearch: frontend_architect
    fe-architect: frontend_architect
    frontend-architect: frontend_architect
    # Backend/Code Generation
    backend: code_generator
    be: code_generator
    code: code_generator
    # Frontend Code (maps to code_generator for implementation)
    frontend: code_generator
    fe: code_generator
    # QA/Testing
    qa: test_writer
    test: test_writer
    tester: test_writer
    # Debugging
    debug: debugger
    bug: debugger
    # Documentation
    docs: documenter
    doc: documenter
    # Performance
    perf: performance_analyzer
    performance: performance_analyzer
    # Refactoring
    refactor: refactorer
    ref: refactorer
    # API Design
    api: api_designer
    # DevOps Architecture
    devops: devops_architect
    ops: devops_architect
    infra: devops_architect
    cicd: devops_architect
    # Root Cause Analysis
    rca: root_cause_analyst
    investigate: root_cause_analyst
    postmortem: root_cause_analyst
    # Database
    db: database_expert
    database: database_expert
    schema: database_expert
    # Mentor
    mentor: mentor
    teach: mentor
    learn: mentor
    explain: mentor

  # Pattern matching
  patterns:
    # Single agent: @f5:security "instruction"
    single:
      regex: '@f5:(\w+)\s+"([^"]+)"'
      extract:
        agent: $1
        instruction: $2

    # Single agent without quotes: @f5:security review auth
    single_unquoted:
      regex: '@f5:(\w+)\s+(.+)'
      extract:
        agent: $1
        instruction: $2

    # Multi-agent: @f5:security @f5:architect "instruction"
    multi:
      regex: '(?:@f5:(\w+)\s*)+\s+"([^"]+)"'
      extract:
        agents: all_matches
        instruction: last_group

    # With options: @f5:security --deep "instruction"
    with_options:
      regex: '@f5:(\w+)\s+(--\w+(?:\s+\w+)?)+\s+"([^"]+)"'
      extract:
        agent: $1
        options: $2
        instruction: $3

  # Global options
  options:
    --deep:
      description: "Thorough analysis"
      affects: [depth, detail]
    --quick:
      description: "Fast check"
      affects: [depth, speed]
    --fix:
      description: "Auto-fix issues"
      affects: [output, action]
    --coverage:
      description: "Target coverage"
      value_type: number
      default: 80
    --verbose:
      description: "Detailed output"
      affects: [verbosity]

# Auto-activation rules
auto_activation:
  enabled: true

  # File-based activation
  file_triggers:
    - pattern: "*.tsx"
      agent: frontend
      context: "React TypeScript"
    - pattern: "*.vue"
      agent: frontend
      context: "Vue component"
    - pattern: "*.spec.ts"
      agent: qa
      context: "Test file"
    - pattern: "*.test.ts"
      agent: qa
      context: "Test file"
    - pattern: "Dockerfile"
      agent: devops
      context: "Docker"
    - pattern: "**/auth/**"
      agent: security
      context: "Auth module"
    - pattern: "**/payment/**"
      agents: [security, backend]
      context: "Payment - security critical"

  # Keyword triggers
  keyword_triggers:
    high_priority:
      - keywords: [security, vulnerability, owasp, xss, sql injection]
        agent: security
      - keywords: [bug, error, exception, crash, not working]
        agent: debug
      - keywords: [slow, performance, optimize, latency]
        agent: perf
      - keywords: [root cause, incident, postmortem, 5 whys, investigate outage]
        agent: rca

    medium_priority:
      - keywords: [test, coverage, spec, unit test]
        agent: qa
      - keywords: [refactor, clean, improve code]
        agent: refactor
      - keywords: [document, readme, api docs]
        agent: docs
      - keywords: [ci/cd, pipeline, deploy, kubernetes, docker, infrastructure]
        agent: devops
      - keywords: [database, schema, query, index, sql, migration]
        agent: db
      - keywords: [component, state management, accessibility, responsive, ui architecture]
        agent: uiarch

    low_priority:
      - keywords: [explain, teach, learn, how does, why does, tutorial]
        agent: mentor

  # Gate-based activation (F5 unique)
  gate_triggers:
    D3:
      agents: [architect, api, uiarch, db]
      message: "Design phase - architecture agents ready"
    D4:
      agents: [api, docs, db]
      message: "Detail design - documentation agents ready"
    G2:
      agents: [backend, qa, db]
      message: "Implementation phase - code agents active"
    G3:
      agents: [qa, security, perf, rca]
      message: "Testing phase - quality agents active"
    G4:
      agents: [security, docs, devops]
      message: "Deployment phase - final checks"

# F5 Framework - Verbosity Integration System
# Version: 2.0.0
# Purpose: Centralized verbosity control for all commands

version: "2.0.0"

# ============================================================
# VERBOSITY LEVELS
# ============================================================
levels:
  1:
    name: "ultra-concise"
    name_ja: "æœ€å°é™"
    description: "Minimal output - only results"
    symbols_only: true
    show_explanations: false
    show_suggestions: false
    show_progress: false
    target_tokens: "< 200"
    use_case: "Experienced users, CI/CD pipelines"

  2:
    name: "concise"
    name_ja: "ç°¡æ½”"
    description: "Brief output with key information"
    symbols_only: false
    show_explanations: false
    show_suggestions: true
    show_progress: true
    target_tokens: "200-500"
    use_case: "Daily development workflow"

  3:
    name: "balanced"
    name_ja: "æ¨™æº–"
    description: "Standard output with context"
    symbols_only: false
    show_explanations: true
    show_suggestions: true
    show_progress: true
    target_tokens: "500-1000"
    use_case: "Default for most tasks"

  4:
    name: "detailed"
    name_ja: "è©³ç´°"
    description: "Detailed output with explanations"
    symbols_only: false
    show_explanations: true
    show_suggestions: true
    show_progress: true
    show_alternatives: true
    target_tokens: "1000-2000"
    use_case: "Learning, complex tasks"

  5:
    name: "comprehensive"
    name_ja: "å®Œå…¨"
    description: "Full output with all details"
    symbols_only: false
    show_explanations: true
    show_suggestions: true
    show_progress: true
    show_alternatives: true
    show_examples: true
    show_references: true
    target_tokens: "2000+"
    use_case: "Teaching, documentation, audits"

# ============================================================
# DEFAULT MAPPINGS
# ============================================================
defaults:
  global: 3

  by_mode:
    coding: 2
    teaching: 5
    debugging: 3
    security: 4
    creative: 4
    analytical: 4
    planning: 4
    review: 3
    performance: 3

  by_persona:
    architect: 4
    backend: 2
    frontend: 2
    security: 4
    qa: 3
    performance: 3
    devops: 2
    database: 3
    analyst: 4
    reviewer: 3
    developer: 3

  by_gate:
    D1: 4
    D2: 4
    D3: 4
    D4: 3
    G2: 2
    G3: 3
    G4: 3

  by_command:
    f5-init: 3
    f5-load: 2
    f5-status: 2
    f5-gate: 3
    f5-spec: 4
    f5-design: 4
    f5-implement: 2
    f5-test: 3
    f5-tdd: 3
    f5-review: 4
    f5-jira: 2
    f5-tutorial: 5
    f5-analytics: 3
    f5-selftest: 3

# ============================================================
# OUTPUT TEMPLATES
# ============================================================
templates:
  # Level 1: Ultra-Concise
  level_1:
    header: "{icon} {title}"
    section: "â€¢ {content}"
    list_item: "- {item}"
    status: "{symbol}"
    error: "âŒ {code}: {message}"
    success: "âœ… {message}"
    footer: ""

  # Level 2: Concise
  level_2:
    header: "## {icon} {title}"
    section: "### {heading}\n{content}"
    list_item: "- {item}"
    status: "{symbol} {brief}"
    error: "âŒ **{code}**: {message}\n   â†’ {suggestion}"
    success: "âœ… {message}"
    footer: "---\nğŸ’¡ {suggestion}"

  # Level 3: Balanced
  level_3:
    header: "## {icon} {title}\n\n{description}"
    section: "### {heading}\n\n{content}"
    list_item: "- **{key}**: {value}"
    status: "{symbol} **{status}**: {description}"
    error: |
      ### âŒ Error: {code}

      **Message**: {message}
      **Cause**: {cause}
      **Suggestion**: {suggestion}
    success: "### âœ… Success\n\n{message}"
    footer: |
      ---

      **Next Steps**: {suggestions}

  # Level 4: Detailed
  level_4:
    header: |
      # {icon} {title}

      {description}

      ---
    section: |
      ## {heading}

      {content}

    list_item: "- **{key}**: {value}\n  {explanation}"
    status: |
      **{symbol} {status}**

      {description}

      {details}
    error: |
      ## âŒ Error Detected: {code}

      **Message**: {message}

      **Cause**: {cause}

      **Recovery Options**:
      1. {recovery_1}
      2. {recovery_2}

      **Suggestion**: {suggestion}
    success: |
      ## âœ… Success

      {message}

      **Details**:
      {details}
    footer: |
      ---

      ### Next Steps

      {suggestions}

      ### Related Commands

      {related}

  # Level 5: Comprehensive
  level_5:
    header: |
      # {icon} {title}

      {description}

      ## Overview

      {overview}

      ---
    section: |
      ## {heading}

      ### Description

      {content}

      ### Details

      {details}

      ### Examples

      {examples}
    list_item: |
      - **{key}**: {value}
        - Explanation: {explanation}
        - Examples: {examples}
    status: |
      ## {symbol} Status: {status}

      ### Description

      {description}

      ### Current State

      {state}

      ### History

      {history}
    error: |
      ## âŒ Error Detected: {code}

      ### Error Information

      | Field | Value |
      |-------|-------|
      | Code | {code} |
      | Category | {category} |
      | Severity | {severity} |

      ### Message

      {message}

      ### Root Cause

      {cause}

      ### Technical Details

      {technical_details}

      ### Recovery Guide

      **Automatic Recovery**: {auto_recovery}

      **Manual Steps**:
      1. {step_1}
      2. {step_2}
      3. {step_3}

      ### Prevention

      {prevention}

      ### Related Documentation

      - {doc_1}
      - {doc_2}
    success: |
      ## âœ… Operation Successful

      ### Summary

      {message}

      ### Details

      {details}

      ### Impact

      {impact}

      ### Verification

      {verification}
    footer: |
      ---

      ## Next Steps

      ### Immediate Actions

      {immediate}

      ### Recommended Actions

      {recommended}

      ### Related Commands

      {related}

      ### Documentation

      {documentation}

# ============================================================
# SYMBOLS
# ============================================================
symbols:
  status:
    success: "âœ…"
    error: "âŒ"
    warning: "âš ï¸"
    info: "â„¹ï¸"
    pending: "â³"
    in_progress: "ğŸ”„"
    completed: "âœ“"
    blocked: "ğŸš«"

  actions:
    create: "â•"
    update: "ğŸ“"
    delete: "ğŸ—‘ï¸"
    read: "ğŸ“–"
    execute: "â–¶ï¸"
    validate: "ğŸ”"
    deploy: "ğŸš€"
    test: "ğŸ§ª"

  categories:
    config: "âš™ï¸"
    session: "ğŸ“‹"
    gate: "ğŸš§"
    mcp: "ğŸ”Œ"
    skill: "ğŸ¯"
    agent: "ğŸ¤–"
    file: "ğŸ“"
    workflow: "ğŸ”„"

  gates:
    D1: "ğŸ“Š"
    D2: "ğŸ“‹"
    D3: "ğŸ—ï¸"
    D4: "ğŸ“"
    G2: "âš™ï¸"
    G3: "ğŸ§ª"
    G4: "ğŸš€"

# ============================================================
# COMMAND-SPECIFIC OVERRIDES
# ============================================================
command_overrides:
  f5-status:
    level_1:
      format: "single_line"
      template: "{icon} {name}: {gates} | {mode} | {persona}"
    level_2:
      format: "compact"
      sections: ["status", "gates", "suggestions"]
    level_3:
      format: "standard"
      sections: ["header", "config", "gates", "memory", "suggestions"]

  f5-gate:
    level_1:
      format: "symbol_only"
      template: "{gate}: {status_symbol}"
    level_2:
      format: "brief"
      sections: ["gate", "status", "next_action"]
    level_3:
      format: "standard"
      sections: ["gate", "checklist", "dependencies", "suggestions"]

  f5-implement:
    level_1:
      format: "actions_only"
      show_confirmation: false
    level_2:
      format: "brief"
      show_confirmation: true
      show_files_changed: true
    level_3:
      format: "standard"
      show_confirmation: true
      show_files_changed: true
      show_traceability: true

  f5-test:
    level_1:
      format: "results_only"
      template: "{passed}/{total} {symbol}"
    level_2:
      format: "summary"
      sections: ["results", "coverage", "failures"]
    level_3:
      format: "detailed"
      sections: ["results", "coverage", "failures", "suggestions"]

# ============================================================
# DYNAMIC ADJUSTMENT RULES
# ============================================================
dynamic_adjustment:
  # Reduce verbosity in these conditions
  reduce_when:
    - condition: "context_usage > 75%"
      action: "reduce_by_1"
      min_level: 1

    - condition: "repeated_command"
      action: "reduce_by_1"
      min_level: 1

    - condition: "ci_environment"
      action: "set_to_1"

    - condition: "batch_mode"
      action: "set_to_1"

  # Increase verbosity in these conditions
  increase_when:
    - condition: "error_occurred"
      action: "increase_by_1"
      max_level: 4

    - condition: "first_time_command"
      action: "increase_by_1"
      max_level: 4

    - condition: "teaching_mode"
      action: "set_to_5"

    - condition: "user_requested_help"
      action: "set_to_4"

# ============================================================
# I18N TEMPLATES
# ============================================================
i18n:
  en:
    level_names:
      1: "Ultra-Concise"
      2: "Concise"
      3: "Balanced"
      4: "Detailed"
      5: "Comprehensive"

    verbosity_changed: "Verbosity set to {level} ({name})"

    sections:
      overview: "Overview"
      details: "Details"
      examples: "Examples"
      next_steps: "Next Steps"
      suggestions: "Suggestions"
      related: "Related Commands"

  ja:
    level_names:
      1: "æœ€å°é™"
      2: "ç°¡æ½”"
      3: "æ¨™æº–"
      4: "è©³ç´°"
      5: "å®Œå…¨"

    verbosity_changed: "å†—é•·ãƒ¬ãƒ™ãƒ«ã‚’{level}ï¼ˆ{name}ï¼‰ã«è¨­å®šã—ã¾ã—ãŸ"

    sections:
      overview: "æ¦‚è¦"
      details: "è©³ç´°"
      examples: "ä¾‹"
      next_steps: "æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—"
      suggestions: "ææ¡ˆ"
      related: "é–¢é€£ã‚³ãƒãƒ³ãƒ‰"

# ============================================================
# INTEGRATION HOOKS
# ============================================================
hooks:
  pre_command:
    - "check_verbosity_override"
    - "apply_context_adjustment"
    - "load_command_template"

  post_command:
    - "track_verbosity_usage"
    - "update_preference_learning"

  on_error:
    - "increase_verbosity_for_error"
    - "show_recovery_guidance"

# ============================================================
# USAGE TRACKING
# ============================================================
tracking:
  enabled: true
  metrics:
    - "level_usage_frequency"
    - "command_verbosity_preferences"
    - "adjustment_triggers"
    - "user_overrides"

  storage: ".f5/analytics/verbosity-usage.json"
